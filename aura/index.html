<!DOCTYPE html>
<html style="background-color:rgb(0,10,20)">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title id="Head Title">Pium Aura Draw Code</title>
    <link id="pium_aura_draw_code_icon" rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACXUlEQVRYheWXQU8TQRiG56ZICImcjT+Dk2CiJw8ejJcPMNKF7RJWfwBnD1B79bKnJk30sNEYL1USVCpRgkBbC8FETCOJHiShFjWK7raPhy2wtHbbGmhJfJNJZmbnm/eZ3Z0vM0pVCLgITBSLxXvAYyAJzAOLQBrIBJTd54vlmNnyHHeBCeBSpZ/f+DKt05UD5o7jXGih+a6u+ldfagNASSmlVCKRONEGcwBs2+5Qtm13tAvAsqxuZVnWqf8bIB6PdzYa8CAHkgR5djgAtm03DiBLcHvVqw8kYfgQICzL6lbRaLQugGRBMvvtoTmQWZjeaAFACZCVg4miBMgcaMkWAMiKVyp1fR4GXuyDlYBSk+msMYC34BSr+2+tgryCa0nP+IfTnHlDALIO8i4A7jXIS1j/0rw5lHdBIMAHkPcBAMsgC/DL/TeA+m/gE0iuRnAOhtMexNDCUQFswlK+un84C/c/lndDxssRf9PgNMgTcGv8nIEA31yQLZjZqoBag2zB134DkobwcsW4Gc/cCEhYgQA/iyB5WPvum3SjejU3s2WIlG/cHMhzkKe1zQGmpqbqfII8DH4u1zdrT7SbKSUFN1Ig8x5EPTUEIHm4E2C+B+CDaDQf1QU4ah0PgHYeSI4HQDgcbi9ALBY72S6AaDTaqZRSqlAoFOoPP1xtb29/3bsZjYyMnHYc53erzF3XdU3T7DlwPzRNsycSiTzc2dk5MhDHcZzJyclHVeZ+aZrWNT4+fiYUCvWOjo6eMwyjT9f1fl3X+8fGxs43U3Rd7zcMoy8UCvWapnlW07SuSr8/cjRy1G3Mn10AAAAASUVORK5CYII=">
</head>
<body style="background-color:rgb(0,10,20)">

<!-- DOCUMENT MAP --- PLEASE USE N++ NOTEPAD++ OR CODE EDITOR TO EDIT ---

                                        You can search $$$ to teleport to important mark
                                                SEARCH 4..5 # to teleport to main web page UI, where your work START
    # DO NOT SURF THE ORDER

 > CAUTION IMPORTANT NOTE
 > raw resource
 > Javascript Hybrid Java 
 > CLIPBOARD & DENOTE (REMOVE ALL NOTE)
 > canvas-toBlob.js
 > FileSaver.js
 > BASIC JAVASCRIPT FILE PACK
 > App Data Pack
 > FONT PACK
 > d(c,o,s)
 > FILE LITE PACK HYBRID EXPLORER
 > MATH PACK 
 > TIME PACK
 > Converts an RGB color value to HSL  rgbToHsl(r, g, b)
 > COLOR FAST PACK
 > UI SIZE PACK
 > CORRECTING ACCESS DATA PACK
 > onmousewheel(Elem,run,valueWheel,actionScrolling)
 > INITIALIZE PACK 
 > FAST GRAPHIC PATH PACK
 > DRAWING PACK
 > BITMAP IMAGE PACK
 > DISPLAY PACK
 > FAST NOTIFICATION
 > RUNTIME PACK
 > CLASS PACK
 > MOTION PACK
 > SFH TEXT CONVERT PACK
 > FILE SELECTOR LITE PACK
 > SET ADD BLINk
 > SFH   SUNFLOWER HOLOGRAM UI
 > EXECUTE PACK FOR ACTIVITY  gear eval pack
 > MAIN$$$ Main App Page 5#  (or Goto line around 10961 )
 > AURA MINI APP
-->

<script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
   
</script>
    
    <script>
    
    var js_raw=function(){var This=this;
        
    	This.icon="raw/icon.png";
        This.noti_icon="raw/noti_icon.png";
        This.icon_dark="raw/icon_dark.png";
        This.vroll="raw/vroll.png";
        This.hole="raw/hole.png";
        This.new_icon="raw/new_icon.png";
        This.open="raw/open.png";
        This.save="raw/save.png";
        This.save_as="raw/save_as.png";
        This.search="raw/search.png";
        This.undo="raw/undo.png";
        This.redo="raw/redo.png";
        This.copy="raw/copy.png";
        This.cut="raw/cut.png";
        This.paste="raw/paste.png";
        This.insert="raw/insert.png";
        This.bin="raw/bin.png";
        This.info="raw/info.png";
        This.play="raw/play.png";
        This.play_ss="raw/play_ss.png";
        This.faster="raw/faster.png";
        This.next="raw/next.png";
        This.pause="raw/pause.png";
        This.stop="raw/stop.png";
        This.repeat="raw/repeat.png";
        This.shuffle="raw/shuffle.png";
        This.select_sta="raw/select_sta.png";
        This.cursor_select="raw/cursor_select.png";
        This.resolution="raw/resolution.png";
        This.setting="raw/setting.png";
        This.setting_ss="raw/setting_ss.png";
        This.learn="raw/learn.png";
        This.learn_dark="raw/learn_dark.png";
        This.keyboard="raw/keyboard.png";
        This.enter="raw/enter.png";
        This.backspace="raw/backspace.png";
        This.shift_1="raw/shift_1.png";
        This.shift_0="raw/shift_0.png";
        This.lang_bt="raw/lang_bt.png";
        This.bell_on="raw/bell_on.png";
        This.bell_off="raw/bell_off.png";
        This.speaker_1="raw/speaker_1.png";
        This.speaker_0="raw/speaker_0.png";
        This.help_1="raw/help_1.png";
        This.help_0="raw/help_0.png";
        This.add="raw/add.png";
        This.dec="raw/dec.png";
        This.reset="raw/reset.png";
        This.check="raw/check.png";
        This.cross_l="raw/cross_l.png";
        This.cross_m="raw/cross_m.png";
        This.back_l="raw/back_l.png";
        This.back_m="raw/back_m.png";
        This.eye_100="raw/eye_100.png";
        This.eye_75="raw/eye_75.png";
        This.eye_50="raw/eye_50.png";
        This.eye_25="raw/eye_25.png";
        This.eye_0="raw/eye_0.png";
        This.camera="raw/camera.png";
        This.camera_png="raw/camera_png.png";
        This.camera_jpg="raw/camera_jpg.png";
        This.view_light="raw/view_light.png";
        This.view="raw/view.png";
        This.view_dark="raw/view_dark.png";
        This.button_c="raw/button_c.png";
        This.button_c_1="raw/button_c_1.png";
        This.button_c_ring="raw/button_c_ring.png";
        This.button_c_ring_l="raw/button_c_ring_l.png";
        This.button_c_ring_d="raw/button_c_ring_d.png";
        This.button_r="raw/button_r.png";
        This.button_r_ring_l="raw/button_r_ring_l.png";
        This.button_r_ring_d="raw/button_r_ring_d.png";
        This.quantum="raw/quantum.png";
        This.glasses_cool="raw/glasses_cool.png";
        This.ruler_graph_icon="raw/ruler_graph_icon.jpg";
        This.gallery_icon="raw/gallery_icon.png";
        This.apk_icon="raw/apk_icon.png";
        This.blend_icon="raw/blend_icon.png";
        This.bmp_icon="raw/bmp_icon.png";
        This.dll_icon="raw/dll_icon.png";
        This.doc_icon="raw/doc_icon.png";
        This.exe_icon="raw/exe_icon.png";
        This.file_icon="raw/file_icon.png";
        This.folder_icon="raw/folder_icon.png";
        This.html_icon="raw/html_icon.png";
        This.jpg_icon="raw/jpg_icon.png";
        This.mid_icon="raw/mid_icon.png";
        This.mov_icon="raw/mov_icon.png";
        This.mp3_icon="raw/mp3_icon.png";
        This.mp4_icon="raw/mp4_icon.png";
        This.pdf_icon="raw/pdf_icon.png";
        This.png_icon="raw/png_icon.png";
        This.ppt_icon="raw/ppt_icon.png";
        This.py_icon="raw/py_icon.png";
        This.rar_icon="raw/rar_icon.png";
        This.svg_icon="raw/svg_icon.png";
        This.txt_icon="raw/txt_icon.png";
        This.wav_icon="raw/wav_icon.png";
        This.x3d_icon="raw/x3d_icon.png";
        This.xls_icon="raw/xls_icon.png";
        This.xml_icon="raw/xml_icon.png";
        This.zip_icon="raw/zip_icon.png";
        This.px_demo="raw/px_demo.jpg";
        This.muc="raw/muc.jpg";
        This.gung="raw/gung.jpg";
        This.ca="raw/ca.jpg";
        This.rem="raw/rem.jpg";
                
        
    }
    var raw=new js_raw();
    
    </script>
    
    
<script>
Object.prototype.hashCode = function(){
    var hash = 0; var s=this+"";
    for (var i = 0; i < s.length; i++) {
        var character = s.charCodeAt(i);
        hash = ((hash<<5)-hash)+character;
        hash = hash & hash; 
    }
    return hash;
}


Array.prototype.add=function(o){return this.push(o);}
Array.prototype.get=function(o){return this[o];}
Array.prototype.size=function(){return this.length;}
Array.prototype.remove=function(i){this.splice(i,1); return this;}

function chr(n){return String.fromCharCode(n);}
function char(n){return String.fromCharCode(n);}


    function comS(s1,s2){if (s1.length==s2.length){var l=s1.length;for (var i=0;i<l;i++){if (s1.charAt(i)!=s2.charAt(i))return false;}return true;}return false;}
    
    function getVarType(v){
        var z;
        if (v==null){return 'Null'}
        if (v.length!=null){
            if ((v+'').length!=v.length){if(!v.push){return "Function";} return 'Array'}
            if (v.length<2){ v[2]=1; if (!v[2]){return 'String'} v[2]=z;return 'Array' }
            return 'String'
        }
        
        z=v+'';
        if (z=='NaN'){return z}
        if (z=='undefined'){return 'Undefined'}
        if (z=='true' || z=='false'){return 'Bolean'}
        if (z=='[object Object]'){return 'Object'}
        return 'Number'
    }
    function Instanceof(v,sName){return comS(getVarType(v),sName);}

    function clone(view,kChild){if (kChild==null){kChild=true;}var zV=view.cloneNode(kChild);view.ElementMom.appendChild(zV);if (zV.sText==null){zV.sText="";}return zV;}
</script>


<script>
    function copy(obj){navigator.clipboard.writeText(""+obj);}
	function setClipboard(obj){navigator.clipboard.writeText(""+obj);}
	
    function deNote(s){
		var l=s.length; var z; var kIn1=false,kIn2=false,kIn3=false,kIn4=false;
		var s0="";
		for (var i=0;i<l;i++){z=s.charAt(i);
			if (z==chr(39) && !kIn2 && !kIn3 && !kIn4){if (!kIn1){kIn1=true;} else {kIn1=false;}}
			else if (z=='"' && !kIn1 && !kIn3 && !kIn4){if (!kIn2){kIn2=true;} else {kIn2=false;}}
			else if (z=='/' && i<l-1 && s.charAt(i+1)=='/' && !kIn1 && !kIn2 && !kIn4){kIn3=true;i+=1;continue;}
			else if (z==C10 && kIn3 && !kIn1 && !kIn2 && !kIn4){kIn3=false;}
			else if (z=='/' && i<l-1 && s.charAt(i+1)=='*' && !kIn1 && !kIn2 && !kIn3){kIn4=true;i+=1;continue;}
			else if (z=='*' && i<l-1 && s.charAt(i+1)=='/' && !kIn1 && !kIn2 && !kIn3){kIn4=false;i+=1;continue;}
			if (!kIn3 && !kIn4){s0+=z;}
		}
		return s0;
	}
    
    function sShrinkCode(s){
    var l=s.length; var z; var kIn1=false,kIn2=false;
		var s0=""+'"';
		for (var i=0;i<l;i++){z=s.charAt(i);
            if (z=='"'){s0+='"'+'+'+"'"+'"'+"'"+'+'+'"';}
            else if (z==C10){s0+='"'+"+C10+"+'"';}
            else {s0+=z;}
			
			
		}
		return s0+'"';
    }
    function enShrink(s){return sShrinkCode(s);}
    
</script>













<script>







(function(view) {
"use strict";
var
	  Uint8Array = view.Uint8Array
	, HTMLCanvasElement = view.HTMLCanvasElement
	, canvas_proto = HTMLCanvasElement && HTMLCanvasElement.prototype
	, is_base64_regex = /\s*;\s*base64\s*(?:;|$)/i
	, to_data_url = "toDataURL"
	, base64_ranks
	, decode_base64 = function(base64) {
		var
			  len = base64.length
			, buffer = new Uint8Array(len / 4 * 3 | 0)
			, i = 0
			, outptr = 0
			, last = [0, 0]
			, state = 0
			, save = 0
			, rank
			, code
			, undef
		;
		while (len--) {
			code = base64.charCodeAt(i++);
			rank = base64_ranks[code-43];
			if (rank !== 255 && rank !== undef) {
				last[1] = last[0];
				last[0] = code;
				save = (save << 6) | rank;
				state++;
				if (state === 4) {
					buffer[outptr++] = save >>> 16;
					if (last[1] !== 61 ) {
						buffer[outptr++] = save >>> 8;
					}
					if (last[0] !== 61 ) {
						buffer[outptr++] = save;
					}
					state = 0;
				}
			}
		}
		
		
		
		return buffer;
	}
;
if (Uint8Array) {
	base64_ranks = new Uint8Array([
		  62, -1, -1, -1, 63, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1
		, -1, -1,  0, -1, -1, -1,  0,  1,  2,  3,  4,  5,  6,  7,  8,  9
		, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
		, -1, -1, -1, -1, -1, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35
		, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51
	]);
}
if (HTMLCanvasElement && !canvas_proto.toBlob) {
	canvas_proto.toBlob = function(callback, type ) {
		  if (!type) {
			type = "image/png";
		} if (this.mozGetAsFile) {
			callback(this.mozGetAsFile("canvas", type));
			return;
		} if (this.msToBlob && /^\s*image\/png\s*(?:$|;)/i.test(type)) {
			callback(this.msToBlob());
			return;
		}

		var
			  args = Array.prototype.slice.call(arguments, 1)
			, dataURI = this[to_data_url].apply(this, args)
			, header_end = dataURI.indexOf(",")
			, data = dataURI.substring(header_end + 1)
			, is_base64 = is_base64_regex.test(dataURI.substring(0, header_end))
			, blob
		;
		if (Blob.fake) {
			
			blob = new Blob
			if (is_base64) {
				blob.encoding = "base64";
			} else {
				blob.encoding = "URI";
			}
			blob.data = data;
			blob.size = data.length;
		} else if (Uint8Array) {
			if (is_base64) {
				blob = new Blob([decode_base64(data)], {type: type});
			} else {
				blob = new Blob([decodeURIComponent(data)], {type: type});
			}
		}
		callback(blob);
	};

	if (canvas_proto.toDataURLHD) {
		canvas_proto.toBlobHD = function() {
			to_data_url = "toDataURLHD";
			var blob = this.toBlob();
			to_data_url = "toDataURL";
			return blob;
		}
	} else {
		canvas_proto.toBlobHD = canvas_proto.toBlob;
	}
}
}(typeof self !== "undefined" && self || typeof window !== "undefined" && window || this.content || this));
</script>


<script>







var saveAs = saveAs
  || (navigator.msSaveBlob && navigator.msSaveBlob.bind(navigator))
  || (function(view) {
	"use strict";
	var
		  doc = view.document
		  
		, get_URL = function() {
			return view.URL || view.webkitURL || view;
		}
		, URL = view.URL || view.webkitURL || view
		, save_link = doc.createElementNS("http://www.w3.org/1999/xhtml", "a")
		, can_use_save_link = "download" in save_link
		, click = function(node) {
			var event = doc.createEvent("MouseEvents");
			event.initMouseEvent(
				"click", true, false, view, 0, 0, 0, 0, 0
				, false, false, false, false, 0, null
			);
			node.dispatchEvent(event);
		}
		, webkit_req_fs = view.webkitRequestFileSystem
		, req_fs = view.requestFileSystem || webkit_req_fs || view.mozRequestFileSystem
		, throw_outside = function (ex) {
			(view.setImmediate || view.setTimeout)(function() {
				throw ex;
			}, 0);
		}
		, force_saveable_type = "application/octet-stream"
		, fs_min_size = 0
		, deletion_queue = []
		, process_deletion_queue = function() {
			var i = deletion_queue.length;
			while (i--) {
				var file = deletion_queue[i];
				if (typeof file === "string") { 
					URL.revokeObjectURL(file);
				} else { 
					file.remove();
				}
			}
			deletion_queue.length = 0; 
		}
		, dispatch = function(filesaver, event_types, event) {
			event_types = [].concat(event_types);
			var i = event_types.length;
			while (i--) {
				var listener = filesaver["on" + event_types[i]];
				if (typeof listener === "function") {
					try {
						listener.call(filesaver, event || filesaver);
					} catch (ex) {
						throw_outside(ex);
					}
				}
			}
		}
		, FileSaver = function(blob, name) {
			
			var
				  filesaver = this
				, type = blob.type
				, blob_changed = false
				, object_url
				, target_view
				, get_object_url = function() {
					var object_url = get_URL().createObjectURL(blob);
					deletion_queue.push(object_url);
					return object_url;
				}
				, dispatch_all = function() {
					dispatch(filesaver, "writestart progress write writeend".split(" "));
				}
				
				, fs_error = function() {
					
					if (blob_changed || !object_url) {
						object_url = get_object_url(blob);
					}
					if (target_view) {
						target_view.location.href = object_url;
					}
					filesaver.readyState = filesaver.DONE;
					dispatch_all();
				}
				, abortable = function(func) {
					return function() {
						if (filesaver.readyState !== filesaver.DONE) {
							return func.apply(this, arguments);
						}
					};
				}
				, create_if_not_found = {create: true, exclusive: false}
				, slice
			;
			filesaver.readyState = filesaver.INIT;
			if (!name) {
				name = "download";
			}
			if (can_use_save_link) {
				object_url = get_object_url(blob);
				save_link.href = object_url;
				save_link.download = name;
				click(save_link);
				filesaver.readyState = filesaver.DONE;
				dispatch_all();
				return;
			}
			
			
			
			if (view.chrome && type && type !== force_saveable_type) {
				slice = blob.slice || blob.webkitSlice;
				blob = slice.call(blob, 0, blob.size, force_saveable_type);
				blob_changed = true;
			}
			
			
			
			if (webkit_req_fs && name !== "download") {
				name += ".download";
			}
			if (type === force_saveable_type || webkit_req_fs) {
				target_view = view;
			} else {
				target_view = view.open();
			}
			if (!req_fs) {
				fs_error();
				return;
			}
			fs_min_size += blob.size;
			req_fs(view.TEMPORARY, fs_min_size, abortable(function(fs) {
				fs.root.getDirectory("saved", create_if_not_found, abortable(function(dir) {
					var save = function() {
						dir.getFile(name, create_if_not_found, abortable(function(file) {
							file.createWriter(abortable(function(writer) {
								writer.onwriteend = function(event) {
									target_view.location.href = file.toURL();
									deletion_queue.push(file);
									filesaver.readyState = filesaver.DONE;
									dispatch(filesaver, "writeend", event);
								};
								writer.onerror = function() {
									var error = writer.error;
									if (error.code !== error.ABORT_ERR) {
										fs_error();
									}
								};
								"writestart progress write abort".split(" ").forEach(function(event) {
									writer["on" + event] = filesaver["on" + event];
								});
								writer.write(blob);
								filesaver.abort = function() {
									writer.abort();
									filesaver.readyState = filesaver.DONE;
								};
								filesaver.readyState = filesaver.WRITING;
							}), fs_error);
						}), fs_error);
					};
					dir.getFile(name, {create: false}, abortable(function(file) {
						
						file.remove();
						save();
					}), abortable(function(ex) {
						if (ex.code === ex.NOT_FOUND_ERR) {
							save();
						} else {
							fs_error();
						}
					}));
				}), fs_error);
			}), fs_error);
		}
		, FS_proto = FileSaver.prototype
		, saveAs = function(blob, name) {
			return new FileSaver(blob, name);
		}
	;
	FS_proto.abort = function() {
		var filesaver = this;
		filesaver.readyState = filesaver.DONE;
		dispatch(filesaver, "abort");
	};
	FS_proto.readyState = FS_proto.INIT = 0;
	FS_proto.WRITING = 1;
	FS_proto.DONE = 2;
	
	FS_proto.error =
	FS_proto.onwritestart =
	FS_proto.onprogress =
	FS_proto.onwrite =
	FS_proto.onabort =
	FS_proto.onerror =
	FS_proto.onwriteend =
		null;
	
	view.addEventListener("unload", process_deletion_queue, false);
	return saveAs;
}(self));
</script>













<script>



function addInputFile(Elem,run1,run2,autoRead,arrayMode,base,runload,runError){
	
	
	
	
	
	
	
	
	
	
	
	
  	
	
    var fileInput = document.createElement("input");
    fileInput.id=Elem.id+'InputFile';
    fileInput.type='file';
    fileInput.style.visibility='hidden';
    document.body.appendChild(fileInput);
          
                
	Elem.onclick=function(){if (run1 && run1!=''){run1(this);}fileInput.click();};
	
	fileInput.onchange=function(){
		
		if (!this.files || !window.FileReader){if (runError){runError()};alert('The File API are not fully supported by this browser.\n Upgrade your browser to the latest version.');}
		else{
			Elem.files=this.files;
			if (autoRead){
				Elem.valueInputFileData=[Elem.files.length];
				var fileToLoad = [];
				var fileReader = [];
				var lResult=[];
				var iFile=0;
				for (var j=0;j<Elem.valueInputFileData[0];j++){
					if (runload){runload(j+1,Elem.valueInputFileData[0]);}
					fileToLoad[j] = Elem.files[j];
					fileReader[j] = new FileReader();
					lResult[j]=0;
					Elem.valueInputFileData[j+1]=[fileToLoad[j].name,fileToLoad[j].type,fileToLoad[j].size];
					fileReader[j].onload = function(fileLoadedEvent){
						if (arrayMode){
							Elem.valueInputFileData[iFile+1][3]=[fileLoadedEvent.target.result.length];
							if (base){
								if (base==1){base=16}
								for (var i=0;i<Elem.valueInputFileData[iFile+1][3][0];i++){
									Elem.valueInputFileData[iFile+1][3][i+1]=fileLoadedEvent.target.result.charCodeAt(i).toString(base);
								}
								iFile+=1;
							}
							else {
								for (var i=0;i<Elem.valueInputFileData[iFile+1][3][0];i++){
									Elem.valueInputFileData[iFile+1][3][i+1]=fileLoadedEvent.target.result[i];
								}
								iFile+=1;
							}
						}
						else{
							Elem.valueInputFileData[iFile+1][3]='';
							if (base){
								if (base==1){base=16}
								lResult[j]=fileLoadedEvent.target.result.length;
								for (var i=0;i<lResult[j];i++){
									Elem.valueInputFileData[iFile+1][3]+=fileLoadedEvent.target.result.charCodeAt(i).toString(base)+' ';
								}
								iFile+=1;
							}
							else {
								Elem.valueInputFileData[iFile+1][3]=fileLoadedEvent.target.result;
								iFile+=1;
							}
						}
						if (iFile==Elem.valueInputFileData[0]){run2(Elem);}
					}
					if ((autoRead+'').toUpperCase()=='TEXT'){
						fileReader[j].readAsText(fileToLoad[j]);
					}
					else if ((autoRead+'').toUpperCase()=='BIN' || (autoRead+'').toUpperCase()=='BINARY' || (autoRead+'').toUpperCase()=='ANSI'){
						fileReader[j].readAsBinaryString(fileToLoad[j]);
					}
					else if ((autoRead+'').toUpperCase()=='BASE64'){
						fileReader[j].readAsDataURL(fileToLoad[j]);
					}
					else if ((autoRead+'').toUpperCase()=='AUTO'){
						if (fileToLoad[j].type=='text/plain'){fileReader[j].readAsText(fileToLoad[j]);}
						else {fileReader[j].readAsBinaryString(fileToLoad[j]);}
					}
					else {if (getVarType(autoRead)=='String'){fileReader[j].readAsText(fileToLoad[j],autoRead);}else{fileReader[j].readAsText(fileToLoad[j]);}}
				}
			}
			else {run2(Elem);}
		}
	}
    return fileInput;
}




	function splitPath(DatLen,Len){
		var outSplit=[];
		while (DatLen>=Len){
			outSplit.push(Len);DatLen-=Len;
		}
		if (DatLen!=0){outSplit.push(DatLen);}
		return outSplit;
	}	

    var safeSaveLoad=0;
	function safeSave(name,Data,PathLength){
		
        safeSaveLoad=0;		
		if (!PathLength){PathLength=100000;}
		var buffer = new ArrayBuffer(Data.length)
			, temp = new DataView(buffer)
			,n32=Math.floor(Data.length/4)
			,n16=Math.floor((Data.length-n32*4)/2)
			,n8=Data.length-n32*4-n16*2
			,Kkey=0, K=-1
			,APath=splitPath(n32,PathLength)
		;
		if (APath==''){APath=[0]}

		var RunSasa=setInterval(function(){
			if (Kkey==0){Kkey=1;K+=1;}
			for (var i=0;i<APath[K];i++){
				temp.setUint32((i+K*PathLength)*4, Data[(i+K*PathLength)*4]*Math.pow(256,3)+Data[(i+K*PathLength)*4+1]*Math.pow(256,2)+Data[(i+K*PathLength)*4+2]*256+Data[(i+K*PathLength)*4+3]);
			}
			Kkey=0;
			safeSaveLoad=Math.round(1000*(K+1)/APath.length)/1000;
			if (K+1==APath.length){
				clearInterval(RunSasa);
				if (n16!=0){temp.setUint16(n32*4, Data[n32*4]*256+Data[n32*4+1]);}
				if (n8!=0){temp.setUint8(n32*4+n16*2, Data[n32*4+n16*2]);}
				saveAs(new Blob([	buffer	], {type: "binary"}), name);
			}
		},10);
	}

    function toUTF8Array(str) {
        var utf8 = [];
        for (var i=0; i < str.length; i++) {
            var charcode = str.charCodeAt(i);
            if (charcode < 0x80) utf8.push(charcode);
            else if (charcode < 0x800) {
                utf8.push(0xc0 | (charcode >> 6), 
                          0x80 | (charcode & 0x3f));
            }
            else if (charcode < 0xd800 || charcode >= 0xe000) {
                utf8.push(0xe0 | (charcode >> 12), 
                          0x80 | ((charcode>>6) & 0x3f), 
                          0x80 | (charcode & 0x3f));
            }
            
            else {
                i++;
                charcode = ((charcode&0x3ff)<<10)|(str.charCodeAt(i)&0x3ff)
                utf8.push(0xf0 | (charcode >>18), 
                          0x80 | ((charcode>>12) & 0x3f), 
                          0x80 | ((charcode>>6) & 0x3f), 
                          0x80 | (charcode & 0x3f));
            }
        }
        return utf8;
    }
function fromUTF8Array(Arr){return eval("String.fromCharCode(" + Arr + ")");}


</script>






<script>
	
    
    
    var STORAGE_NAME="PIUM_AI_DRAW_";
    
        if (typeof(Storage) !== "undefined") {} else {alert("⚠️⚠️⚠️ C A U T I O N ⚠️⚠️⚠️"+String.fromCharCode(10)+String.fromCharCode(10)+"Your browser not support web storage."+String.fromCharCode(10)+"Therefore, memory on this page will be lost when reload.");}

        
        

    	function saveData(sUser__Data, Data){
            if (Data){ var leDat=Data.length/2; var j=0;
                for (var i=0;i<leDat;i++){j=i*2; localStorage.setItem(STORAGE_NAME+sUser__Data+"_"+Data[j], ""+Data[j+1]); }
            }
            else{saveData("",sUser__Data);}
		}
        
        
		function loadStringData(sUser__SVarName,SVarName){
            if (SVarName){var out=localStorage.getItem(STORAGE_NAME+sUser__SVarName+"_"+SVarName);if (out==null){return ""}return out;}
            else {var out=localStorage.getItem(STORAGE_NAME+"_"+sUser__SVarName);if (out==null){return ""}return out;}
        }
        function loadIntData(sUser__SVarName,SVarName){
            if (SVarName){var out=localStorage.getItem(STORAGE_NAME+sUser__SVarName+"_"+SVarName);if (out==null){return ""}return out*1;}
            else {var out=localStorage.getItem(STORAGE_NAME+"_"+sUser__SVarName);if (out==null){return ""}return out*1;}
        }
    
    
    
</script>

<script>
    

		
		
		
		
		
		
		
		
        var ListFont=[];
                        
        function loadFont(name,url){
            var newStyle = document.createElement('style');
            newStyle.appendChild(document.createTextNode('@font-face{font-family: '+name+'; src: url('+url+');}'));
            document.body.appendChild(newStyle)
        }

        
		class XFont{
			tf=""; name=""; src="";
            constructor(Name,path){this.tf=Name;
				this.name=Name.toUpperCase(); this.src=path;
                loadFont(Name,path);
				
			}
		}
		var ListXFont=[];
		function addXFont(Name,Path){ListXFont.push( new XFont(Name,Path) );}
		function addXFont(Name_Path){
				var l=Math.floor(Name_Path.length/2);
				for (var i=0;i<l;i++){
					ListXFont.push( new XFont(Name_Path[i*2],Name_Path[i*2+1]) );
				}
			}
		function getXFont(Name){
			Name=Name.toUpperCase();
			for (var j=0;j<ListXFont.length;j++){var i=ListXFont[j];
					if (comS(Name,i.name)){return i.tf;}
			}
			return null;
		}
		function getTypeface(SFontName){return getXFont(SFontName);}
		function font(SFontName){return getXFont(SFontName);}
		function getFont(SFontName){return getXFont(SFontName);}
		function addTypeface(Name, Path){ListXFont.push( new XFont(Name,Path) );}
		function addFont(Name, Path){ListXFont.add( new XFont(Name,Path) );}
		
		
		
		
    

        
</script>


<script>
function d(c,o,s){
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        if (c.toUpperCase()=='NUM?'){
                if (o.length==null){return 1}
                if ((o*2+'')!='NaN'){return 1}
                return 0
        }
        else if (c.toUpperCase()=='DIV'){
                return Math.floor(o/s);
        }
        else if (c.toUpperCase()=='MOD'){
                return (o-Math.floor(o/s)*s);
        }
        else if (c.toUpperCase()=='PX'){
                if (d('num?',o)==1){return o}
                return o.substring(0,o.length-2)
        }
        else if (c.toUpperCase()=='%'){
                if (d('num?',o)==1){return o}
                return o.substring(0,o.length-1)
        }
        else if (c.toUpperCase()=='ELEM' || c.toUpperCase()=='ELEMENT'){
                if (getVarType(o)=='String'){return document.getElementById(o)}
                return o;
        }
        
        else if (c.toUpperCase()=='TRFO' || c.toUpperCase()=='SETTRANSFORM'){
                o.style.webkitTransform=s;
                o.style.mozTransform=s;
                o.style.msTransform=s;
                o.style.oTransform=s;
                o.style.transform=s;
        }
        else if (c.toUpperCase()=='PEPE' || c.toUpperCase()=='SETPERSPECTIVE'){
                o.style.webkitPerspective=s;
                o.style.mozPerspective=s;
                o.style.msPerspective=s;
                o.style.oPerspective=s;
                o.style.perspective=s;
        }
        else if (c.toUpperCase()=='EVENT'){
                (function addEvent(Elem,type,run){
                        var typeEvent=[];
                        if (getVarType(type)=='String'){typeEvent=[type,type]} else {typeEvent=type}
                        if (!typeEvent[0]){typeEvent[0]=typeEvent[1]} else if (!typeEvent[1]){typeEvent[1]=typeEvent[0]}
                        if (Elem.addEventListener) {  
                                
                                Elem.addEventListener (typeEvent[0], run, false);
                        }
                        else {
                                if (Elem.attachEvent) {   
                                        
                                        Elem.attachEvent (typeEvent[1], run);
                                }
                        }
                })(o,s[0],s[1]);
        }
        else if (c.toUpperCase()=='MUEV' || c.toUpperCase()=='MULTIEVENT'){
                function addEvent(Elem,type,run){
                        var typeEvent=[];
                        if (getVarType(type)=='String'){typeEvent=[type,type]} else {typeEvent=type}
                        if (!typeEvent[0]){typeEvent[0]=typeEvent[1]} else if (!typeEvent[1]){typeEvent[1]=typeEvent[0]}
                        if (Elem.addEventListener) {  
                                Elem.addEventListener (typeEvent[0], run, false);
                        }
                        else {
                                if (Elem.attachEvent) {   
                                        Elem.attachEvent (typeEvent[1], run);
                                }
                        }
                }
                for (var i=0;i<s.length;i++){
                        addEvent(o,s[i][0],s[i][1]);
                }
        }
        else if (c.toUpperCase()=='READKEY'){
                return (function readKey(e,run){
                        
                        
                        
                        var keynum;
                        if (window.event){ 
                                keynum = e.keyCode;
                        }
                        else{
                                if(e.which){ 
                                        keynum = e.which;
                                }
                        }
                        if (run){run(String.fromCharCode(keynum));}
                        return String.fromCharCode(keynum);
                })(o,s);
        }
        else if (c.toUpperCase()=='EXVA' || c.toUpperCase()=='EXPANDVALUE'){
                for (var i=0;i<s.length;i++){
                        if (getVarType(s[i][1]=='String')){eval('o.'+s[i][0]+'=s[i][1]');}
                        else{eval('o.'+s[i][0]+'='+s[i][1]);}
                }
        }
        else if (c.toUpperCase()=='NEXTDEPTH'){
                window.screenDepth+=1;
                return window.screenDepth;
        }
        else if (c.toUpperCase()=='CARETPOSI' || c.toUpperCase()=='SETCARETPOSITION'){
                (function setCaretPosition(Elem, Position){
                        if (Elem.setSelectionRange){
                                Elem.focus();
                                Elem.setSelectionRange(Position,Position);
                        }
                        else if (Elem.createTextRange) {
                                var range = Elem.createTextRange();
                                range.collapse(true);
                                range.moveEnd('character', Position);
                                range.moveStart('character', Position);
                                range.select();
                        }
                })(o,s);
        }
        else if (c.toUpperCase()=='SETSELECT' || c.toUpperCase()=='SETSELECTION'){
                (function setSelection(value,Elem,fullMode){
                        var value0=value, value1=value;
                        if (value0=='text'){value0='default'}
                        if (fullMode){
                                for (var i=0;i<listElem.length;i++){
                                        if (listElem[i]){
                                                listElem[i].style.webkitTouchCallout=value0;
                                                listElem[i].style.webkitUserSelect=value1;
                                                listElem[i].style.khtmlUserSelect=value1;
                                                listElem[i].style.mozUserSelect=value1;
                                                listElem[i].style.msUserSelect=value1;
                                                listElem[i].style.userSelect=value1;
                                        }
                                }
                        }
                        else{
                                if (!Elem){Elem=document.body}
                                Elem.style.webkitTouchCallout=value0;
                                Elem.style.webkitUserSelect=value1;
                                Elem.style.khtmlUserSelect=value1;
                                Elem.style.mozUserSelect=value1;
                                Elem.style.msUserSelect=value1;
                                Elem.style.userSelect=value1;
                        }
                })(s[0],o,s[1])
        }
        else {dDevelop(c,o,s)}
        
        
        
        
        
}

</script>


























<script>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	var sNeedStoragePermission = "Please Allow Storage Permission"+chr(10)+"And Select Authorize Folder";
		
	var FILE_MODE=0; 
	var FILE_ADMIN=false; 
	
    
	var ROOT="",HYPER_ROOT="";
    
	function FILE_MODE(){return FILE_MODE;}
	
	
	function FILE_ADMIN(){return FILE_ADMIN;}
	function ROOT(){return ROOT;}
	function HYPER_ROOT(){return HYPER_ROOT;}
	
	function FILE_NAME(sPath){ var l=sPath.length; var z; for (var i=l-1;i>-1;i--){z=sPath.charAt(i); if (z=='/'||z==':'){return sPath.substring(i+1,l);}} return sPath; }
	function FOLDER_NAME(sPath){ var l=sPath.length; var z; for (var i=l-1;i>-1;i--){z=sPath.charAt(i); if (z=='/'||z==':'){return sPath.substring(0,i);}} return ""; }
	function FILE_NAME_P1(Name){var l=Name.length; for (var i=l-1;i>-1;i--){if (Name.charAt(i)=='.'){return Name.substring(0,i);}} return Name;}
	function FILE_NAME_P2(Name){var l=Name.length; for (var i=l-1;i>-1;i--){if (Name.charAt(i)=='.'){return Name.substring(i+1,l);}} return "";}
	function S_PATH(Path){return ""+Path;} 
	
	
	
	
	function path(Path){return PATH(Path);}
	function Path(PAth){return PATH(PAth);}
	function PATH(Path){return ""+Path;
		
		
	}
	
	function sNumL18(s){
		var sOut=""; var l0=18-s.length;
		for (var i=0;i<l0;i++){sOut+="0";}
		return sOut+s;
	}
	var js_FileInfo=function(){var This=this;
        This.name; This.type; This.date; This.size;
        This.isDirectory;
        return This;
    }
    var FileInfo=function(){return new js_FileInfo();}
    
	function NEW_FILE(Path, AByteData__Text){
        if (AByteData__Text.push){safeSave(FILE_NAME(Path),AByteData__Text);}
        else {safeSave(FILE_NAME(Path),toUTF8Array(AByteData__Text));}
    }
    
	function SAVE_PNG(bmp){return SAVE_PNG(TIME_STAMP()+".png",bmp);}
	function SAVE_PNG(Path__bmp, bmp){
        if (!bmp){ Path__bmp.toBlob(function(blob){ saveAs(blob, TIME_STAMP()+'.png');} ); }
        else{ bmp.toBlob(function(blob){ saveAs(blob, FILE_NAME(Path__bmp)+'.png');} ); }
    }
    
    
    

  

    
    
    
	
    
    
    
    function SAVE(Path_AByteData_sData_bmp,AByteData_sData){
        if (!AByteData_sData){
            if (Path_AByteData_sData_bmp.push){NEW_FILE(TIME_STAMP()+".dat",Path_AByteData_sData_bmp);}
            else if (Path_AByteData_sData_bmp.width){SAVE_PNG(TIME_STAMP()+".png",Path_AByteData_sData_bmp);}
            else {NEW_FILE(TIME_STAMP()+".txt",Path_AByteData_sData_bmp);}
        }
        else { NEW_FILE(Path_AByteData_sData_bmp,AByteData_sData); }
    }
    
	
	
	
	
	
    
	function S_PATH_MR(Path){return S_PATH(Path);}
	
	function PATH_MR(Path){return PATH(Path);}

	
	
	

</script>











<script>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	function ran(M,N){if (!M&&!N){return Math.random();}else if (!N){return Math.round(Math.random()*M);}else {return Math.round(M+Math.random()*(N-M));}}
	function rnd(M,N){if (!M&&!N){return Math.random();}else if (!N){return Math.round(Math.random()*M);}else {return Math.round(M+Math.random()*(N-M));}}
	function rand(M,N){if (!M&&!N){return Math.random();}else if (!N){return Math.round(Math.random()*M);}else {return Math.round(M+Math.random()*(N-M));}}
	function ranNe(){return Math.random()>0.5?1:-1;}
	function rndNe(){return Math.random()>0.5?1:-1;}
	function randNe(){return Math.random()>0.5?1:-1;}
    
	function getPhi(dx, dy){
		var phi=Math.atan(dy/dx)*180/Math.PI;
		if (dx<0){phi+=180;} else if(dy<0){phi=360+phi;}
		return phi;
	}

    function Div(a, b){if ((a>=0&&b>=0)||(a<0&&b<0)){return Math.floor(a/b);}else {return Math.ceil(a/b);}}
	function Mod(a, b){return a-Div(a,b)*b;}
    

	function logPosi(base,x){
		return Math.log(Math.max(1,x))/Math.log(base);
	}
	function booBinDec(iDec){
                var nBit=Max(0,Math.floor(logPosi(2,iDec)))+1;
				var AOut=[];
				for (var i=0;i<nBit;i++){AOut.push(false);}
				var zDec=0;
				for (var i=nBit-1;i>-1;i--){
						zDec=iDec-Math.pow(2,i);
						if (zDec>0){iDec=zDec; AOut[i]=true;}
						else if (zDec==0){iDec=zDec; AOut[i]=true; break;}
				}
		return AOut;
    }
    function intBinDec(iDec){
				var nBit=Max(0,Math.floor(logPosi(2,iDec)))+1;
				var AOut=[];
				for (var i=0;i<nBit;i++){AOut[i]=0;}
				var zDec=0;
				for (var i=nBit-1;i>-1;i--){
						zDec=iDec-ath.pow(2,i);
						if (zDec>0){iDec=zDec; AOut[i]=1;}
						else if (zDec==0){iDec=zDec; AOut[i]=1; break;}
					}
				return AOut;
    }
    

		
		
		
		
		
		


	function SAint(AIn){
		var SOut="";
		for (var i=0;i<AIn.length;i++){SOut+=AIn[i]+",";}
		return SOut;
	}

	function Factorial(n){
		var ne=1;
		if (n<0){ne=-1;n=-n;}
		var dOut=1;
		for (var i=1;i<=n;i++){dOut=dOut*i;}
		return dOut*ne;
	}
	function Combination(n, r){return Factorial(n)/(Factorial(r)*Factorial(n-r));}
	function Permutation(n, r){return Factorial(n)/Factorial(n-r);}
	function asinh(x){return Math.log(x+Math.sqrt(x*x+1));}
	function acosh(x){return Math.log(x+Math.sqrt(x*x-1));}
	function atanh(x){return 0.5*Math.log((1+x)/(1-x)); }
	function acsch(x){return Math.log((1+Math.sqrt(1+x*x))/x);}
	function asech(x){return Math.log((1+Math.sqrt(1-x*x))/x);}
	function acoth(x){return 0.5*Math.log((x+1)/(x-1)); }
	
	function log(x){return Math.log(x);}
	function log10(x){return Math.log10(x);}
	function log(base,x){return Math.log(x)/Math.log(base);}
	function hypot(x, y){return Math.hypot(x,y);}
	
	function abs(x){if (x<0){return -x;} return x;}
	function sin(x){return Math.sin(x);}
	function cos(x){return Math.cos(x);}
	function tan(x){return Math.tan(x);}
	function cot(x){return 1/Math.tan(x);}
	function csc(x){return 1/Math.sin(x);}
	function sec(x){return 1/Math.cos(x);}
	
	function sinh(x){return Math.sinh(x);}
	function cosh(x){return Math.cosh(x);}
	function tanh(x){return Math.tanh(x);}
	function coth(x){return 1/Math.tanh(x);}
	function csch(x){return 1/Math.sinh(x);}
	function sech(x){return 1/Math.cosh(x);}
	
	function asin(x){return Math.asin(x);}
	function acos(x){return Math.acos(x);}
	function atan(x){return Math.atan(x);}
	function acot(x){return Math.atan(1/x);}
	function acsc(x){return Math.asin(1/x);}
	function asec(x){return Math.acos(1/x);}
	
	function sqr(x){return x*x;}
	function pow(x, y){return Math.pow(x,y);}
	function sqrt(x){return Math.sqrt(x);}
	function root(x, y){return Math.pow(x,1/y);}
	
	function toDEG(x){return x*180/Math.PI;}
	function toRAD(x){return x/180*Math.PI;}
	
	var pi=Math.PI,Pi=pi,PI=pi;
	var e=Math.E, E=e;
    var phi=0.5+sqrt(5)/2, Phi=phi, PHI=phi;
    
    
    function SIN(x){return Math.sin(x/180*PI);}
	function COS(x){return Math.cos(x/180*PI);}
	function TAN(x){return Math.tan(x/180*PI);}
	
	
	
	
	
</script>


<script>
	
		
		
		
        
		
		
		
		
		
		
		
		
		
		
		
		
		function getTime(){
            var dt=new Date();
            return [dt.getFullYear(), (dt.getMonth()+1), dt.getDate(), dt.getDay(),   dt.getHours(), dt.getMinutes(), dt.getSeconds(), dt.getMilliseconds()];
		}
		function digit2c(i){ if (i<10) {return "0"+i;} return ""+i; }
		function digit3c(i){ if (i<10) {return "00"+i;} else if (i<100) {return "0"+i;} return ""+i; }
		function getTimeStamp(){
            var dt=new Date();
            return ""+dt.getFullYear()+ (dt.getMonth()+1)+ dt.getDate()+   dt.getHours()+ dt.getMinutes()+ dt.getSeconds();
		}
		function getTimeStampFriendly(){
            var dt=new Date();
            return ""+dt.getFullYear()+"-"+ (dt.getMonth()+1)+"-"+ dt.getDate()+" "+   dt.getHours()+"°"+ dt.getMinutes()+"'"+ dt.getSeconds()+"''"+digit3c(dt.getMilliseconds());
		}
		function getHourStamp(){
            var dt=new Date();
            return digit2c(dt.getHours())+"h"+ digit2c(dt.getMinutes())+"m"+ digit2c(dt.getSeconds())+"s"+digit3c(dt.getMilliseconds());
		}
		
		function TIME_STAMP(){
            var dt=new Date();
            return ""+dt.getFullYear()+"."+ digit2c(dt.getMonth()+1)+"."+ digit2c(dt.getDate())+  " "+ digit2c(dt.getHours())+ "°"+ digit2c(dt.getMinutes())+ "'"+ digit2c(dt.getSeconds())+"''"+digit3c(dt.getMilliseconds());
		}
        function TIME_LOG(){
            var dt=new Date();
            return ""+dt.getFullYear()+"."+ digit2c(dt.getMonth()+1)+"."+ digit2c(dt.getDate())+  " "+ digit2c(dt.getHours())+ ":"+ digit2c(dt.getMinutes())+ ":"+ digit2c(dt.getSeconds())+"."+digit3c(dt.getMilliseconds());
		}
        function DHM_LOG(){
            var dt=new Date();
            return ""+dt.getFullYear()+"."+ digit2c(dt.getMonth()+1)+"."+ digit2c(dt.getDate())+  " "+ digit2c(dt.getHours())+ ":"+ digit2c(dt.getMinutes());
		}
        function SECOND_LOG(){
            var dt=new Date();
            return digit2c(dt.getSeconds())+"."+digit3c(dt.getMilliseconds());
		}
        
		function TimeMS(){return Date.now();}
		function getTimeMS(){return Date.now();}
        
		function msToDateTime(ms){if (ms.length){ms=ms*1;}
            const dt = new Date(ms);
            return ""+dt.getFullYear()+"/"+ digit2c(dt.getMonth()+1)+"/"+ digit2c(dt.getDate())+" "+   digit2c(dt.getHours())+":"+ digit2c(dt.getMinutes())+":"+ digit2c(dt.getSeconds());
		}
		
		function getTimeMS_MR(){ return Date.now();}
		function getHourStamp_MR(){ return getHourStamp();}
		
		
		

</script>




<script>

function rgbToHsl(r, g, b){
    r /= 255, g /= 255, b /= 255;
    var max = Math.max(r, g, b), min = Math.min(r, g, b);
    var h, s, l = (max + min) / 2;

    if(max == min){
        h = s = 0; 
    }else{
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch(max){
            case r: h = (g - b) / d + (g < b ? 6 : 0); break;
            case g: h = (b - r) / d + 2; break;
            case b: h = (r - g) / d + 4; break;
        }
        h /= 6;
    }

    return [h, s, l];
}


function hslToRgb(h, s, l){
    var r, g, b;

    if(s == 0){
        r = g = b = l; 
    }else{
        function hue2rgb(p, q, t){
            if(t < 0) t += 1;
            if(t > 1) t -= 1;
            if(t < 1/6) return p + (q - p) * 6 * t;
            if(t < 1/2) return q;
            if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;
            return p;
        }

        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        var p = 2 * l - q;
        r = hue2rgb(p, q, h + 1/3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1/3);
    }

    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
}

function getRGBA(co){
    var comCo=document.createElement('div');
	comCo.style.color=co;
	document.body.appendChild(comCo);
	var sCo=window.getComputedStyle(comCo,null).getPropertyValue('color');
	document.body.removeChild(comCo);
	sCo=sCo.substring(sCo.indexOf('(')+1,sCo.indexOf(')')).split(',');
	sCo[0]*=1;sCo[1]*=1;sCo[2]*=1;
	if (sCo.length==4){sCo[3]*=1;} else {sCo[3]=1}
	return sCo
}
function getHSLA(co){
    var comCo=document.createElement('div');
	comCo.style.color=co;
	document.body.appendChild(comCo);
	var sCo=window.getComputedStyle(comCo,null).getPropertyValue('color');
	document.body.removeChild(comCo);
	sCo=sCo.substring(sCo.indexOf('(')+1,sCo.indexOf(')')).split(',');
	sCo[0]*=1;sCo[1]*=1;sCo[2]*=1;
	if (sCo.length==4){sCo[3]*=1;} else {sCo[3]=1}
	var AHsl=rgbToHsl(sCo[0],sCo[1],sCo[2]);
	return [AHsl[0],AHsl[1],AHsl[2],sCo[3]]
}

function HX(s){return s;}

function rgb(r,g,b){return "rgb("+r+","+g+","+b+")";}
function rgba(r,g,b,a){return "rgba("+r+","+g+","+b+","+a+")";}
function rgbA(r,g,b,a){return "rgba("+r+","+g+","+b+","+(a/255)+")";}

function hsl(h,s,l){return "hsl("+h+","+s+"%,"+l+"%)";}
function hsla(h,s,l,a){return "hsla("+h+","+s+"%,"+l+"%,"+a+")";}
function hslA(h,s,l,a){return "hsla("+h+","+s+"%,"+l+"%,"+(a/255)+")";}

</script>




<script>
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
 		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		class js_CL{
            constructor(){}
            T=rgbA(0,0,0,0); W=rgb(255,255,255); b=rgb(0,0,0); g=rgb(128,128,128);
            R=rgb(255,0,0); G=rgb(0,255,0); B=rgb(0,0,255);
			C=rgb(0,255,255); M=rgb(128,0,255); Y=rgb(255,255,0); K=this.b;
			P=rgb(255,0,255); V=this.M; O=rgb(255,128,0);
			a=0.5;
			TW=rgba(255,255,255,this.a); Tb=rgba(0,0,0,this.a); Tg=rgba(128,128,128,this.a); TR=rgba(255,0,0,this.a); TG=rgba(0,255,0,this.a); TB=rgba(0,0,255,this.a); TC=rgba(0,255,255,this.a); TM=rgba(128,0,255,this.a); TY=rgba(255,255,0,this.a); TK=this.b; TP=rgba(255,0,255,this.a); TV=this.M; TO=rgba(255,128,0,this.a);
			replaceA(dA){this.a=dA;
				this.TW=rgba(255,255,255,this.a); this.Tb=rgba(0,0,0,this.a); this.Tg=rgba(128,128,128,this.a); this.TR=rgba(255,0,0,this.a); this.TG=rgba(0,255,0,this.a); this.TB=rgba(0,0,255,this.a); this.TC=rgba(0,255,255,this.a); this.TM=rgba(128,0,255,this.a); this.TY=rgba(255,255,0,this.a); this.TK=this.b; this.TP=rgba(255,0,255,this.a); this.TV=this.M; this.TO=rgba(255,128,0,this.a);
				return this;
			}
			rand(){return hsla(Math.random()*360,100,50,0.5);}
		}
		var CL = new js_CL();
		var COLO = new js_CL();
        
        
            
            
		function SVtoSL(s,v){
				
				s/=100;v/=100;
				var l=v*(1-(s/2));
				var sl=0;
				if ((l!=0)&&(l!=1)){sl=(v-l)/Min(l,1-l);}
				return [sl*100,l*100];
        }
		function SLtoSV(s,l){
				
				s/=100;l/=100;
				var v=l+s*Min(l,1-l);
				var sv=0;
				if (v!=0){sv=2*(1-(l/v));}
				return [sv*100,v*100];
        }
        function hsv(h,s,v){
            var SL=SVtoSL(s,v);
            return "hsl("+h+","+SL[0]+"%,"+SL[1]+"%)";
        }
        function hsva(h,s,v,a){
            var SL=SVtoSL(s,v);
            return "hsla("+h+","+SL[0]+"%,"+SL[1]+"%,"+a+")";
        }
        function hsvA(h,s,v,a){
            var SL=SVtoSL(s,v);
            return "hsla("+h+","+SL[0]+"%,"+SL[1]+"%,"+(a/255)+")";
        }

        
	function ahsla(S_HSLA){var AS=S_HSLA.split(",");
		if (AS.length>3){return [doubleS(AS[0]), doubleS(AS[1]), doubleS(AS[2]), doubleS(AS[3])];}
		return [0,0,0,0];
	}
	function ahsl(S_HSL){var AS=S_HSL.split(",");
		if (AS.length>2){return [doubleS(AS[0]), doubleS(AS[1]), doubleS(AS[2])];}
		return [0,0,0];
	}

</script>










<script>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
    
    class js_TypedValue{
        constructor(){}
        COMPLEX_UNIT_MM=5;
        COMPLEX_UNIT_DIP=1;
        COMPLEX_UNIT_FRACTION=0;
        COMPLEX_UNIT_FRACTION_PARENT=1;
        COMPLEX_UNIT_IN=4;
        COMPLEX_UNIT_MASK=15;
        COMPLEX_UNIT_PT=3;
        COMPLEX_UNIT_PX=0;
        COMPLEX_UNIT_SHIFT=0;
        COMPLEX_UNIT_SP=2;
    }
    var TypedValue=new js_TypedValue();
	var UNIT_MM=TypedValue.COMPLEX_UNIT_MM;
	var UNIT_DIP=TypedValue.COMPLEX_UNIT_DIP;
	var UNIT_FRACTION=TypedValue.COMPLEX_UNIT_FRACTION;
	var UNIT_FRACTION_P=TypedValue.COMPLEX_UNIT_FRACTION_PARENT;
	var UNIT_IN=TypedValue.COMPLEX_UNIT_IN;
	var UNIT_MASK=TypedValue.COMPLEX_UNIT_MASK;
	var UNIT_PT=TypedValue.COMPLEX_UNIT_PT;
	var UNIT_PX=TypedValue.COMPLEX_UNIT_PX;
	var UNIT_SHIFT=TypedValue.COMPLEX_UNIT_SHIFT;
	var UNIT_SP=TypedValue.COMPLEX_UNIT_SP;
	
    var rSize=0.16,rSize1=0.16;
	var LDot=1;
	var UIZoom=1.0;

	var kSyncWithFontSize=0;
	var rSyncFont=0.62; 
	
	var screenW_px=540,screenH_px=960;        
	var screenW_mm=55.0,screenH_mm=98.5;   
	var windowW_px=0,windowH_px=0;
	var windowW_mm=0,windowH_mm=0;
	var PXpMM=3.779,PXpMM1=PXpMM;
	var fixRealRatio=1;

    var statusBarH_px=0;
	var statusBarH_mm=0;
	var statusBarHfixed_px=0;
	var statusBarHfixed_mm=0;
    
    
	

    function cal_PXpMM() {var acLevel=1000;
        var e = document.createElement("div"); e.style.position = "fixed"; e.style.width = acLevel+"mm"; e.style.height = acLevel+"mm"; document.body.appendChild(e);
        var rect = e.getBoundingClientRect(); document.body.removeChild(e); PXpMM=((rect.width/acLevel)+(rect.height/acLevel))/2;
        return PXpMM;
    }

    function loadSize( DRatio){if (!DRatio){DRatio=1;}
        screenW_px=window.innerWidth;  screenH_px=window.innerHeight;
        cal_PXpMM();  PXpMM*=DRatio;
		screenW_mm=screenW_px/PXpMM;  screenH_mm=screenH_px/PXpMM;
        LDot=Math.max(1,(screenW_px+screenH_px)/2500);
        
        PXpMM1=PXpMM;
    }
    
    
    
	
    
    
	function UISize(DRatio){if (!DRatio){DRatio=1;}
		rSize=0.16*2; 
		
		
		
		rSize=rSize*DRatio;
		
	}
	
	
	function UISizing(DSize_FontSize, ItemSize){
        if (!ItemSize){if (!DSize_FontSize){DSize_FontSize=1}; UISize(DSize_FontSize);loadSize(DSize_FontSize);}
        else {UISize(DSize_FontSize);loadSize(ItemSize/DSize_FontSize);}
    }
	


		function mm(n){return PXpMM*n;} 
		function MM(n){return PXpMM1*n;}
		function cm(n){return PXpMM*n*10;}
		function CM(n){return PXpMM1*n*10;}
		function m(n){return PXpMM*n*1000;}
		function M(n){return PXpMM1*n*1000;}
		
		function mm_MR(n){return PXpMM*n;}
		function MM_MR(n){return PXpMM1*n;}
		function cm_MR(n){return PXpMM*n*10;}
		function CM_MR(n){return PXpMM1*n*10;}
		function m_MR(n){return PXpMM*n*1000;}
		function M_MR(n){return PXpMM1*n*1000;}
		


    
    
	var APILevel=24;
	function getAPILevel(){return 24;}
	
	
	

    
</script>














<script>

	
	
	
	
	
	
	
	
	
	
    
    
	function i( i1, i2, i3, i4, i5, i6, i7, i8){
        if (i8){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7),Math.round(i8)];}
        else if (i7){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7)];}
        else if (i6){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6)];}
        else if (i5){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5)];}
        else if (i4){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4)];}
        else if (i3){return[Math.round(i1),Math.round(i2),Math.round(i3)];}
        else if (i2){return[Math.round(i1),Math.round(i2)];}
        else if (i1){
            if (!i1.length){return [Math.round(i1)];}
            else {var AI=[];for (var i=0;i<i1.length;i++){AI.push(Math.round(i1[i]));}return AI;}
        }
        else {return[];}
    }
	function intA( i1, i2, i3, i4, i5, i6, i7, i8){
        if (i8){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7),Math.round(i8)];}
        else if (i7){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7)];}
        else if (i6){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6)];}
        else if (i5){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5)];}
        else if (i4){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4)];}
        else if (i3){return[Math.round(i1),Math.round(i2),Math.round(i3)];}
        else if (i2){return[Math.round(i1),Math.round(i2)];}
        else if (i1){
            if (!i1.length){return [Math.round(i1)];}
            else {var AI=[];for (var i=0;i<i1.length;i++){AI.push(Math.round(i1[i]));}return AI;}
        }
        else {return[];}
    }
	function d( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
	function doubleA( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
	function f( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
	function floatA( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
    function l( i1, i2, i3, i4, i5, i6, i7, i8){
        if (i8){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7),Math.round(i8)];}
        else if (i7){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7)];}
        else if (i6){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6)];}
        else if (i5){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5)];}
        else if (i4){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4)];}
        else if (i3){return[Math.round(i1),Math.round(i2),Math.round(i3)];}
        else if (i2){return[Math.round(i1),Math.round(i2)];}
        else if (i1){
            if (!i1.length){return [Math.round(i1)];}
            else {var AI=[];for (var i=0;i<i1.length;i++){AI.push(Math.round(i1[i]));}return AI;}
        }
        else {return[];}
    }
	function longA( i1, i2, i3, i4, i5, i6, i7, i8){
        if (i8){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7),Math.round(i8)];}
        else if (i7){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6),Math.round(i7)];}
        else if (i6){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5),Math.round(i6)];}
        else if (i5){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4),Math.round(i5)];}
        else if (i4){return[Math.round(i1),Math.round(i2),Math.round(i3),Math.round(i4)];}
        else if (i3){return[Math.round(i1),Math.round(i2),Math.round(i3)];}
        else if (i2){return[Math.round(i1),Math.round(i2)];}
        else if (i1){
            if (!i1.length){return [Math.round(i1)];}
            else {var AI=[];for (var i=0;i<i1.length;i++){AI.push(Math.round(i1[i]));}return AI;}
        }
        else {return[];}
    }
	function o( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
	function ObjectA( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
    function obj( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[d1,d2,d3,d4,d5,d6,d7,d8];}
        else if (d7){return[d1,d2,d3,d4,d5,d6,d7];}
        else if (d6){return[d1,d2,d3,d4,d5,d6];}
        else if (d5){return[d1,d2,d3,d4,d5];}
        else if (d4){return[d1,d2,d3,d4];}
        else if (d3){return[d1,d2,d3];}
        else if (d2){return[d1,d2];}
        else if (d1){
            if (!d1.length){return [d1];}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(d1[i]);}return AI;}
        }
        else {return[];}
    }
    
	
    
    function mmA( d1, d2, d3, d4, d5, d6, d7, d8){
        if (d8){return[MM(d1),MM(d2),MM(d3),MM(d4),MM(d5),MM(d6),MM(d7),MM(d8)];}
        else if (d7){return[MM(d1),MM(d2),MM(d3),MM(d4),MM(d5),MM(d6),MM(d7)];}
        else if (d6){return[MM(d1),MM(d2),MM(d3),MM(d4),MM(d5),MM(d6)];}
        else if (d5){return[MM(d1),MM(d2),MM(d3),MM(d4),MM(d5)];}
        else if (d4){return[MM(d1),MM(d2),MM(d3),MM(d4)];}
        else if (d3){return[MM(d1),MM(d2),MM(d3)];}
        else if (d2){return[MM(d1),MM(d2)];}
        else if (d1){
            if (!d1.length){return MM(d1);}
            else {var AI=[];for (var i=0;i<d1.length;i++){AI.push(MM(d1[i]));}return AI;}
        }
        else {return [];}
    }
    
    
	
    
    
    
	
	
    
	function intS(s){
		var l=s.length,n=0,ne=1;
		for (var i=0;i<l;i++){
			switch (s.charAt(i)){
				case '-':ne*=-1;break;
				case '0':n=n*10;break;
				case '1':n=n*10+1;break;
				case '2':n=n*10+2;break;
				case '3':n=n*10+3;break;
				case '4':n=n*10+4;break;
				case '5':n=n*10+5;break;
				case '6':n=n*10+6;break;
				case '7':n=n*10+7;break;
				case '8':n=n*10+8;break;
				case '9':n=n*10+9;break;
				case '.':return n*ne;
				case ',':return n*ne;
			}
		}
		return n*ne;
	}
	function longS(s){return intS(s);}
    
	function floatS(s){
		if (comS(s,"π")){return Math.PI;}
		else if (comS(s,"e")){return Math.E;}
		var l=s.length,n=0,ne=1,kpo=0,po=1;
		for (var i=0;i<l;i++){
			switch (s.charAt(i)){
				case '-':ne*=-1;break;
				case '0':n=n*10;if (kpo==1){po*=10;};break;
				case '1':n=n*10+1;if (kpo==1){po*=10;};break;
				case '2':n=n*10+2;if (kpo==1){po*=10;};break;
				case '3':n=n*10+3;if (kpo==1){po*=10;};break;
				case '4':n=n*10+4;if (kpo==1){po*=10;};break;
				case '5':n=n*10+5;if (kpo==1){po*=10;};break;
				case '6':n=n*10+6;if (kpo==1){po*=10;};break;
				case '7':n=n*10+7;if (kpo==1){po*=10;};break;
				case '8':n=n*10+8;if (kpo==1){po*=10;};break;
				case '9':n=n*10+9;if (kpo==1){po*=10;};break;
				case '.':kpo=1;
				case ',':kpo=1;
			}
		}
		return (n*ne)/po;
	}
    
	function simpleDoubleS(s){
		if (comS(s,"π")){return Math.PI;}
		else if (comS(s,"e")){return Math.E;}
		var l=s.length,n=0,ne=1,kpo=0,po=1;
		for (var i=0;i<l;i++){
			switch (s.charAt(i)){
				case '-':ne*=-1;break;
				case '0':n=n*10;if (kpo==1){po*=10;}break;
				case '1':n=n*10+1;if (kpo==1){po*=10;}break;
				case '2':n=n*10+2;if (kpo==1){po*=10;}break;
				case '3':n=n*10+3;if (kpo==1){po*=10;}break;
				case '4':n=n*10+4;if (kpo==1){po*=10;}break;
				case '5':n=n*10+5;if (kpo==1){po*=10;}break;
				case '6':n=n*10+6;if (kpo==1){po*=10;}break;
				case '7':n=n*10+7;if (kpo==1){po*=10;}break;
				case '8':n=n*10+8;if (kpo==1){po*=10;}break;
				case '9':n=n*10+9;if (kpo==1){po*=10;}break;
				case '.':kpo=1;break;
				case ',':kpo=1;
			}
		}
		return (n*ne)/po;
	}
	function SnoDeg(s){
		var SOut=""; var z;
		for (var i=0;i<s.length;i++){
			z=s.charAt(i);
			if ((z!='°')&&(z!='"')&&(z!="'")){SOut+=z;}
		}
		return SOut;
	}
    function doubleS(s){
		if ((s.length==0)||(s.charAt(0)=='E')){return 0;}
		if (comS(s,"π")){return Math.PI;}
		else if (comS(s,"e")){return Math.E;}
		
		var l=s.length;
		
		var cutE=-1;var sE="";var iE=1;
		for (var i=l-1;i>-1;i--){if (s.charAt(i)=='E'){cutE=i;break;}}
		if (cutE>-1){
			if (cutE<l-1){iE=Math.pow(10,simpleDoubleS(s.substring(cutE+1,l)));}
			s=s.substring(0,cutE);
		}
		if (s.charAt(0)=='-'){iE*=-1.0;s=s.substring(1,s.length);}
		l=s.length;

		var SCutDeg = [];
		var ii=-1; var z;
		for (var i=0;i<l;i++){
			z=s.charAt(i);
			if ((z=='°')||(z=='"')||(z=="'")||(i==l-1)){
				if ((SCutDeg.length<2)&&(i<l-1)){
					SCutDeg.push(s.substring(ii+1,i));ii=i;
				}
				else {SCutDeg.push(SnoDeg(s.substring(ii+1,l)));break;}
			}
		}
		if (SCutDeg.length>=3){return ((simpleDoubleS(SCutDeg[0])+(simpleDoubleS(SCutDeg[1])/60.0)+(simpleDoubleS(SCutDeg[2])/3600.0) )) * iE; }
		else if (SCutDeg.length==2){return ((simpleDoubleS(SCutDeg[0])+(simpleDoubleS(SCutDeg[1])/60.0) )) * iE; }
		else if (SCutDeg.length==1){return simpleDoubleS(SCutDeg[0]) * iE; }
		else {return 0;}
	}
	
	function toDeg(i){
		var ne=""; if (i<0){ne="-";i=-i;}
		var S=""+i;
		var lS=S.length;
		var S0=S,SE="";
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='E'){
				S0=S.substring(0,ii);
				SE=S.substring(ii,lS);
				break;
			}
		}
		i=doubleS(S0);
		var n0=Math.floor(i);
		var n1=(i-n0)*60.0;
		var n2=Math.floor(n1);
		n1=(n1-n2)*60;
		return ne+(n0)+"°"+(n2)+"'"+n1+'"'+SE;
	}
    
    
	function shiftDot(S,n){if (n==0){return S;}
		var ne="";
		if ((S.length>0)&&(S.charAt(0)=='-')){S=S.substring(1,S.length);ne="-";}
		var S1=S,SD="";
		var lS=S.length;
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='.'){
				S1=S.substring(0,ii);
				SD=S.substring(ii+1,lS);
				break;
			}
		}
		if (n>0){
			for (var i=0;i<n;i++){
				if (i<SD.length){S1+=SD.charAt(i);}
				else{S1+="0";}
			}
			if (n<SD.length){S1+="."+SD.substring(n,SD.length);}
			return ne+S1;
		}
		else {n=-n;
			if (n==S1.length){return "0."+S1+SD;}
			else if (n>S1.length){
				var SOut="0.";
				for (var i=0;i<n-S1.length;i++){SOut+="0";}
				return ne+SOut+S1+SD;
			}
			else {
				return ne+S1.substring(0,S1.length-n)+"."+S1.substring(S1.length-n,S1.length)+SD;
			}
		}
	}
	function solveEXP(S){
		var S0=S,SE="";
		var lS=S.length;
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='E'){
				S0=S.substring(0,ii);
				SE=S.substring(ii,lS);
				break;
			}
		}
		var nE=simpleDoubleS(SE);
		return shiftDot(S0,nE);
	}
    
	
    function ShiftEXP(S,n){
		var S0=S,SE="";
		var lS=S.length;
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='E'){
				S0=S.substring(0,ii);
				SE=S.substring(ii,lS);
				break;
			}
		}
		var nE=simpleDoubleS(SE);
		return shiftDot(S0,n)+(nE-n!=0?("E"+(nE-n)):"");
	}
    function getTailNum(S){
		var lS=S.length;
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='E'){
				S=S.substring(0,ii);
			}
		}
		for (var ii=0;ii<S.length;ii++){
			if (S.charAt(ii)=='.'){
				return S.substring(ii+1,S.length);
			}
		}
		return "";
	}
	function getEXP(S){
		var lS=S.length;
		for (var ii=lS-1;ii>-1;ii--){
			if (S.charAt(ii)=='E'){
				return intS(S.substring(ii+1,lS));
			}
		}
		return 0;
	}
	function getHeadInt(S){
		for (var ii=0;ii<S.length;ii++){
			if (S.charAt(ii)=='.'){
				return intS(S.substring(0,ii));
			}
		}
		return 0;
	}
	function extractDoubleEPosi(num){
		var ne=""; if (num<0){ne="-";num=-num;}
		var SOut="";
		var S=""+num;
		var crEXP=getEXP(S),iEXP=crEXP,stEXP=0;
		var crI=getHeadInt(S);
		if (crEXP<=0){return S;}
		while (crEXP>0){
			SOut+=crI;
			num=num-(crI*Math.pow(10,crEXP));
			S=""+num;
			crEXP=getEXP(S);
			crI=getHeadInt(S);
			stEXP=iEXP-crEXP;
			if (crEXP>0){
				if (stEXP>1){for (var i=1;i<stEXP;i++){SOut+="0";}}
			}
			else if (stEXP>1){
				var lcrI=(""+crI).length;if (crI==0){lcrI=0;}
				var SDot=".";
				for (var i=1;i<stEXP-lcrI;i++){
					SOut+="0";
					if (i==iEXP){SOut+=".";SDot="";}
				}
				SOut+=crI;
				SOut+=SDot+getTailNum(S);
			}
			iEXP=crEXP;
		}
		return ne+SOut;
	}

	function SNumL5(S){
		var l=S.length;
		if (l>=5){return S;}
		else {return ("00000").substring(0,5-l)+S;}
	}
	
    function ArrayList(iType){return [];}
    	


	function round(x){return Math.round(x);}
	function Round(x){return Math.round(x);}
	function floor(x){return Math.floor(x);}
	function ceil(x){return Math.ceil(x);}
	
    function min(v1,v2){if (v1<v2){return v1;}return v2;}
	function max(v1,v2){if (v1>v2){return v1;}return v2;}
		
	function Min(v1,v2){if (v1<v2){return v1;}return v2;}
	function Max(v1,v2){if (v1>v2){return v1;}return v2;}
	
	function MIN(v1,v2){if (v1<v2){return v1;}return v2;}
	function MAX(v1,v2){if (v1>v2){return v1;}return v2;}
    
    
	
	
	
	

</script>







<script>
function onmousewheel(Elem,run,valueWheel,actionScrolling){
	
	
	
	
	
	
	
	
	
	
    if (valueWheel==null){valueWheel=1;} if (actionScrolling==null){actionScrolling=0;}
	var mousewheelevt=(/Firefox/i.test(navigator.userAgent))? "DOMMouseScroll" : "mousewheel" 
	if (Elem.attachEvent) 
		Elem.attachEvent("on"+mousewheelevt,function(e){
			if (valueWheel && (valueWheel==1 || (valueWheel+'').toUpperCase()=='ON' || valueWheel==true)){
				Elem.valueMouseWheel=1;
				Elem.valueWheelDelta=getWheelDelta(e);
			}
			run(e);
			if (actionScrolling && (actionScrolling==0 || (actionScrolling+'').toUpperCase()=='OFF' || actionScrolling==false)){
				var evt=window.event || e
				if (evt.preventDefault)	evt.preventDefault()
				else return false
			}
		})
	else if (Elem.addEventListener) 
		Elem.addEventListener(mousewheelevt,function(e){
			if (valueWheel && (valueWheel==1 || (valueWheel+'').toUpperCase()=='ON' || valueWheel==true)){
				Elem.valueMouseWheel=1;
				Elem.valueWheelDelta=getWheelDelta(e);
			}
			run(e);
			if (actionScrolling && (actionScrolling==0 || (actionScrolling+'').toUpperCase()=='OFF' || actionScrolling==false)){
				var evt=window.event || e
				if (evt.preventDefault)	evt.preventDefault()
				else return false
			}
		}, false)
}
function getWheelDelta(e){
		var evt=window.event || e
		var delta=evt.detail? evt.detail*(-120) : evt.wheelDelta
		return (delta)
}

</script>











<script>


        
		var ERUN=function(){};
		var E10=chr(10), E9=chr(9), E39=chr(39);
		var EAO=[];
        
		
		var C10=chr(10), C9=chr(9), C39=chr(39), C34=chr(34);
		var S10=chr(10), S9=chr(9), S34='"', S39=chr(39);
		var SC10=chr(10), SC9=chr(9), SC34='"', SC39=chr(39);
        
	
		var Rat=[];
		var Rat1=[-1,-1];
		var Rat2=[-1,-1];
		var Rat3=[-1,-1];
		var Rat4=[-1,-1];
		var Rat5=[-1,-1];
		var Rat6=[-1,-1];
		var Rat7=[-1,-1];
		var Rat8=[-1,-1];
		var Rat9=[-1,-1];
		var Rat10=[-1,-1];
        function loadRatTouch(e){e.preventDefault();
            for (var i = 0; i < e.touches.length; i++) {
                    Rat.push(e.touches[i].pageX); Rat.push(e.touches[i].pageY);
                    if (i==0){Rat1=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==1){Rat2=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==2){Rat3=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==3){Rat4=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==4){Rat5=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==5){Rat6=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==6){Rat7=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==7){Rat8=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==8){Rat9=[e.touches[i].pageX,e.touches[i].pageY];}
                    else if (i==9){Rat10=[e.touches[i].pageX,e.touches[i].pageY];}
            }
        }
   		function RatRun(view, RDown, RUp, RMove){
            if ((!RUp)&&(!RMove)){
                if (!RDown){
                    view.style.pointerEvents="none";
                    
                    
                }
                else {RatRun(view,ERUN,RDown,ERUN);}
            }
            else if (RUp){
                Rat=[];
                Rat1=[-1,-1];
                Rat2=[-1,-1];
                Rat3=[-1,-1];
                Rat4=[-1,-1];
                Rat5=[-1,-1];
                Rat6=[-1,-1];
                Rat7=[-1,-1];
                Rat8=[-1,-1];
                Rat9=[-1,-1];
                Rat10=[-1,-1];
                
                view.onclick=function(e){
                    
                    
                }
                view.onmousedown=function(e){ Rat1=[e.pageX,e.pageY]; RDown(); e.stopPropagation();}
                view.onmouseup=function(e){ Rat1=[e.pageX,e.pageY]; RUp(); e.stopPropagation();}
                view.onmousemove=function(e){ Rat1=[e.pageX,e.pageY]; RMove(); e.stopPropagation();}

                view.ontouchstart=function(e) { loadRatTouch(e); RDown(); e.stopPropagation();}
                view.ontouchend=function(e) {e.preventDefault();loadRatTouch(e);
                    RUp(); e.stopPropagation();
                }
                view.ontouchmove=function(e) { loadRatTouch(e); RMove(); e.stopPropagation();}
                
            }
		}
        function RatHover(view, ROver, ROut){
            view.onmouseover=function(e){ Rat1=[e.pageX,e.pageY]; ROver(); e.stopPropagation();}
            view.onmouseout=function(e){ Rat1=[e.pageX,e.pageY]; ROut(); e.stopPropagation();}
        }
		

        

        
        function removePadding(view){ view.style.paddingLeft=0; view.style.paddingTop=0; view.style.paddingRight=0; view.style.paddingBottom=0; }
        function removeMargin(view){ view.style.marginLeft=0; view.style.marginTop=0; view.style.marginRight=0; view.style.marginBottom=0; }
    
        var body,bodySig,bodyTraceSig,bodyHidden;
		function Body(){
				getAPILevel();
				removePadding(document.body);
                removeMargin(document.body);
				body = document.createElement("div"); body.style.position = "fixed"; body.style.width = "100%"; body.style.height = "100%"; document.body.appendChild(body);
                eLay(body,[]);
                addFrameCommand(body);
                
                bodyHidden=aFrLay(body,["bacolo",CL.TC,"lapa",[1,1,GRA.LT],"scr",2,"tx",-10]);
                
                bodySig = document.createElement("div"); bodySig.style.position = "fixed"; bodySig.style.width = "100%"; bodySig.style.height = "100%"; document.body.appendChild(bodySig);
                eLay(bodySig,[]);
                RatRun(bodySig);
                
				bodym=(new Sig()).add(bodySig,"").hide();
                bodyM=(new SigH()).add(bodySig,"").y(200).hide();
                
                bodyTraceSig=TraceSig().create(bodySig);
                bodyTraceSig.SigH.y(100);
                
    

				loadScreenSize();
				loadBodySize();
                
				RatRun(body,ERUN,ERUN,ERUN);
				        
				UISizing(1);
				
			return body;
		}




        

		var screenM;
		var screenm;
		var bodyM,bodym;
		var bodyW=0,bodyH=0;
		var screenW=0,screenH=0;
		function getScreenWidth() {return window.innerWidth;}
		function getScreenHeight() {return window.innerHeight;}
	    function loadBodySize(){ bodyW=body.clientWidth; bodyH=body.clientHeight; }
   	
        var dpi;
		var dpmm;
		var xdpi;
		var ydpi;
		var hySize;
		var rScreen;
		var screenWmm,screenHmm;
		function loadScreenSize(){
				screenW=getScreenWidth();
				screenH=getScreenHeight();
				
                
				
				
				
				
				
				
				
				
				
				
				
				
				
			}
            
            
            
            
		
		
		

</script>















<script> 

	
	
    
    
    

        function paintPaint(paint){ if (paint.kStyle==0){paint.stroke();}else if (paint.kStyle==1){paint.fill();}else if (paint.kStyle==2){paint.stroke(); paint.fill();}}
		function paintCanvas(canvas, eDat){ 
			var paint=canvas.getContext('2d');
            paint.sBold=""; paint.iFosi=mm(6)*rSize; paint.sFofa="mono";
            
			var leDat=eDat.length/2;
			var j=0;
			var eTyp=""; 
			for (var i=0;i<leDat;i++){j=i*2;
				if (Instanceof(eDat[j],"String")){
					eTyp=eDat[j].toUpperCase();
					if ((comS(eTyp,"NP")||comS(eTyp,"NEWPAINT"))){paint = canvas.getContext('2d');}
					else if ((comS(eTyp,"ST")||comS(eTyp,"STYLE"))&&Instanceof(eDat[j+1],"Number")){
                        paint.kStyle=eDat[j+1];
                    }
					else if ((comS(eTyp,"COLO")||comS(eTyp,"COLOR")) ){paint.strokeStyle = eDat[j+1]; paint.fillStyle = eDat[j+1];}
                    
                    
                    
					else if (comS(eTyp,"MODE")||comS(eTyp,"LOGIC")){
						if (Instanceof(eDat[j+1],"Number")){
							if (eDat[j+1]==0){paint.globalCompositeOperation="source-over";}
							else if (eDat[j+1]==1){paint.globalCompositeOperation="source-in";}
							else if (eDat[j+1]==2){paint.globalCompositeOperation="source-out";}
							else if (eDat[j+1]==3){paint.globalCompositeOperation="source-atop";}
							else if (eDat[j+1]==4){paint.globalCompositeOperation="source-over";}
							else if (eDat[j+1]==5){paint.globalCompositeOperation="destination-in";}
							else if (eDat[j+1]==6){paint.globalCompositeOperation="destination-in";}
							else if (eDat[j+1]==7){paint.globalCompositeOperation="destination-out";}
							else if (eDat[j+1]==8){paint.globalCompositeOperation="destination-atop";}
							else if (eDat[j+1]==9){paint.globalCompositeOperation="destination-over";}
							else if (eDat[j+1]==10){paint.globalCompositeOperation="destination-over";}
							else if (eDat[j+1]==11){paint.globalCompositeOperation="lighter";}
							else if (eDat[j+1]==12){paint.globalCompositeOperation="darker";}
							else if (eDat[j+1]==13){paint.globalCompositeOperation="darker";}
							else if (eDat[j+1]==14){paint.globalCompositeOperation="lighter";}
							else if (eDat[j+1]==15){paint.globalCompositeOperation="lighter";}
							else if (eDat[j+1]==16){paint.globalCompositeOperation="destination-out";}
							else if (eDat[j+1]==17){paint.globalCompositeOperation="xor";}
						}
						else if (Instanceof(eDat[j+1],"String")){
							var tS=eDat[j+1].toUpperCase();
							if (comS(tS,"ADD")){paint.globalCompositeOperation="lighter";}
							else if (comS(tS,"CLEAR")){paint.globalCompositeOperation="destination-out";}
							else if (comS(tS,"DARKEN")){paint.globalCompositeOperation="darker";}
							else if (comS(tS,"DST")){paint.globalCompositeOperation="destination-in";}
							else if (comS(tS,"DST_ATOP")){paint.globalCompositeOperation="destination-atop";}
							else if (comS(tS,"DST_IN")){paint.globalCompositeOperation="destination-in";}
							else if (comS(tS,"DST_OUT")){paint.globalCompositeOperation="destination-out";}
							else if (comS(tS,"DST_OVER")){paint.globalCompositeOperation="destination-over";}
							else if (comS(tS,"LIGHTEN")){paint.globalCompositeOperation="lighter";}
							else if (comS(tS,"MULTIPLY")){paint.globalCompositeOperation="darker";}
							else if (comS(tS,"OVERLAY")){paint.globalCompositeOperation="destination-over";}
							else if (comS(tS,"SCREEN")){paint.globalCompositeOperation="lighter";}
							else if (comS(tS,"SRC")){paint.globalCompositeOperation="source-over";}
							else if (comS(tS,"SRC_ATOP")){paint.globalCompositeOperation="source-atop";}
							else if (comS(tS,"SRC_IN")){paint.globalCompositeOperation="source-in";}
							else if (comS(tS,"SRC_OUT")){paint.globalCompositeOperation="source-out";}
							else if (comS(tS,"SRC_OVER")){paint.globalCompositeOperation="source-over";}
							else if (comS(tS,"XOR")){paint.globalCompositeOperation="xor";}
						}	
						
					}
					else if ((comS(eTyp,"DR")||comS(eTyp,"DRAW"))){paint.globalCompositeOperation="source-over";}
					else if ((comS(eTyp,"ER")||comS(eTyp,"ERASE"))){paint.globalCompositeOperation="destination-out";}
						
					else if ((comS(eTyp,"BL")||comS(eTyp,"BLUR"))&& Instanceof(eDat[j+1],"Array") ){
                        paint.shadowColor = paint.fillStyle;
                        paint.shadowBlur = eDat[j+1][0];
					}
					else if ((comS(eTyp,"GACOLO")||comS(eTyp,"GRADIENDTCOLOR")) && Instanceof(eDat[j+1],"Array") ){
                               
                        
                        var grd = paint.createLinearGradient(eDat[j+1][0], eDat[j+1][1],  eDat[j+1][2], eDat[j+1][3]);
                        var zl=eDat[j+1][4].length;
                        for (var ii=0;ii<zl;ii++){ grd.addColorStop(eDat[j+1][5][ii], eDat[j+1][4][ii]); }
                        paint.fillStyle = grd;
					}
					
					else if ((comS(eTyp,"FICO")||comS(eTyp,"FICOLO")||comS(eTyp,"FILLCOLOR")) ){ paint.kStyle=1; paint.strokeStyle = eDat[j+1]; paint.fillStyle = eDat[j+1];}
					else if ((comS(eTyp,"STCO")||comS(eTyp,"STCOLO")||comS(eTyp,"STROKECOLOR")) ){ paint.kStyle=0; paint.strokeStyle = eDat[j+1]; paint.fillStyle = eDat[j+1];}
					else if ((comS(eTyp,"CAP"))){ if (eDat[j+1]==0){paint.lineCap = "butt";} else if (eDat[j+1]==1){paint.lineCap = "square";} else if (eDat[j+1]==2){paint.lineCap = "round";} }
					else if ((comS(eTyp,"STJO")||comS(eTyp,"STROKEJOIN"))){if (eDat[j+1]==0){paint.lineJoin = "bevel";} else if (eDat[j+1]==1){paint.lineJoin = "miter";} else if (eDat[j+1]==2){paint.lineJoin = "round";}}
					else if ((comS(eTyp,"STMI")||comS(eTyp,"STROKEMITER"))){paint.miterLimit=eDat[j+1];}
					else if ((comS(eTyp,"STWI")||comS(eTyp,"WIDTH")||comS(eTyp,"STROKEWIDTH"))){paint.lineWidth=eDat[j+1];}
					
					else if ((comS(eTyp,"FOSI")||comS(eTyp,"FONTSIZE")||comS(eTyp,"TESI")||comS(eTyp,"TEXTSIZE"))){ paint.iFosi=eDat[j+1]; paint.font = paint.sBold+" "+paint.iFosi+"px "+paint.sFofa;}
					else if ((comS(eTyp,"FOAL")||comS(eTyp,"TEAL")||comS(eTyp,"FONTALIGN")||comS(eTyp,"TEXTALIGN")) ){ if (eDat[j+1]==0){paint.textAlign = "left";} else if (eDat[j+1]==1){paint.textAlign = "center";}else if (eDat[j+1]==2){paint.textAlign = "right"; } }
					
					
					
					
					
					else if ((comS(eTyp,"FB")||comS(eTyp,"FAKEBOLD"))){ if (eDat[j+1]!=0){paint.sBold="bold";}else{paint.sBold="";} paint.font = paint.sBold+" "+paint.iFosi+"px "+paint.sFofa;}
					
					
					
					else if ((comS(eTyp,"FO")||comS(eTyp,"FONT")||comS(eTyp,"FOFA")||comS(eTyp,"FONTFAMILY")||comS(eTyp,"TYPEFACE"))){
                        paint.sFofa=eDat[j+1]; paint.font = paint.sBold+" "+paint.iFosi+"px "+paint.sFofa;
					}
					else if ((comS(eTyp,"TR")||comS(eTyp,"TRANSLATE") )){ paint.translate(eDat[j+1][0], eDat[j+1][1]);}
					else if ((comS(eTyp,"SC")||comS(eTyp,"SCALE") )){ paint.scale(eDat[j+1][0], eDat[j+1][1]); }
					else if ((comS(eTyp,"SK")||comS(eTyp,"SKEW") )){paint.setTransform(1, Math.tan(eDat[j+1][0]), 0, 1, 0, 0);}
					else if ((comS(eTyp,"RT")||comS(eTyp,"ROTA")||comS(eTyp,"ROTATE") )){

                        paint.rotate(eDat[j+1] * Math.PI / 180);
	
					}
					else if (comS(eTyp,"SAVE")){paint.save();}
					else if (comS(eTyp,"RESTORE")){paint.restore();}
					
					else if (comS(eTyp,"PAINT") ){ paintPaint(paint);}
					else if (comS(eTyp,"STROKE")){ paint.kStyle=0; paint.stroke();}
					else if (comS(eTyp,"FILL")){ paint.kStyle=1; paint.fill();}
					
					else if ((comS(eTyp,"P")||comS(eTyp,"PT")||comS(eTyp,"POINT"))){paint.fillRect(eDat[j+1][0],eDat[j+1][1],1,1);}
					else if ((comS(eTyp,"PS")||comS(eTyp,"PTS")||comS(eTyp,"POINTS"))&&(eDat[j+1].getClass().getName()=="[F")){
                        for (var ii=0;ii<eDat[j+1].length/2;ii++){ paint.fillRect(eDat[j+1][ii*2],eDat[j+1][ii*2+1],1,1); }
                    }
					else if ((comS(eTyp,"C")||comS(eTyp,"CC")||comS(eTyp,"CIRCLE"))){paint.beginPath(); paint.arc(eDat[j+1][0],eDat[j+1][1],eDat[j+1][2], 0, 2 * Math.PI, false); paintPaint(paint); }
					else if ((comS(eTyp,"L")||comS(eTyp,"LINE"))){paint.beginPath(); paint.moveTo(eDat[j+1][0], eDat[j+1][1]); paint.lineTo(eDat[j+1][2], eDat[j+1][3]); paintPaint(paint); }
					else if ((comS(eTyp,"LS")||comS(eTyp,"LINES")) ){paint.beginPath(); var zl=eDat[j+1].length/4;
                        for (var ii=0;ii<zl;ii++){paint.moveTo(eDat[j+1][ii*4], eDat[j+1][ii*4+1]); paint.lineTo(eDat[j+1][ii*4+2], eDat[j+1][ii*4+3]);}
                        paintPaint(paint);
					}
					else if ((comS(eTyp,"O")||comS(eTyp,"OVAL")||comS(eTyp,"ELIP"))){paint.beginPath();
						paint.ellipse((eDat[j+1][0]+eDat[j+1][2])/2, (eDat[j+1][1]+eDat[j+1][3])/2, (eDat[j+1][2]-eDat[j+1][0])/2, (eDat[j+1][3]-eDat[j+1][1])/2, 0, 0, Math.PI*2, false);
                        paintPaint(paint);
                    }
					else if ((comS(eTyp,"R")||comS(eTyp,"RECT")||comS(eTyp,"RECTANGLE"))){paint.beginPath(); paint.rect(eDat[j+1][0],eDat[j+1][1],eDat[j+1][2]-eDat[j+1][0],eDat[j+1][3]-eDat[j+1][1]); paintPaint(paint);}
					else if ((comS(eTyp,"A")||comS(eTyp,"ARC"))){paint.beginPath();
                        paint.ellipse((eDat[j+1][0]+eDat[j+1][2])/2, (eDat[j+1][1]+eDat[j+1][3])/2, (eDat[j+1][2]-eDat[j+1][0])/2, (eDat[j+1][3]-eDat[j+1][1])/2, 0, eDat[j+1][4]/180*Math.PI, (eDat[j+1][4]+eDat[j+1][5])/180*Math.PI, eDat[j+1][6]==1);
                        paintPaint(paint);
					}
					else if ((comS(eTyp,"T")||comS(eTyp,"TE")||comS(eTyp,"TEXT"))){paint.beginPath();
                        if (paint.kStyle==0||paint.kStyle==2){paint.strokeText(""+eDat[j+1][0],eDat[j+1][1],eDat[j+1][2]);}
                        else if (paint.kStyle==1||paint.kStyle==2){paint.fillText(""+eDat[j+1][0],eDat[j+1][1],eDat[j+1][2]);}
                    }
					else if ((comS(eTyp,"BMP")||comS(eTyp,"BITMAP"))&& Instanceof(eDat[j+1],"Array")){ var dat=eDat[j+1];
                            if (!dat[0].length){
                                if ( dat.length==5 ){ paint.drawImage(dat[0], dat[1],dat[2], dat[3],dat[4]); }
                                else if ( dat.length==9 ){ paint.drawImage(dat[0], dat[1],dat[2], dat[3],dat[4], dat[5],dat[6], dat[7],dat[8]); }
                                
                            }
                            else {
                                const img = new Image();
                                if ( dat.length==5 ){ img.onload = function(){ paint.drawImage(this, dat[1],dat[2], dat[3],dat[4]); }}
                                else if ( dat.length==9 ){ img.onload = function(){ paint.drawImage(this, dat[1],dat[2], dat[3],dat[4],   dat[5],dat[6], dat[7],dat[8]); }}
                                img.src = dat[0];
                            }
					}
					else if ((comS(eTyp,"RS")||comS(eTyp,"RECTS")||comS(eTyp,"RECTANGLES"))){paint.beginPath();var zl=eDat[j+1].length/4;
                        for (var ii=0;ii<zl;ii++){paint.rect(eDat[j+1][ii*4], eDat[j+1][ii*4+1],   eDat[j+1][ii*4+2], eDat[j+1][ii*4+3]);}
                        paintPaint(paint);
					}
					else if ((comS(eTyp,"CS")||comS(eTyp,"CCS")||comS(eTyp,"CIRCLES"))){var zl=eDat[j+1].length/3;for (var ii=0;ii<zl;ii++){paint.beginPath(); paint.arc(eDat[j+1][ii*3],eDat[j+1][ii*3+1],eDat[j+1][ii*3+2], 0, 2 * Math.PI, false);}paintPaint(paint);}
					else if ((comS(eTyp,"Z")||comS(eTyp,"ZZ")||comS(eTyp,"ZIGZAG"))){var zl=eDat[j+1].length/2; if (zl>0){ paint.beginPath(); paint.moveTo(eDat[j+1][0], eDat[j+1][1]);
                        for (var ii=1;ii<zl;ii++){paint.lineTo(eDat[j+1][ii*2], eDat[j+1][ii*2+1]);}
                        paintPaint(paint);
					}}
					else if ((comS(eTyp,"TS")||comS(eTyp,"TEXTS")||comS(eTyp,"STRINGS"))){var zl=eDat[j+1].length/3;
                        for (var ii=0;ii<zl;ii++){ paint.beginPath();
                            if (paint.kStyle==0||paint.kStyle==2){paint.strokeText(""+eDat[j+1][ii*3],eDat[j+1][ii*3+1],eDat[j+1][ii*3+2]);}
                            if (paint.kStyle==1||paint.kStyle==2){paint.fillText(""+eDat[j+1][ii*3],eDat[j+1][ii*3+1],eDat[j+1][ii*3+2]);}
                        }
                    }
					else if ((comS(eTyp,"TSC")||comS(eTyp,"TEXTSCOLOR")||comS(eTyp,"STRINGSCOLOR"))){var zl=eDat[j+1].length/4;
                        for (var ii=0;ii<zl;ii++){ paint.beginPath();
                            if (paint.kStyle==0||paint.kStyle==2){paint.strokeStyle=eDat[j+1][ii*4+3];  paint.strokeText(""+eDat[j+1][ii*4],eDat[j+1][ii*4+1],eDat[j+1][ii*4+2]);}
                            if (paint.kStyle==1||paint.kStyle==2){paint.fillStyle=eDat[j+1][ii*4+3];  paint.fillText(""+eDat[j+1][ii*4],eDat[j+1][ii*4+1],eDat[j+1][ii*4+2]);}
                        }
					}
					else if ((comS(eTyp,"PATH")||comS(eTyp,"OBJ")) ){
                        paint.beginPath();
						
                        
					}
                
                }
            }
        }

        function BitmapWH(w,h){
            var layo = document.createElement("canvas");
            if (!h){h=w;} layo.width=w; layo.height=h;
            return layo;
        }
        function BitmapWHD(w,h,AODrawData){
            var layo = document.createElement("canvas");
            layo.width=w; layo.height=h;
            paintCanvas(layo, AODrawData);
            return layo;
        }
        function BitmapBD(bitmap, AODrawData){
            paintCanvas(bitmap, AODrawData);
            return bitmap;
        }
        
        
        function BitmapURL(sPath,Wmax,Hmax){
            var layo = document.createElement("canvas");
            loadBitmap(layo,sPath,Wmax,Hmax);
            return layo;
        }
        function Bitmap(W_Bitmap_URL, H_Dat, Dat){ 
            if (W_Bitmap_URL.length){ return BitmapURL(W_Bitmap_URL, H_Dat, Dat); }
            else {
                if (!Dat){
                    if (!W_Bitmap_URL.width){return BitmapWH(W_Bitmap_URL, H_Dat);}
                    else {return BitmapBD(W_Bitmap_URL, H_Dat);}
                }
                else{return BitmapWHD(W_Bitmap_URL, H_Dat, Dat);}
            }
        }
        function cloneBitmap(bitmap){
            var layo = document.createElement("canvas");
            layo.width=bitmap.width; layo.height=bitmap.height;
            paintCanvas(layo, ["bmp",[bitmap,0,0,bitmap.width,bitmap.height] ]);
            return layo;
        }
        
        
        
        
        
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
		function getImageSize(sPath, RLoaded){
            const img = new Image();
            img.onload = function() {
                RLoaded(this.width,this.height, this);
            }
            img.src = sPath;
        }
        function loadBitmap(bmp,sPath, Wmax,Hmax, R_onLoaded){
            const img = new Image();
            img.onload = function() {
                var r=1;
                if (!Wmax){} else {if (!Hmax){Hmax=Wmax;} Wmax=Math.min(Wmax,this.width); Hmax=Math.min(Hmax,this.height); r=Math.min(Wmax/this.width,Hmax/this.height); }
                bmp.width=Math.round(this.width*r); bmp.height=Math.round(this.height*r);
                var paint=bmp.getContext('2d');
                paint.drawImage(this, 0,0,bmp.width,bmp.height);
                Handler.post(R_onLoaded);
            }
            img.src = sPath;
        }
        function loadBMP(bmp,sPath, Wmax,Hmax){
            const img = new Image();
            img.onload = function() {
                var r=1;
                if (!Wmax){} else {if (!Hmax){Hmax=Wmax;} r=Math.min(Wmax/this.width,Hmax/this.height); }
                bmp.width=Math.round(this.width*r); bmp.height=Math.round(this.height*r);
                var paint=bmp.getContext('2d');
                paint.drawImage(this, 0,0, bmp.width,bmp.height);
            }
            img.src = sPath;
        }
        

        
        
		function toBase64(bmp){return bmp.toDataURL();}
        
	
	
	
	
        
        
        
        
</script>













<script>


    
    
    var js_FR=function(){var This=this;
        This.M="100%";This.W="auto";This.F="100%";
        return This;
    }
    var FR=new js_FR();
	var FR_MATCH=FR.M, FR_WRAP=FR.W, FR_FILL=FR.F;
	var FR_M=FR.M,FR_W=FR.W,FR_F=FR.F;
    
	class js_VW{
        constructor(){}
        V="visible";I="hidden";G="hidden";
        VISIBLE="visible";INVISIBLE="hidden";GONE="hidden";
    }
	var VW=new js_VW();
	var View=new js_VW();
    
    function teleport(view,parentOld,parentNew){
        if (view!=null){
            try {parentOld.removeView(view); parentNew.addView(view);} catch (e){}
        }
    }
    
    function setVisibility(view,o){
        view.kVisibility=o=="visible"?1:0;
        view.style.visibility=o;
        if (o=="visible"){ teleport(view,bodyHidden,view.ElementMom); }
        else { teleport(view,view.ElementMom,bodyHidden); }
    }
    function show(view){setVisibility(view,"visible");}
    function hide(view){setVisibility(view,"hidden");}
    
    class js_GRA{
        constructor(){}
        L=3; T=48;R=5;B=80;CH=1;CV=16;C=17;
        LT=this.L|this.T; TL=this.LT; RT=this.R|this.T; TR=this.RT; LB=this.L|this.B; BL=this.LB; RB=this.R|this.B; BR=this.RB;
        LC=this.L|this.CV; CL=this.LC; TC=this.T|this.CH; CT=this.TC; RC=this.R|this.CV; CR=this.RC; BC=this.B|this.CH; CB=this.BC;
    }
    var GRA=new js_GRA();
	var GRA_T=GRA.T, GRA_B=GRA.B, GRA_L=GRA.L, GRA_R=GRA.R, GRA_C=GRA.C, GRA_CH=GRA.CH, GRA_CV=GRA.CV;
    class js_Gravity{
        constructor(){}
        L=3; T=48;R=5;B=80;CH=1;CV=16;C=17;
        LEFT=3; TOP=48;RIGHT=5;BOTTOM=80;CENTER_HORIZONTAL=1;CENTER_VERTICAL=16;CENTER=17;
        LEFT_TOP=this.L|this.T; TOP_LEFT=this.LEFT_TOP; RIGHT_TOP=this.R|this.T; TOP_RIGHT=this.RIGHT_TOP; LEFT_BOTTOM=this.L|this.B; BOTTOM_LEFT=this.LEFT_BOTTOM; RIGHT_BOTTOM=this.R|this.B; BOTTOM_RIGHT=this.RIGHT_BOTTOMB;
        LEFT_CENTER=this.L|this.CV; CENTER_LEFT=this.LEFT_CENTER; TOP_CENTER=this.T|this.CH; CENTER_TOP=this.TOP_CENTER; RIGHT_CENTER=this.R|this.CV; CENTER_RIGHT=this.RIGHT_CENTER; BOTTOM_CENTER=this.B|this.CH; CENTER_BOTTOM=this.BOTTOM_CENTERC;
    }
    var Gravity=new js_Gravity();
    
    function alignGravity(view,iGra){var zSVA="top";
        view.kGravity=iGra;
        if ((iGra==GRA.L)||(iGra==GRA.LT)||(iGra==GRA.LC)||(iGra==GRA.LB)){view.style.left="0%";view.style.right=""; view.style.marginLeft="";view.style.marginRight="";   view.style.textAlign="left";}
        else if ((iGra==GRA.C)||(iGra==GRA.CT)||(iGra==GRA.CB)||(iGra==GRA.CH)){view.style.left="0";view.style.right="0"; view.style.marginLeft="auto";view.style.marginRight="auto";   view.style.textAlign="center";}
        else if ((iGra==GRA.R)||(iGra==GRA.RT)||(iGra==GRA.RC)||(iGra==GRA.RB)){view.style.left="";view.style.right="0%"; view.style.marginLeft="";view.style.marginRight="";   view.style.textAlign="right";}
        if ((iGra==GRA.T)||(iGra==GRA.TL)||(iGra==GRA.TC)||(iGra==GRA.TR)){view.style.top="0%";view.style.bottom=""; view.style.marginTop="";view.style.marginBottom=""; zSVA="top";}
        else if ((iGra==GRA.C)||(iGra==GRA.CL)||(iGra==GRA.CR)||(iGra==GRA.CV)){view.style.top="0";view.style.bottom="0"; view.style.marginTop="auto";view.style.marginBottom="auto"; zSVA="center";}
        else if ((iGra==GRA.B)||(iGra==GRA.BL)||(iGra==GRA.BC)||(iGra==GRA.BR)){view.style.top="";view.style.bottom="0%"; view.style.marginTop="";view.style.marginBottom=""; zSVA="bottom";}
        view.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:"+zSVA+";'>	";
        view.sVerticalAlign_P2="	</td></tr></table>";
        if (view.sHTML_P1==null){view.sHTML_P1="	";} if (view.sHTML_P2==null){view.sHTML_P2="	";}
        reloadInnerHTML(view);
    }
    function reloadInnerHTML(view){
        
        view.innerHTML=view.sVerticalAlign_P1+view.sHTML_P1+view.sText+view.sHTML_P2+view.sVerticalAlign_P2;
    }
    
    
    
    
    
    var FrameLayout=[];
        FrameLayout.LayoutParams=[];
        FrameLayout.LayoutParams.MATCH_PARENT=FR.M;
    
    
    

    function addBackground(view, Orientation, AColor, shape, stroke, cornerRadius){ var sAColo="";
        for (var i=0;i<AColor.length;i++){if (i>0){sAColo+=',';} sAColo+=AColor[i];}
        view.style.backgroundImage="linear-gradient("+[90,90,135,180,225,270,315,0,45][Orientation]+"deg, "+sAColo+")"; 
        if (Instanceof(stroke,"Array")&&stroke.length>1){view.style.border=stroke[0]+"px solid "+stroke[1];}
        if (Instanceof(stroke,"Array")&&cornerRadius.length>7){
            view.style.borderTopLeftRadius=cornerRadius[0]+"px "+cornerRadius[1]+"px";
            view.style.borderTopRightRadius=cornerRadius[2]+"px "+cornerRadius[3]+"px";
            view.style.borderBottomRightRadius=cornerRadius[4]+"px "+cornerRadius[5]+"px";
            view.style.borderBottomLeftRadius=cornerRadius[6]+"px "+cornerRadius[7]+"px";
        }
    }
    function addBackgroundF(view, Orientation, AColor, shape, gradientType, radial, stroke, cornerRadius){ var sAColo="";
        for (var i=0;i<AColor.length;i++){if (i>0){sAColo+=',';} sAColo+=AColor[i];}
        if (gradientType<2){view.style.backgroundImage="linear-gradient("+[90,90,135,180,225,270,315,0,45][Orientation]+"deg, "+sAColo+")"; }
        else if (gradientType>1){view.style.backgroundImage="radial-gradient("+sAColo+")"; }
        if (Instanceof(stroke,"Array")&&stroke.length>1){view.style.border=stroke[0]+"px solid "+stroke[1];}
        if (Instanceof(stroke,"Array")&&cornerRadius.length>7){
            view.style.borderTopLeftRadius=cornerRadius[0]+"px "+cornerRadius[1]+"px";
            view.style.borderTopRightRadius=cornerRadius[2]+"px "+cornerRadius[3]+"px";
            view.style.borderBottomRightRadius=cornerRadius[4]+"px "+cornerRadius[5]+"px";
            view.style.borderBottomLeftRadius=cornerRadius[6]+"px "+cornerRadius[7]+"px";
        }
    }

    


    
    
    function clearTransform(layo){
        layo.vTranslateX=0;
        layo.vTranslateY=0;
        layo.vRotate=0;
        layo.vRotateX=0;
        layo.vRotateY=0;
        layo.vScaleX=1;
        layo.vScaleY=1;
        layo.vSkewX=0;
        layo.vSkewY=0;
        layo.vPivotX=0.5;
        layo.vPivotY=0.5;
    }
    function updateTransform(layo){
        var s="translateX("+layo.vTranslateX+"px) translateY("+layo.vTranslateY+"px) rotateX("+layo.vRotateX+"deg) rotateY("+layo.vRotateY+"deg) rotate("+layo.vRotate+"deg) scaleX("+layo.vScaleX+") scaleY("+layo.vScaleY+") skewX("+layo.vSkewX+"deg) skewY("+layo.vSkewY+"deg) ";
        layo.style.webkitTransform=s;
        layo.style.mozTransform=s;
        layo.style.msTransform=s;
        layo.style.oTransform=s;
        layo.style.transform=s;
        
        var sP=(layo.vPivotX*100)+"% "+(layo.vPivotY*100)+"%";
        layo.style.webkitTransformOrigin=sP;
        layo.style.mozTransformOrigi=sP;
        layo.style.msTransformOrigi=sP;
        layo.style.oTransformOrigi=sP;
        layo.style.transformOrigi=sP;
    }
    function setTranslationX(layo,value){layo.vTranslateX=value;updateTransform(layo);}
    function setTranslationY(layo,value){layo.vTranslateY=value;updateTransform(layo);}
    function setRotation(layo,value){layo.vRotate=value;updateTransform(layo);}
    function setRotationX(layo,value){layo.vRotateX=value;updateTransform(layo);}
    function setRotationY(layo,value){layo.vRotateY=value;updateTransform(layo);}
    function setScale(layo,vX,vY){layo.vScaleX=vX;layo.vScaleY=vY;updateTransform(layo);}
    function setScaleX(layo,value){layo.vScaleX=value;updateTransform(layo);}
    function setScaleY(layo,value){layo.vScaleY=value;updateTransform(layo);}
    function setSkew(layo,vX,vY){layo.vSkewX=vX;layo.vSkewY=vY;updateTransform(layo);}
    function setSkewX(layo,value){layo.vSkewX=value;updateTransform(layo);}
    function setSkewY(layo,value){layo.vSkewY=value;updateTransform(layo);}
    
    function setPivot(layo,vX,vY){layo.vPivotX=vX;layo.vPivotX=vY;updateTransform(layo);}
    function setPivotX(layo,value){layo.vPivotX=value;updateTransform(layo);}
    function setPivotY(layo,value){layo.vPivotY=value;updateTransform(layo);}

    function GV(obj,css){return window.getComputedStyle(obj,null).getPropertyValue(css);}
    var G_zIndex=0;
    function checkViewMethods(view){if (!view.kSetupMethod){view.kSetupMethod=true;clearTransform(view);
        view.kGravity=GRA.LT;
    
        view.getX=function(){var zSV=GV(view,"left"); return zSV.substring(0,zSV.length-2)*1;}
        view.getY=function(){var zSV=GV(view,"top"); return zSV.substring(0,zSV.length-2)*1;}
        view.getTranslationX=function(){return view.vTranslateX;}
        view.getTranslationY=function(){return view.vTranslateY;}
        view.getRotation=function(){return view.vRotate;}
        view.getRotationX=function(){return view.vRotateX;}
        view.getRotationY=function(){return view.vRotateY;}
        view.getScaleX=function(){return view.vScaleX;}
        view.getScaleY=function(){return view.vScaleY;}
        view.getSkewX=function(){return view.vSkewX;}
        view.getSkewY=function(){return view.vSkewY;}
        view.getPivotX=function(){return view.vPivotX;}
        view.getPivotY=function(){return view.vPivotY;}
        
        view.getScrollX=function(){return view.scrollLeft;}
        view.getScrollY=function(){return view.scrollTop;}
        view.getAlpha=function(){return GV(view,"opacity")*1;}
        view.getVisibility=function(){return GV(view,"visibility");}
        view.getWidth=function(){var zSV=GV(view,"width"); return zSV.substring(0,zSV.length-2)*1;}
        view.getHeight=function(){var zSV=GV(view,"height"); return zSV.substring(0,zSV.length-2)*1;}
        
        view.setTranslationX=function(value){view.vTranslateX=value;updateTransform(view)}
        view.setTranslationY=function(value){view.vTranslateY=value;updateTransform(view)}
        view.setRotation=function(value){view.vRotate=value;updateTransform(view)}
        view.setRotationX=function(value){view.vRotateX=value;updateTransform(view)}
        view.setRotationY=function(value){view.vRotateY=value;updateTransform(view)}
        view.setScale=function(vX,vY){view.vScaleX=vX;view.vScaleY=vY;updateTransform(view)}
        view.setScaleX=function(value){view.vScaleX=value;updateTransform(view)}
        view.setScaleY=function(value){view.vScaleY=value;updateTransform(view)}
        view.setSkew=function(vX,vY){view.vSkewX=vX;view.vSkewY=vY;updateTransform(view)}
        view.setSkewX=function(value){view.vSkewX=value;updateTransform(view)}
        view.setSkewY=function(value){view.vSkewY=value;updateTransform(view)}
        
        view.setPivot=function(vX,vY){view.vPivotX=vX;view.vPivotY=vY;updateTransform(view)}
        view.setPivotX=function(value){view.vPivotX=value;updateTransform(view)}
        view.setPivotY=function(value){view.vPivotY=value;updateTransform(view)}
   
        view.setVisibility=function(value){setVisibility(view,value);}
        
        view.bringToFront=function(){G_zIndex+=1;view.style.zIndex = G_zIndex;}
        view.bringChildToFront=function(vChild){G_zIndex+=1;vChild.style.zIndex = G_zIndex;}
		
    }}
    function setSelectText(view,v0,v1){
        view.style.webkitTouchCallout=v0;
        view.style.webkitUserSelect=v1;
        view.style.khtmlUserSelect=v1;
        view.style.mozUserSelect=v1;
        view.style.msUserSelect=v1;
        view.style.userSelect=v1;
    }
    function enableSelectText(view){setSelectText(view,"default","text");}
    function disableSelectText(view){setSelectText(view,"none","none");}



    function sView(layo, sDat, eDat){checkViewMethods(layo);
		
		
		var eTyp=sDat.toUpperCase();
		
			
				
				if (comS(eTyp,"ID")&&( Instanceof(eDat,"Number") )){layo.setId(eDat);}
				else if (comS(eTyp,"BACOLO")||comS(eTyp,"BACKGROUNDCOLOR") ){
					if (Instanceof(eDat,"String")){layo.style.backgroundColor=eDat;}
			
					else if (Instanceof(eDat,"Array")){
						var AI=eDat,AI1=[]; var i0=AI[0];
						for (var ii=1;ii<AI.length;ii++){AI1.push(AI[ii]);}
						addBackground(layo, i0, AI1,1,[], f(0,0,0,0, 0,0,0,0) );
					}
			
				}
                else if (comS(eTyp,"COLO")||comS(eTyp,"TECOLO")||comS(eTyp,"TEXTCOLOR") ){
                    if (Instanceof(eDat,"String")){layo.style.color=eDat;}
					else if (Instanceof(eDat,"Number")){layo.style.color=""+eDat;}
                }
				
				
				else if ((comS(eTyp,"X")||comS(eTyp,"FIXX"))){layo.style.left=eDat;}
				else if ((comS(eTyp,"Y")||comS(eTyp,"FIXY"))){layo.style.top=eDat;}
				
				
				
				else if ((comS(eTyp,"TX")||comS(eTyp,"TRANSLATIONX"))){setTranslationX(layo,eDat);}
				else if ((comS(eTyp,"TY")||comS(eTyp,"TRANSLATIONY"))){setTranslationY(layo,eDat);}
				
				else if ((comS(eTyp,"R")||comS(eTyp,"ROTA")||comS(eTyp,"ROTATE")||comS(eTyp,"ROTATION"))){setRotation(layo,eDat);}
				else if ((comS(eTyp,"RX")||comS(eTyp,"ROTAX")||comS(eTyp,"ROTATEX")||comS(eTyp,"ROTATIONX"))){setRotationX(layo,eDat);}
				else if ((comS(eTyp,"RY")||comS(eTyp,"ROTAY")||comS(eTyp,"ROTATEY")||comS(eTyp,"ROTATIONY"))){setRotationY(layo,eDat);}
                else if ((comS(eTyp,"PV")||comS(eTyp,"PIVOT"))&&(eDat.push)){setPivot(layo,eDat[0],eDat[1]);}
				else if ((comS(eTyp,"PX")||comS(eTyp,"PIVOTX"))){setPivotX(layo,eDat);}
				else if ((comS(eTyp,"PY")||comS(eTyp,"PIVOTY"))){setPivotY(layo,eDat);}
				else if ((comS(eTyp,"SC")||comS(eTyp,"SCALE")) ){
                    if (Instanceof(eDat,"Number")){setScale(layo,eDat,eDat);}
                    else if (Instanceof(eDat,"Array")){setScale(layo,eDat[0],eDat[1]);}
                }
				else if ((comS(eTyp,"SCX")||comS(eTyp,"SCALEX"))){setScaleX(layo,eDat);}
				else if ((comS(eTyp,"SCY")||comS(eTyp,"SCALEY"))){setScaleY(layo,eDat);}
                else if ((comS(eTyp,"SK")||comS(eTyp,"SKEW")) ){
                    if (Instanceof(eDat,"Number")){setSkew(layo,eDat,eDat);}
                    else if (Instanceof(eDat,"Array")){setSkew(layo,eDat[0],eDat[1]);}
                }
                else if ((comS(eTyp,"SKX")||comS(eTyp,"SKEWX"))){setSkewX(layo,eDat);}
				else if ((comS(eTyp,"SKY")||comS(eTyp,"SKEWY"))){setSkewY(layo,eDat);}
                
				else if ((comS(eTyp,"SCR")||comS(eTyp,"SCROLL")) && Instanceof(eDat,"Number") ){
                    if (eDat>0.5){layo.style.overflowX="hidden"; layo.style.overflowY="auto";}
                    else if (eDat>1){layo.style.overflowX="auto"; layo.style.overflowY="auto";}
                    else if (eDat>2){layo.style.overflowX="scroll"; layo.style.overflowY="scroll";}
                    else {layo.style.overflowX="hidden"; layo.style.overflowY="hidden";}
                }
                else if ((comS(eTyp,"SCRX")||comS(eTyp,"SCROLLX")) && Instanceof(eDat,"Number") ){ layo.scrollTo(eDat, layo.scrollTop ); }
				else if ((comS(eTyp,"SCRY")||comS(eTyp,"SCROLLY")) && Instanceof(eDat,"Number") ){ layo.scrollTo(layo.scrollLeft, eDat ); }
                
 				else if ((comS(eTyp,"PADI")||comS(eTyp,"PADDING"))&& Instanceof(eDat,"Array") ){
                    layo.style.paddingLeft=eDat[0]+"px";
                    layo.style.paddingTop=eDat[1]+"px";
                    layo.style.paddingRight=eDat[2]+"px";
                    layo.style.paddingBottom=eDat[3]+"px";
                
                }
  				else if ((comS(eTyp,"MADI")||comS(eTyp,"MARGIN"))&& Instanceof(eDat,"Array") ){
                    layo.style.marginLeft=eDat[0]+"px";
                    layo.style.marginTop=eDat[1]+"px";
                    layo.style.marginRight=eDat[2]+"px";
                    layo.style.marginBottom=eDat[3]+"px";
                }
 				else if ((comS(eTyp,"OPAC")||comS(eTyp,"ALPHA")||comS(eTyp,"OPACITY"))){layo.style.opacity=eDat;}
				else if ((comS(eTyp,"DIPL")||comS(eTyp,"DISPLAY")||comS(eTyp,"VISIBILITY")) && Instanceof(eDat,"Number") ){
                    if (eDat>0.5){layo.style.visibility="visible";}else{layo.style.visibility="hidden";}
                }
				else if ((comS(eTyp,"WH")||comS(eTyp,"SIZE"))&& Instanceof(eDat,"Array") ){
                    if (Instanceof(eDat[0],"String")){layo.style.width = eDat[0];} else {layo.style.width = eDat[0]+"px";}
                    if (Instanceof(eDat[1],"String")){layo.style.height = eDat[1];} else {layo.style.height = eDat[1]+"px";}
                }
				else if ((comS(eTyp,"LAPA")||comS(eTyp,"LAYOUTPARAMS"))&& Instanceof(eDat,"Array")){
                    if (Instanceof(eDat[0],"String")){layo.style.width = eDat[0];} else {layo.style.width = eDat[0]+"px";}
                    if (Instanceof(eDat[1],"String")){layo.style.height = eDat[1];} else {layo.style.height = eDat[1]+"px";}
                    alignGravity(layo,eDat[2]);
				}
                else if ((comS(eTyp,"ZI")||comS(eTyp,"ZINDEX"))){layo.style.zIndex=eDat;}
				
				
                
                
                
                else if ((comS(eTyp,"TE")||comS(eTyp,"INTE")||comS(eTyp,"SETE")||comS(eTyp,"TEXT")) ){eDat=""+eDat;
                    layo.SText=eDat; 
                    layo.sText=eDat; 
                    
                    if (layo.EdTe){layo.setText(eDat);}
                    else {var zS="";
                        for (var ii=0;ii<eDat.length;ii++){if ((eDat[ii]==' ')&&(ii<eDat.length-1)&&(eDat[ii+1]==' ')){zS+="&nbsp;";}else {zS+=eDat[ii];} } eDat=zS; layo.sText=zS; zS="";
                        if (!layo.style.kMultiLine){layo.innerHTML=layo.sVerticalAlign_P1+"<font>"+layo.sText+"</font>"+layo.sVerticalAlign_P2;}
                        else {for (var ii=0;ii<eDat.length;ii++){if (eDat[ii]==S10){zS+="<br>";}else {zS+=eDat[ii];} } layo.sText=zS; layo.innerHTML=layo.sVerticalAlign_P1+"<font>"+layo.sText+"</font>"+layo.sVerticalAlign_P2; }
                    }
                }
				else if ((comS(eTyp,"HTML")||comS(eTyp,"INHT")) ){layo.innerHTML=""+eDat;}
				else if (comS(eTyp,"TESI")||comS(eTyp,"FOSI")||comS(eTyp,"TEXTSIZE")){
					if (Instanceof(eDat,"Array")){
                        if (eDat[0]==UNIT_MM){layo.style.fontSize=mm(eDat[1])+"px";}
                        else {layo.style.fontSize=eDat[1]+"px";}
					}
					else{layo.style.fontSize=eDat+"px";}
				}
                else if (comS(eTyp,"LISP")||comS(eTyp,"LINESPACING") ){
					if (Instanceof(eDat,"Array")){ layo.style.lineHeight=eDat[0]+eDat[1]; }
					else{ layo.style.lineHeight=eDat;}
				}
				else if ((comS(eTyp,"TEST")||comS(eTyp,"FOST")||comS(eTyp,"TEXTSTYLE")||comS(eTyp,"FONTSTYLE"))&& Instanceof(eDat,"Number")){
					if (eDat==0){ layo.style.fontWeight = "normal"; layo.style.fontStyle="normal";} 
					else if (eDat==1){ layo.style.fontWeight = "bold"; layo.style.fontStyle="normal";}
					else if (eDat==2){ layo.style.fontStyle="italic";}
					else if (eDat==3){ layo.style.fontWeight = "bold"; layo.style.fontStyle="italic";}
                }
				else if ((comS(eTyp,"UNDERLINE")||comS(eTyp,"TEUL")||comS(eTyp,"FOUL")||comS(eTyp,"UNLI"))){layo.style.textDecoration = "underline";}
				else if ((comS(eTyp,"TYFA")||comS(eTyp,"FONT")||comS(eTyp,"FOFA")||comS(eTyp,"FONTFAMILY")||comS(eTyp,"TYPEFACE")) ){
					if (Instanceof(eDat,"String")){
						layo.style.fontFamily=eDat;
					}
					
					
					
					
					
					
				}
                else if ((comS(eTyp,"GRAVITY")) && Instanceof(eDat,"Number")){alignGravity(layo,eDat);}
                else if ((comS(eTyp,"MULI")||comS(eTyp,"MULTILINE"))&& Instanceof(eDat,"Number")){if (eDat<0.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;}}
				else if ((comS(eTyp,"MALI")||comS(eTyp,"MAXLINE"))&& Instanceof(eDat,"Number")){ if (eDat<1.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;} }
				else if ((comS(eTyp,"1LI")||comS(eTyp,"1LINE")) ){ layo.style.kMultiLine=false; }
				else if ((comS(eTyp,"NLI")||comS(eTyp,"NLINE")) && Instanceof(eDat,"Number")){ if (eDat<1.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;} }
				else if ((comS(eTyp,"SELE")||comS(eTyp,"COPY")||comS(eTyp,"SELECLTABLE"))&& Instanceof(eDat,"Number")){
                    if (eDat<0.5){disableSelectText(layo);}
                    else if (eDat>1){enableSelectText(layo);}
                    else {enableSelectText(layo);}
                }
	
                
                else if (comS(eTyp,"SRC")||comS(eTyp,"URL")){
                    
                    if (layo.src!=null){layo.src=eDat;}
                    else if (layo.width==null){loadFig(layo,eDat);}
                    else{
                        if (Instanceof(eDat,"String")){ 
                            var ctx = layo.getContext("2d");
                            const img = new Image();
                            img.onload = function() {
                                layo.width=this.width; layo.height=this.height;
                                ctx.drawImage(this, 0,0, this.width, this.height);
                            }
                            img.src = eDat;
                        }
                        else{
                            if (!eDat.src){
                                layo.width=eDat.width; layo.height=eDat.height;
                                var ctx = layo.getContext('2d');
                                ctx.drawImage(eDat, 0, 0);
                            }
                            else{
                                var ctx = layo.getContext("2d");
                                const img = new Image();
                                img.onload = function() {
                                    layo.width=this.width; layo.height=this.height;
                                    ctx.drawImage(this, 0,0, this.width, this.height);
                                }
                                img.src = eDat.src;
                            }
                        }
                    }
				}
                
                
			
		
		return layo;
	}
    

	function gView(view, sDat){checkViewMethods(view);
		var eTyp=sDat.toUpperCase();
		
		if ((comS(eTyp,"X")||comS(eTyp,"FIXX"))){return GV(view,"left")*1;}
		else if ((comS(eTyp,"Y")||comS(eTyp,"FIXY"))){return GV(view,"top")*1;}
		
		
		
		else if ((comS(eTyp,"TX")||comS(eTyp,"TRANSLATIONX"))){return view.vTranslateX;}
		else if ((comS(eTyp,"TY")||comS(eTyp,"TRANSLATIONY"))){return view.vTranslateY;}
		
		else if ((comS(eTyp,"R")||comS(eTyp,"ROTA")||comS(eTyp,"ROTATE")||comS(eTyp,"ROTATION"))){return view.vRotate;}
		else if ((comS(eTyp,"RX")||comS(eTyp,"ROTAX")||comS(eTyp,"ROTATEX")||comS(eTyp,"ROTATIONX"))){return view.vRotateX;}
		else if ((comS(eTyp,"RY")||comS(eTyp,"ROTAY")||comS(eTyp,"ROTATEY")||comS(eTyp,"ROTATIONY"))){return view.vRotateY;}
		else if ((comS(eTyp,"PX")||comS(eTyp,"PIVOTX"))){return view.getPivotX();}
		else if ((comS(eTyp,"PY")||comS(eTyp,"PIVOTY"))){return view.getPivotY();}
		else if ((comS(eTyp,"SCX")||comS(eTyp,"SCALEX"))){return view.vScaleX;}
		else if ((comS(eTyp,"SCY")||comS(eTyp,"SCALEY"))){return view.vScaleY;}
		
		
		
		else if ((comS(eTyp,"OPAC")||comS(eTyp,"ALPHA")||comS(eTyp,"OPACITY"))){return GV(view,"opacity")*1;}
		else if ((comS(eTyp,"DIPL")||comS(eTyp,"DISPLAY")||comS(eTyp,"VISIBILITY")) ){return GV(view,"visibility")=="visible"?1:0;}
		else if (comS(eTyp,"W")||comS(eTyp,"WIDTH") ){var zSV=GV(view,"width"); return zSV.substring(0,zSV.length-2)*1;}
		else if (comS(eTyp,"H")||comS(eTyp,"HEIGHT") ){var zSV=GV(view,"height"); return zSV.substring(0,zSV.length-2)*1;}
		return view;
	}
	
    
    
 
    function wrapMe(layo){layo.style.position="relative";}
	function eLay(layo, eDat){checkViewMethods(layo);
		var leDat=eDat.length/2;
		var j=0;
		var eTyp="";
		for (var i=0;i<leDat;i++){j=i*2;
			if (Instanceof(eDat[j],"String")){
				eTyp=eDat[j].toUpperCase();
				if (comS(eTyp,"ID")&&( Instanceof(eDat[j+1],"Number") )){layo.setId(eDat[j+1]);}
				else if (comS(eTyp,"BACOLO")||comS(eTyp,"BACKGROUNDCOLOR") ){
					if (Instanceof(eDat[j+1],"String")){layo.style.backgroundColor=eDat[j+1];}
			
					else if (Instanceof(eDat[j+1],"Array")){
						var AI=eDat[j+1],AI1=[]; var i0=AI[0];
						for (var ii=1;ii<AI.length;ii++){AI1.push(AI[ii]);}
						addBackground(layo, i0, AI1,1,[], f(0,0,0,0, 0,0,0,0) );
					}
			
				}
                else if (comS(eTyp,"COLO")||comS(eTyp,"TECOLO")||comS(eTyp,"TEXTCOLOR") ){
                    if (Instanceof(eDat[j+1],"String")){layo.style.color=eDat[j+1];}
					else if (Instanceof(eDat[j+1],"Number")){layo.style.color=""+eDat[j+1];}
                }
				
				
				else if ((comS(eTyp,"X")||comS(eTyp,"FIXX"))){layo.style.left=eDat[j+1];}
				else if ((comS(eTyp,"Y")||comS(eTyp,"FIXY"))){layo.style.top=eDat[j+1];}
				
				
				
				else if ((comS(eTyp,"TX")||comS(eTyp,"TRANSLATIONX"))){setTranslationX(layo,eDat[j+1]);}
				else if ((comS(eTyp,"TY")||comS(eTyp,"TRANSLATIONY"))){setTranslationY(layo,eDat[j+1]);}
				
				else if ((comS(eTyp,"R")||comS(eTyp,"ROTA")||comS(eTyp,"ROTATE")||comS(eTyp,"ROTATION"))){setRotation(layo,eDat[j+1]);}
				else if ((comS(eTyp,"RX")||comS(eTyp,"ROTAX")||comS(eTyp,"ROTATEX")||comS(eTyp,"ROTATIONX"))){setRotationX(layo,eDat[j+1]);}
				else if ((comS(eTyp,"RY")||comS(eTyp,"ROTAY")||comS(eTyp,"ROTATEY")||comS(eTyp,"ROTATIONY"))){setRotationY(layo,eDat[j+1]);}
                else if ((comS(eTyp,"PV")||comS(eTyp,"PIVOT"))&&(eDat[j+1].push)){setPivot(layo,eDat[j+1][0],eDat[j+1][1]);}
				else if ((comS(eTyp,"PX")||comS(eTyp,"PIVOTX"))){setPivotX(layo,eDat[j+1]);}
				else if ((comS(eTyp,"PY")||comS(eTyp,"PIVOTY"))){setPivotY(layo,eDat[j+1]);}
				else if ((comS(eTyp,"SC")||comS(eTyp,"SCALE")) ){
                    if (Instanceof(eDat[j+1],"Number")){setScale(layo,eDat[j+1],eDat[j+1]);}
                    else if (Instanceof(eDat[j+1],"Array")){setScale(layo,eDat[j+1][0],eDat[j+1][1]);}
                }
				else if ((comS(eTyp,"SCX")||comS(eTyp,"SCALEX"))){setScaleX(layo,eDat[j+1]);}
				else if ((comS(eTyp,"SCY")||comS(eTyp,"SCALEY"))){setScaleY(layo,eDat[j+1]);}
                else if ((comS(eTyp,"SK")||comS(eTyp,"SKEW")) ){
                    if (Instanceof(eDat[j+1],"Number")){setSkew(layo,eDat[j+1],eDat[j+1]);}
                    else if (Instanceof(eDat[j+1],"Array")){setSkew(layo,eDat[j+1][0],eDat[j+1][1]);}
                }
                else if ((comS(eTyp,"SKX")||comS(eTyp,"SKEWX"))){setSkewX(layo,eDat[j+1]);}
				else if ((comS(eTyp,"SKY")||comS(eTyp,"SKEWY"))){setSkewY(layo,eDat[j+1]);}
                
				else if ((comS(eTyp,"SCR")||comS(eTyp,"SCROLL")) && Instanceof(eDat[j+1],"Number") ){
                    if (eDat[j+1]>0.5){layo.style.overflowX="hidden"; layo.style.overflowY="auto";}
                    else if (eDat[j+1]>1){layo.style.overflowX="auto"; layo.style.overflowY="auto";}
                    else if (eDat[j+1]>2){layo.style.overflowX="scroll"; layo.style.overflowY="scroll";}
                    else {layo.style.overflowX="hidden"; layo.style.overflowY="hidden";}
                }
				else if ((comS(eTyp,"SCRX")||comS(eTyp,"SCROLLX")) && Instanceof(eDat[j+1],"Number") ){ layo.scrollTo(eDat[j+1], layo.scrollTop ); }
				else if ((comS(eTyp,"SCRY")||comS(eTyp,"SCROLLY")) && Instanceof(eDat[j+1],"Number") ){ layo.scrollTo(layo.scrollLeft, eDat[j+1] ); }
                
 				else if ((comS(eTyp,"PADI")||comS(eTyp,"PADDING"))&& Instanceof(eDat[j+1],"Array") ){
                    layo.style.paddingLeft=eDat[j+1][0]+"px";
                    layo.style.paddingTop=eDat[j+1][1]+"px";
                    layo.style.paddingRight=eDat[j+1][2]+"px";
                    layo.style.paddingBottom=eDat[j+1][3]+"px";
                
                }
  				else if ((comS(eTyp,"MAGI")||comS(eTyp,"MARGIN"))&& Instanceof(eDat[j+1],"Array") ){
                    if (eDat[j+1][0]==0){layo.style.marginLeft="auto";}else{layo.style.marginLeft=eDat[j+1][0]+"px";}
                    if (eDat[j+1][1]==0){layo.style.marginTop="auto";}else{layo.style.marginTop=eDat[j+1][1]+"px";}
                    if (eDat[j+1][2]==0){layo.style.marginRight="auto";}else{layo.style.marginRight=eDat[j+1][2]+"px";}
                    if (eDat[j+1][3]==0){layo.style.marginBottom="auto";}else{layo.style.marginBottom=eDat[j+1][3]+"px";}
                }
 				else if ((comS(eTyp,"OPAC")||comS(eTyp,"ALPHA")||comS(eTyp,"OPACITY"))){layo.style.opacity=eDat[j+1];}
				else if ((comS(eTyp,"DIPL")||comS(eTyp,"DISPLAY")||comS(eTyp,"VISIBILITY")) && Instanceof(eDat[j+1],"Number") ){
                    if (eDat[j+1]>0.5){layo.style.visibility="visible";}else{layo.style.visibility="hidden";}
                }
				else if ((comS(eTyp,"WH")||comS(eTyp,"SIZE"))&& Instanceof(eDat[j+1],"Array") ){
                    if (Instanceof(eDat[j+1][0],"String")){layo.style.width = eDat[j+1][0];} else {layo.style.width = eDat[j+1][0]+"px";}
                    if (Instanceof(eDat[j+1][1],"String")){layo.style.height = eDat[j+1][1];} else {layo.style.height = eDat[j+1][1]+"px";}
                    alignGravity(layo,layo.kGravity);
                }
				else if ((comS(eTyp,"LAPA")||comS(eTyp,"LAYOUTPARAMS"))&& Instanceof(eDat[j+1],"Array")){
                    if (Instanceof(eDat[j+1][0],"String")){layo.style.width = eDat[j+1][0];} else {layo.style.width = eDat[j+1][0]+"px";}
                    if (Instanceof(eDat[j+1][1],"String")){layo.style.height = eDat[j+1][1];} else {layo.style.height = eDat[j+1][1]+"px";}
                    alignGravity(layo,eDat[j+1][2]);
				}
                else if ((comS(eTyp,"ZI")||comS(eTyp,"ZINDEX"))){layo.style.zIndex=eDat[j+1];}
				
				
                
                
                
                else if ((comS(eTyp,"TE")||comS(eTyp,"INTE")||comS(eTyp,"SETE")||comS(eTyp,"TEXT")) ){eDat[j+1]=""+eDat[j+1];
                    layo.SText=eDat[j+1]; 
                    layo.sText=eDat[j+1]; 
                    
                    if (layo.EdTe){layo.setText(eDat[j+1]);}
                    else {var zS="";
                        for (var ii=0;ii<eDat[j+1].length;ii++){if ((eDat[j+1][ii]==' ')&&(ii<eDat[j+1].length-1)&&(eDat[j+1][ii+1]==' ')){zS+="&nbsp;";}else {zS+=eDat[j+1][ii];} } eDat[j+1]=zS; layo.sText=zS; zS="";
                        if (!layo.style.kMultiLine){layo.innerHTML=layo.sVerticalAlign_P1+"<font>"+layo.sText+"</font>"+layo.sVerticalAlign_P2;}
                        else {for (var ii=0;ii<eDat[j+1].length;ii++){if (eDat[j+1][ii]==S10){zS+="<br>";}else {zS+=eDat[j+1][ii];} } layo.sText=zS; layo.innerHTML=layo.sVerticalAlign_P1+"<font>"+layo.sText+"</font>"+layo.sVerticalAlign_P2; }
                    }
                }
				else if ((comS(eTyp,"HTML")||comS(eTyp,"INHT")) ){layo.innerHTML=""+eDat[j+1];}
				else if (comS(eTyp,"TESI")||comS(eTyp,"FOSI")||comS(eTyp,"TEXTSIZE")){
					if (Instanceof(eDat[j+1],"Array")){
                        if (eDat[j+1][0]==UNIT_MM){layo.style.fontSize=mm(eDat[j+1][1])+"px";}
                        else {layo.style.fontSize=eDat[j+1][1]+"px";}
					}
					else{layo.style.fontSize=eDat[j+1]+"px";}
				}
                else if (comS(eTyp,"LISP")||comS(eTyp,"LINESPACING") ){
					if (Instanceof(eDat[j+1],"Array")){ layo.style.lineHeight=eDat[j+1][0]+eDat[j+1][1]; }
					else{ layo.style.lineHeight=eDat[j+1];}
				}
				else if ((comS(eTyp,"TEST")||comS(eTyp,"FOST")||comS(eTyp,"TEXTSTYLE")||comS(eTyp,"FONTSTYLE"))&& Instanceof(eDat[j+1],"Number")){
					if (eDat[j+1]==0){ layo.style.fontWeight = "normal"; layo.style.fontStyle="normal";} 
					else if (eDat[j+1]==1){ layo.style.fontWeight = "bold"; layo.style.fontStyle="normal";}
					else if (eDat[j+1]==2){ layo.style.fontStyle="italic";}
					else if (eDat[j+1]==3){ layo.style.fontWeight = "bold"; layo.style.fontStyle="italic";}
                }
				else if ((comS(eTyp,"UNDERLINE")||comS(eTyp,"TEUL")||comS(eTyp,"FOUL")||comS(eTyp,"UNLI"))){layo.style.textDecoration = "underline";}
				else if ((comS(eTyp,"TYFA")||comS(eTyp,"FONT")||comS(eTyp,"FOFA")||comS(eTyp,"FONTFAMILY")||comS(eTyp,"TYPEFACE")) ){
					if (Instanceof(eDat[j+1],"String")){
						layo.style.fontFamily=eDat[j+1];
					}
					
					
					
					
					
					
				}
                else if ((comS(eTyp,"GRAVITY")) && Instanceof(eDat[j+1],"Number")){alignGravity(layo,eDat[j+1]);}
                else if ((comS(eTyp,"MULI")||comS(eTyp,"MULTILINE"))&& Instanceof(eDat[j+1],"Number")){if (eDat[j+1]<0.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;}}
				else if ((comS(eTyp,"MALI")||comS(eTyp,"MAXLINE"))&& Instanceof(eDat[j+1],"Number")){ if (eDat[j+1]<1.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;} }
				else if ((comS(eTyp,"1LI")||comS(eTyp,"1LINE")) ){ layo.style.kMultiLine=false; }
				else if ((comS(eTyp,"NLI")||comS(eTyp,"NLINE")) && Instanceof(eDat[j+1],"Number")){ if (eDat[j+1]<1.5){layo.style.kMultiLine=false;} else {layo.style.kMultiLine=true;} }
				else if ((comS(eTyp,"SELE")||comS(eTyp,"COPY")||comS(eTyp,"SELECLTABLE"))&& Instanceof(eDat[j+1],"Number")){
                    if (eDat[j+1]<0.5){disableSelectText(layo);}
                    else if (eDat[j+1]>1) {enableSelectText(layo);}
                    else {enableSelectText(layo);}
                }
	
                
                else if (comS(eTyp,"SRC")||comS(eTyp,"URL")){
                    
                    if (layo.src!=null){layo.src=eDat[j+1];}
                    else if (layo.width==null){loadFig(layo,eDat[j+1]);}
                    else{
                        if (Instanceof(eDat[j+1],"String")){ 
                            var ctx = layo.getContext("2d");
                            const img = new Image();
                            img.onload = function() {
                                layo.width=this.width; layo.height=this.height;
                                ctx.drawImage(this, 0,0, this.width, this.height);
                            }
                            img.src = eDat[j+1];
                        }
                        else{
                            if (!eDat[j+1].src){
                                layo.width=eDat[j+1].width; layo.height=eDat[j+1].height;
                                var ctx = layo.getContext('2d');
                                ctx.drawImage(eDat[j+1], 0, 0);
                            }
                            else{
                                var ctx = layo.getContext("2d");
                                const img = new Image();
                                img.onload = function() {
                                    layo.width=this.width; layo.height=this.height;
                                    ctx.drawImage(this, 0,0, this.width, this.height);
                                }
                                img.src = eDat[j+1].src;
                            }
                        }
                    }
				}
                
                
			}
		}
		return layo;
	}
    

    function addFrameCommand(layo){
        layo.addView=function(view){layo.appendChild(view);}
        layo.removeView=function(view){layo.removeChild(view);}
        layo.removeAllViews=function(){
            while (layo.firstChild){ layo.removeChild(layo.lastChild); }
            layo.innerHTML="";
        }
        
        
        
        
    }
	function aFrLay(ly, eDat){
		var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "100%"; layo.style.height = "100%";  layo.style.overflow = "hidden";
        layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
        layo.sVerticalAlign_P2="</td></tr></table>";
        layo.sText="";
        layo.style.kMultiLine=true;
        addFrameCommand(layo);
        eLay(layo,eDat);
		ly.appendChild(layo);
        
        layo.ElementMom=ly;
		return layo;
	}
	function aLiLay(ly, eDat){return aFrLay(ly,eDat);}
	function aReLay(ly, eDat){return aFrLay(ly,eDat);}
	
	function aScrVLay(ly, eDat){
        var scr=aScrV2(ly,eDat);
        
		var fr=aFrLay(scr,["wh",[FR.M,FR.W]]);
        
		
		return fr;
	}
    
     
        function eScrV(view,eDat){return eLay(view,eDat);}
		function aScrV2(ly,eDat){
			
			
			
			
            var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "100%"; layo.style.height = "auto";  layo.style.overflow = "auto";
            layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
            layo.sVerticalAlign_P2="</td></tr></table>";
            layo.sText="";
            layo.style.kMultiLine=true;
            layo.addView=function(view){layo.appendChild(view);}
            layo.removeView=function(view){layo.removeChild(view);}
            
            layo.scrollable = true;
			layo.isScrolling=function(){return layo.scrollable;}
			layo.setEnableScrolling=function(state){layo.scrollable = state;
                if (state){
                    layo.style.overflow = "auto";
                }
                else {
                    layo.style.overflow = "hidden";
                }
            }
			layo.enableScroll=function(){layo.scrollable=true;layo.style.overflow = "auto";}
			layo.disableScroll=function(){layo.scrollable=false;layo.style.overflow = "hidden";}
				
            eScrV(layo,eDat);
			ly.addView(layo);
            
            layo.ElementMom=ly;
			return layo;
		}
        
        
            
		function eScrH(view,eDat){return eLay(view,eDat);}
		function aScrH2(ly,eDat){
			
			
			
			
            var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "auto"; layo.style.height = "100%";  layo.style.overflow = "auto";
            layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
            layo.sVerticalAlign_P2="</td></tr></table>";
            layo.sText="";
            layo.style.kMultiLine=true;
            layo.addView=function(view){layo.appendChild(view);}
            layo.removeView=function(view){layo.removeChild(view);}
            
            layo.scrollable = true;
			layo.isScrolling=function(){return layo.scrollable;}
			layo.setEnableScrolling=function(state){layo.scrollable = state;
                if (state){
                    layo.style.overflow = "auto";
                }
                else {
                    layo.style.overflow = "hidden";
                }
            }
			layo.enableScroll=function(){layo.scrollable=true;layo.style.overflow = "auto";}
			layo.disableScroll=function(){layo.scrollable=false;layo.style.overflow = "hidden";}
				
            eScrV(layo,eDat);
			ly.addView(layo);
            
            layo.ElementMom=ly;
			return layo;
		}

        
    
    
    
	function aScLay(ly, padi__eDat, eDat){
        if (eDat){
            var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "100%"; layo.style.height = "100%";  layo.style.overflow = "auto";
            layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
            layo.sVerticalAlign_P2="</td></tr></table>";
            layo.sText="";
            layo.style.kMultiLine=true;
            layo.addView=function(view){layo.appendChild(view);}
            layo.removeView=function(view){layo.removeChild(view);}
            
            layo.scrollable = true;
			layo.isScrolling=function(){return layo.scrollable;}
			layo.setEnableScrolling=function(state){layo.scrollable = state;
                if (state){
                    layo.style.overflow = "auto";
                }
                else {
                    layo.style.overflow = "hidden";
                }
            }
			layo.enableScroll=function(){layo.scrollable=true;layo.style.overflow = "auto";}
			layo.disableScroll=function(){layo.scrollable=false;layo.style.overflow = "hidden";}
				
            eScrV(layo,eDat);
			ly.addView(layo);
            layo.ElementMom=ly;
        
            var fr=aFrLay(layo,["wh",[FR.W,FR.W] ]);
            if (padi__eDat!=0){eLay(fr,["magi",[padi__eDat,padi__eDat,padi__eDat,padi__eDat] ]);}
            fr.ElementMom=layo;
            return fr;
        }
        return aScLay(ly, 0, eDat);
	}
    
    function eText(view,eDat){return eLay(view,eDat);}
    function setShadowLayer(view,range,tx,ty,color){view.style.textShadow=tx+"px "+ty+"px "+range+"px "+color+", "+tx+"px "+ty+"px "+range+"px "+color;}
    function countS10(s){var n=0;for (var ii=0;ii<s.length;ii++){if (s[ii]==S10){n+=1;}return n;}}
	function aText(ly, eDat){
        var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "auto"; layo.style.height = "auto";  layo.style.overflow = "hidden";
        layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
        layo.sVerticalAlign_P2="</td></tr></table>";
        layo.sText="";
        layo.style.kMultiLine=false;
        layo.setShadowLayer=function(range,tx,ty,color){
            layo.style.textShadow=tx+"px "+ty+"px "+range+"px "+color+", "+tx+"px "+ty+"px "+range+"px "+color;
        }
        layo.getText=function(){return layo.SText;}
        layo.setText=function(s){eText(layo,["te",s]);}
        
        
		eLay(layo,eDat);
		ly.appendChild(layo);
        layo.ElementMom=ly;
        return layo;
    }
	
    var InputType=[];
        InputType.TYPE_CLASS_DATETIME=0;
		InputType.TYPE_CLASS_NUMBER=0;
		InputType.TYPE_CLASS_PHONE=0;
		InputType.TYPE_CLASS_TEXT=0;
		InputType.TYPE_DATETIME_VARIATION_DATE=0;
		InputType.TYPE_DATETIME_VARIATION_NORMAL=0;
		InputType.TYPE_DATETIME_VARIATION_TIME=0;
		InputType.TYPE_MASK_CLASS=0;
		InputType.TYPE_MASK_FLAGS=0;
		InputType.TYPE_MASK_VARIATION=0;
		InputType.TYPE_NULL=0;
		InputType.TYPE_NUMBER_FLAG_DECIMAL=0;
		InputType.TYPE_NUMBER_FLAG_SIGNED=0;
		InputType.TYPE_NUMBER_VARIATION_NORMAL=0;
		InputType.TYPE_NUMBER_VARIATION_PASSWORD=0;
		InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE=0;
		InputType.TYPE_TEXT_FLAG_AUTO_CORRECT=0;
		InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS=0;
		InputType.TYPE_TEXT_FLAG_CAP_SENTENCES=0;
		InputType.TYPE_TEXT_FLAG_CAP_WORDS=0;
		InputType.TYPE_TEXT_FLAG_IME_MULTI_LINE=0;
		InputType.TYPE_TEXT_FLAG_MULTI_LINE=0;
		InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS=0;
		InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS=0;
		InputType.TYPE_TEXT_VARIATION_EMAIL_SUBJECT=0;
		InputType.TYPE_TEXT_VARIATION_FILTER=0;
		InputType.TYPE_TEXT_VARIATION_LONG_MESSAGE=0;
		InputType.TYPE_TEXT_VARIATION_NORMAL=0;
		InputType.TYPE_TEXT_VARIATION_PASSWORD=0;
		InputType.TYPE_TEXT_VARIATION_PERSON_NAME=0;
		InputType.TYPE_TEXT_VARIATION_PHONETIC=0;
		InputType.TYPE_TEXT_VARIATION_POSTAL_ADDRESS=0;
		InputType.TYPE_TEXT_VARIATION_SHORT_MESSAGE=0;
		InputType.TYPE_TEXT_VARIATION_URI=0;
		InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD=0;
		InputType.TYPE_TEXT_VARIATION_WEB_EDIT_TEXT=0;
		InputType.TYPE_TEXT_VARIATION_WEB_EMAIL_ADDRESS=0;
		InputType.TYPE_TEXT_VARIATION_WEB_PASSWORD=0;
	var AIInputType=[
		InputType.TYPE_CLASS_DATETIME,
		InputType.TYPE_CLASS_NUMBER,
		InputType.TYPE_CLASS_PHONE,
		InputType.TYPE_CLASS_TEXT,
		InputType.TYPE_DATETIME_VARIATION_DATE,
		InputType.TYPE_DATETIME_VARIATION_NORMAL,
		InputType.TYPE_DATETIME_VARIATION_TIME,
		InputType.TYPE_MASK_CLASS,
		InputType.TYPE_MASK_FLAGS,
		InputType.TYPE_MASK_VARIATION,
		InputType.TYPE_NULL,
		InputType.TYPE_NUMBER_FLAG_DECIMAL,
		InputType.TYPE_NUMBER_FLAG_SIGNED,
		InputType.TYPE_NUMBER_VARIATION_NORMAL,
		InputType.TYPE_NUMBER_VARIATION_PASSWORD,
		InputType.TYPE_TEXT_FLAG_AUTO_COMPLETE,
		InputType.TYPE_TEXT_FLAG_AUTO_CORRECT,
		InputType.TYPE_TEXT_FLAG_CAP_CHARACTERS,
		InputType.TYPE_TEXT_FLAG_CAP_SENTENCES,
		InputType.TYPE_TEXT_FLAG_CAP_WORDS,
		InputType.TYPE_TEXT_FLAG_IME_MULTI_LINE,
		InputType.TYPE_TEXT_FLAG_MULTI_LINE,
		InputType.TYPE_TEXT_FLAG_NO_SUGGESTIONS,
		InputType.TYPE_TEXT_VARIATION_EMAIL_ADDRESS,
		InputType.TYPE_TEXT_VARIATION_EMAIL_SUBJECT,
		InputType.TYPE_TEXT_VARIATION_FILTER,
		InputType.TYPE_TEXT_VARIATION_LONG_MESSAGE,
		InputType.TYPE_TEXT_VARIATION_NORMAL,
		InputType.TYPE_TEXT_VARIATION_PASSWORD,
		InputType.TYPE_TEXT_VARIATION_PERSON_NAME,
		InputType.TYPE_TEXT_VARIATION_PHONETIC,
		InputType.TYPE_TEXT_VARIATION_POSTAL_ADDRESS,
		InputType.TYPE_TEXT_VARIATION_SHORT_MESSAGE,
		InputType.TYPE_TEXT_VARIATION_URI,
		InputType.TYPE_TEXT_VARIATION_VISIBLE_PASSWORD,
		InputType.TYPE_TEXT_VARIATION_WEB_EDIT_TEXT,
		InputType.TYPE_TEXT_VARIATION_WEB_EMAIL_ADDRESS,
		InputType.TYPE_TEXT_VARIATION_WEB_PASSWORD
	];
    
    var Element_ID=0;
    var element_ID=function(){Element_ID+=1;return Element_ID;};
    var e_ID=function(){Element_ID+=1;return Element_ID;};
    
    function addCSS(view,className){
        view.classList.add(className);
    }
    function eCSS(className,s){ var style = document.getElementById(className);
        style.innerHTML = '.'+className+s;
        return style;
    }
    function aCSS(className,s){ var style = document.createElement('style');
        style.id=className; style.type = 'text/css';
        style.innerHTML = '.'+className+s;
        document.getElementsByTagName('head')[0].appendChild(style);
        return style;
    }
    function eCSS_raw(className,s){ var style = document.getElementById(className);
        style.innerHTML = s;
        return style;
    }
    function aCSS_raw(className,s){ var style = document.createElement('style');
        style.id=className; style.type = 'text/css';
        style.innerHTML = s;
        document.getElementsByTagName('head')[0].appendChild(style);
        return style;
    }
    
    function hideKeyboard(view) {
		
		
	}
	function HideKeyboard(view){}
	function hideSoftKeyboard(view) {
		
		
	}
	
	function showKeyboard(view){showSoftKeyboard(view);}
	function showSoftKeyboard(view) {
		
		
		
		
	}

    
    function aCSS_placeholder(className,cssContent){
        return aCSS_raw(className,"."+className+"::-webkit-input-placeholder {"+cssContent+"}"
            +S10+"."+className+":-moz-placeholder {"+cssContent+"}"
            +S10+"."+className+"::-moz-placeholder {"+cssContent+"}"
            +S10+"."+className+":-ms-input-placeholder {"+cssContent+"}"
            +S10+"."+className+"::placeholder {"+cssContent+"}");
    }
    function eCSS_placeholder(className,cssContent){
        return eCSS_raw(className,"."+className+"::-webkit-input-placeholder {"+cssContent+"}"
            +S10+"."+className+":-moz-placeholder {"+cssContent+"}"
            +S10+"."+className+"::-moz-placeholder {"+cssContent+"}"
            +S10+"."+className+":-ms-input-placeholder {"+cssContent+"}"
            +S10+"."+className+"::placeholder {"+cssContent+"}");
    }

  
    
    function eEdText(view,eDat){
        var layo=eLay(view,eDat);
        layo.reloadCSS();
        return layo;
    }
	function aEdText(ly, eDat){
        
		
        
        var layo = document.createElement("div"); layo.style.position = "absolute"; layo.style.width = "auto"; layo.style.height = "auto";  layo.style.overflow = "hidden";
        layo.id="Fr"+e_ID();
        layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:top;'>";
        layo.sVerticalAlign_P2="</td></tr></table>";
        layo.sText="";
        layo.style.kMultiLine=false;
        layo.setShadowLayer=function(range,tx,ty,color){
            layo.style.textShadow=tx+"px "+ty+"px "+range+"px "+color+", "+tx+"px "+ty+"px "+range+"px "+color;
        }
        aCSS_placeholder(layo.id+"_hicolo","")
        layo.sHTML_P1A="<textarea id='"+(layo.id+"_EdTe")+"' placeholder='";
        layo.sHTML_P1B="' cols=1 rows=1 wrap='off' spellcheck='false' style='overflow:auto; word-break:keep-all; width:100%; height:100%; border:none; outline:none !important; outline-width: 0 !important; box-shadow: none; -moz-box-shadow: none; -webkit-box-shadow: none; resize:none; background-color:transparent;   text-decoration:inherit; font-style:inherit; font-weight:inherit; font-size:inherit; font-family:inherit; color:inherit;'>";
        layo.sHTML_Hint="";
        layo.sHTML_P1=layo.sHTML_P1A+layo.sHTML_Hint+layo.sHTML_P1B;
        layo.sHTML_P2="</textarea>"
        
        
        layo.setHint=function(s){layo.sHTML_Hint=s; layo.sHTML_P1=layo.sHTML_P1A+layo.sHTML_Hint+layo.sHTML_P1B;reloadInnerHTML(layo); layo.reloadCSS();}
        layo.getText=function(){layo.SText=layo.EdTe.value; return layo.SText;}
        layo.setText=function(s){layo.SText=s; layo.sText=s; layo.EdTe.value=layo.SText;}
        layo.setTextColor=function(iTeColo){eLay(layo,["tecolo",iTeColo]);}
        layo.setHintTextColor=function(iHintColo){eCSS_placeholder(layo.id+"_hicolo","color: "+iHintColo+";")}
        layo.reloadCSS=function(){layo.EdTe=document.getElementById(layo.id+"_EdTe");addCSS(layo.EdTe,layo.id+"_hicolo");}
        layo.requestFocus=function(){layo.EdTe.focus();}
        
        
		ly.appendChild(layo);
        eEdText(layo,["GRAVITY",GRA.LT,"FONT","mono","fosi",mm(5)]);
		eEdText(layo,eDat);
        
        
        
        layo.ElementMom=ly;
        return layo;
	}
    
    
    
    
    


    
	var kClearFocus=true;
	function ClearFocus(tmpMom){if (kClearFocus){document.activeElement.blur();}}
    
    
	
    function ePic(view, eDat){return eLay(view,eDat);}
    function aPic(ly, eDat){
        var layo = document.createElement("canvas"); layo.style.position = "absolute"; layo.style.width = "100%"; layo.style.height = "100%"; layo.style.overflow = "auto";
        layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:center;'>";
        layo.sVerticalAlign_P2="</td></tr></table>";
        layo.sText="";
        layo.style.kMultiLine=true;
		eLay(layo,eDat);
		ly.appendChild(layo);
        layo.ElementMom=ly;
        return layo;
	}
    
    
    function eFig(view, eDat){return eLay(view,eDat);}
    function aFig(ly, eDat){
        var layo = document.createElement("img"); layo.style.position = "absolute"; layo.style.width = "100%"; layo.style.height = "100%"; layo.style.overflow = "auto";
        layo.sVerticalAlign_P1="<table cellspacing='0' cellpadding='0' style='width:100%;height:100%;'><tr><td style='width:100%;height:100%;vertical-align:center;'>";
        layo.sVerticalAlign_P2="</td></tr></table>";
        layo.sText="";
        layo.style.kMultiLine=true;
		eLay(layo,eDat);
		ly.appendChild(layo);
        layo.ElementMom=ly;
        return layo;
	}

    function loadFig(view,src,rX,rY){
        if (rX==null){rX=1;} if (rY==null){rY=rX;}
        view.style.backgroundImage='url("'+ src +'") ';
        if ((rX<10) || (rY<10)){view.style.backgroundSize=(rX*100)+"% "+(rY*100)+"% ";}
        else{view.style.backgroundSize=rX+"px "+rY+"px ";}
        
        
        
    }
    
    
</script>












<script>

	
	
	
	
	
	
	
	
    
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
    
    
	
	
	function sig(obj){bodyTraceSig.sig(""+obj,1500);}
	function sigL(obj){bodyTraceSig.sig(""+obj,3000);}
	
    
    

    var js_Sig=function(){var This=this;
		This.Text;
		This.Bacolo=hsla(0,0,20,0.8);
		This.Colo=hsl(0,100,100);
		This.Size=12;
		This.k=0;
		This.FrMom;
		This.typeMom=0;
		This.lay;
		This.shp;
		This.tx;
        This.teleport=function(newMom){if (This.lay!=null){This.FrMom.removeView(This.lay);This.FrMom=newMom;This.FrMom.addView(This.lay);}return This;}
		This.add=function(Mom, sText){This.FrMom=Mom;This.typeMom=0;
			if (This.k==0){
				This.Text=sText;
				This.lay=aFrLay(Mom,["lapa",[FR.W,FR.W,GRA.LB],"PADI",[This.Size*2/3,This.Size/4,This.Size*4/3,0],"scr",0 ]);
				This.tx=aText(This.lay,["muli",1,"fofa","mono","Te",This.Text,"colo",This.Colo,"tesi",This.Size,"wh",[FR.W,FR.W] ]);
                wrapMe(This.tx);
                addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [0, 0, This.Size, This.Size, 0, 0, 0, 0] ); 
				Mom.bringChildToFront(This.lay);
				This.k=1;
			}
			else {
				This.Text=sText;
				eText(This.tx,["te",This.Text]);
			}
			return This;
		}
		This.remove=function(){This.FrMom.removeView(This.lay);return This;}
		This.bacolo=function(Color){
			This.Bacolo=Color;
			addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [0, 0, This.Size, This.Size, 0, 0, 0, 0] ); 
			return This;
		}
		This.colo=function(Color){
			This.Colo=Color;
			eText(This.tx,["colo",This.Colo]);
			return This;
		}
		This.size=function(Size){
			This.Size=Size;
			eText(This.tx,["tesi",This.Size]);
			addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [0, 0, This.Size, This.Size, 0, 0, 0, 0] ); 
			return This;
		}
		This.text=function(sText){
			This.Text=sText;
			eText(This.tx,["text",This.Text]);
			return This;
		}
		This.toFront=function(){
			This.lay.bringToFront();
			return This;
		}
		This.hide=function(){
			This.lay.setVisibility(View.GONE);
			return This;
		}
		This.show=function(){
			This.lay.setVisibility(View.VISIBLE);
			This.toFront();
			return This;
		}
		This.kClose=0; This.Ms=3000;
		This.ms=function(MS){This.Ms=MS; return This;}
		This.sig=function(sText,MS){
            if (!MS){return This.sig(sText,This.Ms);}
            else{
                This.Ms=MS;This.kClose+=1;var key=This.kClose*1;
                This.text(sText).show();
                delayF(function(){if (This.kClose==key){This.hide();} },This.Ms);
                return This;
            }
		}

        return This;
	}
    var Sig=function(){return (new js_Sig());}
    
    
	var js_SigH=function(){var This=this;
		This.Text;
		This.Bacolo=hsla(0,0,20,0.8);
		This.Colo=hsl(0,100,100);
		This.Size=15;
		This.x=0;This.y=0;
		This.k=0;
		This.FrMom;
		This.typeMom=0;
		This.lay;
		This.tx;
		This.teleport=function(newMom){if (This.lay!=null){This.FrMom.removeView(This.lay);This.FrMom=newMom;This.FrMom.addView(This.lay);}return This;}
		This.add=function(Mom,sText){This.FrMom=Mom;This.typeMom=0;
			if (This.k==0){
				This.Text=sText;
				This.lay=aFrLay(Mom,["lapa",[gView(Mom,"W")/2,This.Size,GRA.C], "PADI",[This.Size*2,This.Size,This.Size*2,This.Size],"scr",0 ]);
				This.tx=aText(This.lay,["muli",1,"fofa","comic","Te",This.Text,"colo",This.Colo,"tesi",This.Size,"lapa",[FR.W,FR.W,GRA.C],"scr",0 ]);
                
                var zCr=This.Size*2;
                addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [zCr, zCr, zCr, zCr,   zCr, zCr, zCr, zCr] );
				Mom.bringChildToFront(This.lay);
				This.k=1;
			}
			else {
				This.Text=sText;
				eText(This.tx,["text",This.Text] );
			}
			return This;
		}
		This.remove=function(){This.FrMom.removeView(This.lay);return This;}
	
		This.x=function(vx){
			This.x=vx;
			This.lay.setTranslationX(This.x);
			return This;
		}
		This.y=function(vy){
			This.y=vy;
			This.lay.setTranslationY(This.y);
			return This;
		}
		This.bacolo=function(Color){
			This.Bacolo=Color;
            var zCr=This.Size*2;
            addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [zCr, zCr, zCr, zCr,   zCr, zCr, zCr, zCr] );
			return This;
		}
		This.colo=function(Color){
			This.Colo=Color;
			eText(This.tx,["colo",This.Colo]);
			return This;
		}
		This.size=function(Size){
			This.Size=Size;
			eText(This.tx,["tesi",This.Size]);
            var zCr=This.Size*2;
            addBackground(This.lay, 3, [This.Bacolo,This.Bacolo], 1, [], [zCr, zCr, zCr, zCr,   zCr, zCr, zCr, zCr] );
			return This;
		}
		This.text=function(sText){
			This.Text=sText;
			eText(This.tx,["te",This.Text]);
			return This;
		}
		This.toFront=function(){
			This.lay.bringToFront();
			return This;
		}
		This.hide=function(){
			This.lay.setVisibility(View.GONE);
			return This;
		}
		This.show=function(){
			This.lay.setVisibility(View.VISIBLE);
			This.toFront();
			return This;
		}
		This.kClose=0; This.Ms=3000;
		This.ms=function(MS){Ms=MS; return This;}
		This.sig=function(sText,MS){
            if (!MS){return This.sig(sText,This.Ms);}
            else{
                This.Ms=MS;This.kClose+=1;var key=This.kClose*1;
                This.text(sText).show();
                delayF(function(){if (This.kClose==key){This.hide();} },This.Ms);
                return This;
            }
		}
	}
    var SigH=function(){return (new js_SigH());}
	
    
		var tHideTrace=3000,keyHideTrace=0;
		var limTrace=10;
		var LSTrace=[];
		function traceLimit(n){limTrace=n;}
		function traceTime(ms){tHideTrace=ms;}
		function trace(obj){var SText=""+obj;
				LSTrace.add(SText);
				keyHideTrace+=1; if (keyHideTrace>99){keyHideTrace=0;}
				if (LSTrace.size()>limTrace){LSTrace.remove(0);}
				var SOut="";
				for (var i=0;i<LSTrace.size();i++){
						if (i>0){SOut+=""+chr(10);}
						SOut+=""+LSTrace.get(i);
					}
				bodym.text(SOut).show();
				hideTrace(keyHideTrace);
		}
		function hideTrace(iKey){
			delayF(function(){
				if (iKey==keyHideTrace){bodym.hide();}
			},tHideTrace);
		}
		
		function SAString(AString){
            var SOut=AString.length+" ♥ ";
            for (var i=0;i<AString.length;i++){
                    if (i>0){SOut+=" ★ ";}
                    SOut+=AString[i];
                }
            return SOut;
		}
		function SLString(LString){
            var SOut=LString.size()+" ♥ ";
            for (var i=0;i<LString.size();i++){
                if (i>0){SOut+=" ★ ";}
                SOut+=LString.get(i);
            }
            return SOut;
		}
        
        
        
        
        
    var js_TraceSig=function(){var This=this;
		This.Sig=new Sig();
		This.SigH=new SigH();
		This.FrMom;
		This.teleport=function(newMom){This.Sig.teleport(newMom);This.SigH.teleport(newMom);return this;}
		This.create=function(Mom){This.FrMom=Mom;
			This.Sig.add(Mom,"").hide();
			This.SigH.add(Mom,"").hide();
			return This;
		}
		This.R_onRemove=ERUN;
		This.remove=function(){This.Sig.remove();This.SigH.remove();(new Handler()).post(R_onRemove);}
		This.tHideTrace=3000; This.keyHideTrace=0;
		This.limTrace=10;
		This.LSTrace=[];
		This.traceLimit=function(n){if (n<This.limTrace){This.LSTrace=[];} This.limTrace=n;}
		This.traceTime=function(ms){This.tHideTrace=ms;}
		This.trace=function(obj){var SText=""+obj;
			This.LSTrace.add(SText);
			This.keyHideTrace+=1; if (This.keyHideTrace>999){This.keyHideTrace=0;}
			if (This.LSTrace.size()>This.limTrace){This.LSTrace.remove(0);}
			var SOut="";
			for (var i=0;i<This.LSTrace.size();i++){
				if (i>0){SOut+=""+chr(10);}
				SOut+=""+This.LSTrace.get(i);
			}
			This.Sig.text(SOut).show().toFront();
			This.hideTrace(This.keyHideTrace);
		}
		This.hideTrace=function(iKey){
			delayF(function(){
				if (iKey==This.keyHideTrace){This.Sig.hide();}
			},This.tHideTrace);
		}
		This.keyHideSig=0;
		This.sig=function(obj,ms){var s=""+obj;if (!ms){ms=1500;}
			This.keyHideSig+=1; if (This.keyHideSig>999){This.keyHideSig=0;}
			This.SigH.text(s).show().toFront();
			This.hideSig(This.keyHideSig,ms);
		}	
		This.hideSig=function(iKey, tHideSig){
			delayF(function(){
				if (iKey==This.keyHideSig){This.SigH.hide();}
			},tHideSig);
		}
		This.sigFinish=function(s, ms){
			This.keyHideSig+=1; if (This.keyHideSig>999){This.keyHideSig=0;}
			This.SigH.text(s).show().toFront();
			This.hideSigFinish(This.keyHideSig,ms);
		}
		This.hideSigFinish=function(iKey, tHideSig){
			delayF(function(){
				if (iKey==This.keyHideSig){This.SigH.hide();This.remove();}
			},tHideSig);
		}
	}
    var TraceSig=function(){return (new js_TraceSig());}
    
	
	
	

</script>




    
    
    
    
    

    
    
    
    
    
    
    


<script>
	
	
	
	
	
	
	
	
	
	
	
	
    
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
    
    
    var Handler = function(){this.post = function(r){r();};return this;}; Handler.post = function(r){r();}

	function run(R){R();}
	function Run(R){R();}
	function RUN(R){R();}
    
    var js_delayF = function(r, delay){
        var timerId; this.start;
        this.r=r; this.remaining = delay;
        this.pause = function() {
            window.clearTimeout(timerId);
            this.remaining -= Date.now() - this.start;
        };
        this.resume = function() {
            this.start = Date.now();
            window.clearTimeout(timerId);
            timerId = window.setTimeout(this.r, this.remaining);
        };
        this.resume();
        this.timerId=timerId;
        return this.pause;
    };
    var delayF=function(r,delay){return new js_delayF(r,delay);}
    
	function cycleF(r, interval){return setInterval(r,interval);}
	function stopCycleF(t){clearInterval(t);}
    
    var js_RunCycle = function(r, i_ms){var This=this;
        This.t="";
        This.r=function(){};
        This.i=30;
        This.kRemoved=0;This.kPaused=0;
        This.safeMode=true;
        if (!((!r)||(!i_ms))){
            This.t="";
            This.r=r;
            This.i=i_ms;
            This.kRemoved=0;This.kPaused=0;
            This.safeMode=true;
        }
        This.run=function(rRun, interval){
            if ((!rRun)&&(!interval)){This.safeMode=false; if (This.kRemoved==0){stopCycleF(This.t); This.t=cycleF(This.r,This.i); This.kPaused=0;} return This;}
            else{This.r=rRun; This.i=interval; This.run(); return This;}
        }
        This.runSafe=function(rRun,interval){
            if ((!rRun)&&(!interval)){
                if (This.kRemoved==0){
                    delayF(function(){if (This.kPaused==0){(new Handler()).post(This.r);}This.runSafe();},This.i);
                } return This;
            }
            else{
                This.r=rRun; This.i=interval;
                stopCycleF(This.t);
                This.kPaused=0;
                This.safeMode=true;
                This.runSafe();
                return This;
            }
        }
        This.resume=function(){if ((This.kPaused==1)&&(This.kRemoved==0)){This.kPaused=0;
            if (!This.safeMode){	
                stopCycleF(This.t); This.t=cycleF(This.r,This.i); 
            }
        } return This; }
        This.pause=function(){if (!This.safeMode){stopCycleF(This.t);} This.kPaused=1;return This;}
        This.stop=function(){stopCycleF(This.t);This.r=function(){};This.kPaused=1;This.kRemoved=1;return This;}
        
        return This;
	}
    var RunCycle=function(r, i_ms){
    	if ((!r)||(!i_ms)){return new js_RunCycle();}
    	else {return new js_RunCycle(r, i_ms);}
    }
    
	
    
	var RunCycle_MR= function(r, i_ms){
    	if ((!r)||(!i_ms)){return new js_RunCycle();}
    	else {return new js_RunCycle(r, i_ms);}
    }
    
	
	
	
	

</script>











<script>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

	var js_varT=function(){var This=this;
		This.t="";
		This.kStop=false;
        return This;
	}
    var varT=function(){return new js_varT();}

	var js_Var=function(){var This=this;
		This.s="";This.s1="";This.s2="";This.s3="";This.s4="";This.s5="";This.s6="";This.s7="";This.s8="";This.s9="";
		This.is="";This.is1="";This.is2="";This.is3="";This.is4="";This.is5="";This.is6="";This.is7="";This.is8="";This.is9="";

		This.b=false;This.b1=false;This.b2=false;
		This.c=' ';This.c1=' ';This.c2=' ';
		This.l=0;This.l1=0;This.l2=0;
		This.i=0;This.i1=0;This.i2=0;This.i3=0;
		This.j=0;This.j1=0;This.j2=0;This.j3=0;
		This.k=0;This.k1=0;This.k2=0;This.k3=0;
		This.v=0;This.v1=0;This.v2=0;
		This.f=0;This.f1=0;This.f2=0;
		This.d=0;This.r=0;This.x=0;This.y=0;This.z=0;This.d1=0;This.r1=0;This.x1=0;This.y1=0;This.z1=0;This.d2=0;This.r2=0;This.x2=0;This.y2=0;This.z2=0;

		This.t=""; This.kt=true;
        return This;
	}
	var Var=function(){return new js_Var();}

    




</script>















<script>

	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	

	var js_Motion=function(){var This=this;
		This.view;
		This.SODat="TX";
		This.valueSta=0;This.valueEnd=100;This.dLinearSta=1;This.dLinearEnd=1;This.middlePoint=0.5;
		This.rSpeed=0.1;This.minDifEnd=0.01;
		This.iPending_ms=0; This.iDuration_ms=1000; This.tStep_ms=50;
		This.XDat=[];
		This.onFinish=function(){};
		This.midPoint=function(dMidPoint){This.middlePoint=dMidPoint; return This;}
		This.linear=function(dli1, dli2){This.dLinearSta=dli1; This.dLinearEnd=dli2; return This;}
		This.linear=function(dli1, dli2, rMidPoint){This.dLinearSta=dli1; This.dLinearEnd=dli2; This.middlePoint=rMidPoint;  return This;}
		This.pending=function(iPend_ms){This.iPending_ms=iPend_ms; return This; }
		This.XDat=function(xDat){This.XDat=xDat; return This;}
		This.setOnFinish=function(R_onFinish){This.onFinish=R_onFinish; return This;}

		This.create=function(v,SDat,valSta_valEnd,valEnd__dLinear_Sta__iDuration_MS,dLinear_Sta__dLinear_End__iDuration_MS__rFinish,dLinear_End__rMiddlePoint__tStep_MS,rMiddlePoint__iPend_MS__xDat,iPend_MS__iDuration_MS__rFinish,iDuration_MS__rFinish,tStep_MS,xDat,rFinish){
            if (rFinish){This.view=v; This.SODat=SDat; This.valueSta=valSta_valEnd; This.valueEnd=valEnd__dLinear_Sta__iDuration_MS; This.dLinearSta=dLinear_Sta__dLinear_End__iDuration_MS__rFinish; This.dLinearEnd=dLinear_End__rMiddlePoint__tStep_MS; This.middlePoint=rMiddlePoint__iPend_MS__xDat; This.iPending_ms=iPend_MS__iDuration_MS__rFinish; This.iDuration_ms=iDuration_MS__rFinish;  This.tStep_ms=tStep_MS; This.XDat=xDat; This.onFinish=rFinish;  return This;}
            else if (iDuration_MS__rFinish){This.view=v; This.SODat=SDat; This.valueSta=gView(This.view,This.SODat); This.valueEnd=valSta_valEnd; This.dLinearSta=valEnd__dLinear_Sta__iDuration_MS; This.dLinearEnd=dLinear_Sta__dLinear_End__iDuration_MS__rFinish; This.middlePoint=dLinear_End__rMiddlePoint__tStep_MS; This.iPending_ms=rMiddlePoint__iPend_MS__xDat; This.iDuration_ms=iPend_MS__iDuration_MS__rFinish; This.onFinish=iDuration_MS__rFinish;  return This;}
            else if (iPend_MS__iDuration_MS__rFinish){ This.view=v; This.SODat=SDat; This.valueSta=valSta_valEnd; This.valueEnd=valEnd__dLinear_Sta__iDuration_MS; This.iDuration_ms=dLinear_Sta__dLinear_End__iDuration_MS__rFinish;  This.tStep_ms=dLinear_End__rMiddlePoint__tStep_MS; This.XDat=rMiddlePoint__iPend_MS__xDat; This.onFinish=iPend_MS__iDuration_MS__rFinish; return This;}
            else if (rMiddlePoint__iPend_MS__xDat){ This.view=v; This.SODat=SDat; This.valueSta=valSta_valEnd; This.valueEnd=valEnd__dLinear_Sta__iDuration_MS; This.iDuration_ms=dLinear_Sta__dLinear_End__iDuration_MS__rFinish;  This.tStep_ms=dLinear_End__rMiddlePoint__tStep_MS; This.XDat=rMiddlePoint__iPend_MS__xDat; return This;}
            else if (dLinear_Sta__dLinear_End__iDuration_MS__rFinish){ This.view=v; This.SODat=SDat; This.valueSta=gView(This.view,This.SODat); This.valueEnd=valSta_valEnd; This.iDuration_ms=valEnd__dLinear_Sta__iDuration_MS; This.onFinish=dLinear_Sta__dLinear_End__iDuration_MS__rFinish;  return This;  }
            else if (valEnd__dLinear_Sta__iDuration_MS){ This.view=v; This.SODat=SDat; This.valueSta=gView(This.view,This.SODat); This.valueEnd=valSta_valEnd; This.iDuration_ms=valEnd__dLinear_Sta__iDuration_MS;  return This; }
            else if (v){This.view=v; return This;}
        }
        
        
        
   		
		
		
		
        
        This.createLX=function(v,SDat,valSta,valEnd,dRSpeed,dDifEnd,iPend_MS,tStep_MS__xDat__rFinish,xDat__rFinish,rFinish){ 
            if (rFinish){This.view=v; This.SODat=SDat; This.valueSta=valSta; This.valueEnd=valEnd; This.rSpeed=dRSpeed; This.minDifEnd=dDifEnd; This.iPending_ms=iPend_MS; This.tStep_ms=tStep_MS__xDat__rFinish; This.XDat=xDat__rFinish; This.onFinish=rFinish; return This;}
            else if (xDat__rFinish){This.view=v; This.SODat=SDat; This.valueSta=valSta; This.valueEnd=valEnd; This.rSpeed=dRSpeed; This.minDifEnd=dDifEnd; This.tStep_ms=tStep_MS; This.XDat=tStep_MS__xDat__rFinish; This.onFinish=xDat__rFinish; return This;}
            else if (tStep_MS__xDat__rFinish){
                if (Instanceof(tStep_MS__xDat__rFinish,"Array")){return This.createLX(v, SDat, valSta, valEnd, dRSpeed, dDifEnd, This.tStep_MS, tStep_MS__xDat__rFinish, ERUN); }
                else {return This.createLX(v, SDat, valSta, valEnd, dRSpeed, dDifEnd, This.tStep_MS, [], tStep_MS__xDat__rFinish);}
            }
            else if (This.tStep_MS){return This.createLX(v, SDat, valSta, valEnd, dRSpeed, dDifEnd, This.tStep_MS, [], ERUN);}
        }
        
        
		
		
		
		
        
		This.play=function(){ motion(This.view, This.SODat, This.valueSta, This.valueEnd, This.dLinearSta, This.dLinearEnd, This.middlePoint, This.iPending_ms, This.iDuration_ms, This.tStep_ms, This.XDat, This.onFinish); return This; }
		This.playLX=function(){ motionLX(This.view, This.SODat, This.valueSta, This.valueEnd, This.rSpeed, This.minDifEnd, This.iPending_ms, This.tStep_ms, This.XDat); return This; }
		This.playLXR=function(){ motionLX(This.view, This.SODat, This.valueSta, This.valueEnd, This.rSpeed, This.minDifEnd, This.iPending_ms, This.tStep_ms, This.XDat, This.onFinish); return This; }

        This.cr=new Var();
        
		This.release=function(){stopCycleF(This.cr.t); This.cr.kt=false;}
		This.kPause=false;
		This.pause=function(){This.kPause=true;}
		This.resume=function(){This.kPause=false;}
		This.stop=function(){stopCycleF(This.cr.t); This.cr.kt=false;}
        
        
		This.motion=function(vi, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_MS, iDuration_MS, tStep_MS, XDat__onFinish, onFinish){
            if (onFinish){
                This.view=vi;
                This.cr.i1=XDat__onFinish.length/3; This.cr.i2=-3; This.cr.i3=-2;
                var SXDat=[]; var dXDat=[];
                for (var ii=0;ii<This.cr.i1;ii++){This.cr.i2+=3; This.cr.i3+=2; SXDat[ii]=""+XDat__onFinish[This.cr.i2]; dXDat[This.cr.i3]=doubleS(""+XDat__onFinish[This.cr.i2+1]); dXDat[This.cr.i3+1]=doubleS(""+XDat__onFinish[This.cr.i2+2]); }
                var fSXDat=SXDat; var fdXDat=dXDat;
                var nStep=iDuration_MS/tStep_MS;
                var midStep=intS(""+(nStep*middlePoint));
                var nStepEnd=nStep-midStep;
                var valueMid=valueSta+(valueEnd-valueSta)*middlePoint;
                This.cr.j=-1;
                delayF(function(){ This.cr.kt=true; This.kPause=false;
                            This.cr.t=cycleF(function(){if (This.cr.kt){if (!This.kPause){
                                                This.cr.j+=1;
                                                if (This.cr.j<=nStep){
                                                    var i=This.cr.j;
                                                    if (i<midStep){ This.cr.d=valueSta+(valueMid-valueSta)*Math.pow(i/midStep,dLinearSta); }
                                                    else { This.cr.d=valueMid+(valueEnd-valueMid)*Math.pow((i-midStep)/nStepEnd,dLinearEnd); }
                                                    sView(This.view, SODat, This.cr.d);
                                                    This.cr.i3=-2; for (var ii=0;ii<This.cr.i1;ii++){This.cr.i3+=2; This.cr.r=fdXDat[This.cr.i3]; This.cr.d1=fdXDat[This.cr.i3+1]; sView(This.view, fSXDat[ii], This.cr.d*This.cr.r + This.cr.d1 ); }
                                                }
                                                else{
                                                    sView(This.view, SODat, valueEnd);
                                                    This.cr.i3=-2; for (var ii=0;ii<This.cr.i1;ii++){This.cr.i3+=2; This.cr.r=fdXDat[This.cr.i3]; This.cr.d1=fdXDat[This.cr.i3+1]; sView(This.view, fSXDat[ii], valueEnd*This.cr.r + This.cr.d1 ); }
                                                    delayF(onFinish,20);
                                                    stopCycleF(This.cr.t); This.cr.kt=false;
                                                }
                                            }}else{stopCycleF(This.cr.t);} },tStep_MS);
                },iPending_MS);
                return This.view;
            }
            else if (XDat__onFinish){
                if (Instanceof(XDat__onFinish,"Array")){return This.motion(vi, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_MS, iDuration_MS, tStep_MS, XDat__onFinish, ERUN);}
                else {return This.motion(vi, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_MS, iDuration_MS, tStep_MS, [], XDat__onFinish);}
            }
            else if (tStep_MS){return This.motion(vi, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_MS, iDuration_MS, tStep_MS, [], ERUN);}
            return false;
		}


		This.motionLX=function(vi, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_MS, tStep_MS, XDat__onFinish, onFinish){
            if (onFinish){
                This.view=vi;
                stopCycleF(This.cr.t); This.cr.kt=false;
                This.cr.i1=XDat__onFinish.length/3; This.cr.i2=-3; This.cr.i3=-2;
                var SXDat=[]; var dXDat=[];
                for (var ii=0;ii<This.cr.i1;ii++){This.cr.i2+=3; This.cr.i3+=2; SXDat[ii]=""+XDat__onFinish[This.cr.i2]; dXDat[This.cr.i3]=doubleS(""+XDat__onFinish[This.cr.i2+1]); dXDat[This.cr.i3+1]=doubleS(""+XDat__onFinish[This.cr.i2+2]); }
                var fSXDat=SXDat; var fdXDat=dXDat;
                This.cr.d=valueSta;
                delayF(function(){ This.cr.kt=true; This.kPause=false;
                            This.cr.t=cycleF(function(){if (This.cr.kt){if (!This.kPause){
                                                if (Math.abs(This.cr.d-valueEnd)>minDifEnd){
                                                    This.cr.d+=(valueEnd-This.cr.d)*rSpeed;
                                                    sView(This.view, SODat, This.cr.d);
                                                    This.cr.i3=-2; for (var ii=0;ii<This.cr.i1;ii++){This.cr.i3+=2; This.cr.r=fdXDat[This.cr.i3]; This.cr.d1=fdXDat[This.cr.i3+1]; sView(This.view, fSXDat[ii], This.cr.d*This.cr.r + This.cr.d1 ); }
                                                }
                                                else {
                                                    sView(This.view, SODat, valueEnd);
                                                    This.cr.i3=-2; for (var ii=0;ii<This.cr.i1;ii++){This.cr.i3+=2; This.cr.r=fdXDat[This.cr.i3]; This.cr.d1=fdXDat[This.cr.i3+1]; sView(This.view, fSXDat[ii], valueEnd*This.cr.r + This.cr.d1 ); }
                                                    delayF(onFinish,20);
                                                    stopCycleF(This.cr.t); This.cr.kt=false;
                                                }
                            }}else{stopCycleF(This.cr.t);} },tStep_MS);		
                },iPending_MS);		
                return This.view;
            }
            else if (XDat__onFinish){
                if (Instanceof(XDat__onFinish,"Array")){return This.motionLX(vi, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_MS, tStep_MS, XDat__onFinish, ERUN);}
                else {return This.motionLX(vi, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_MS, tStep_MS, [], XDat__onFinish);}
            }
            else if (tStep_MS){return This.motionLX(vi, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_MS, tStep_MS, [], ERUN);}
            return false;
		}
        
	}
    
	var Motion=function(v, SDat, valSta, valEnd, dLinear_Sta__dRSpeed, dLinear_End__dDifEnd, rMiddlePoint__iPend_ms, iPend_ms__tStep_ms, iDuration_ms__xDat, tStep_ms__rFinish, xDat, rFinish){
        if (rFinish){ return (new js_Motion()).create( v, SDat, valSta, valEnd, dLinear_Sta__dRSpeed, dLinear_End__dDifEnd, rMiddlePoint__iPend_ms, iPend_ms__tStep_ms, iDuration_ms__xDat, tStep_ms__rFinish, xDat, rFinish); }
        else if (tStep_ms__rFinish){ return (new js_Motion()).createLX(v, SDat, valSta, valEnd, dLinear_Sta__dRSpeed, dLinear_End__dDifEnd, rMiddlePoint__iPend_ms, iPend_ms__tStep_ms, iDuration_ms__xDat, tStep_ms__rFinish); }
        else {return new js_Motion();}
    }
	
   	
    
    

	
	
    
    
	
	
	var motion=function(view, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_ms, iDuration_ms, tStep_ms, XDat__onFinish, onFinish){
        if (onFinish){
            var cr=new Var(); cr.i1=XDat__onFinish.length/3; cr.i2=-3; cr.i3=-2;
            var SXDat=[]; var dXDat=[];
            for (var ii=0;ii<cr.i1;ii++){cr.i2+=3; cr.i3+=2; SXDat[ii]=""+XDat__onFinish[cr.i2]; dXDat[cr.i3]=doubleS(""+XDat__onFinish[cr.i2+1]); dXDat[cr.i3+1]=doubleS(""+XDat__onFinish[cr.i2+2]); }
            var fSXDat=SXDat; var fdXDat=dXDat;
            var nStep=iDuration_ms/tStep_ms;
            var midStep=intS(""+(nStep*middlePoint));
            var nStepEnd=nStep-midStep;
            var valueMid=valueSta+(valueEnd-valueSta)*middlePoint;
            cr.j=-1;
            delayF(function(){
                        cr.t=cycleF(function(){if (cr.kt){
                                        cr.j+=1;
                                        if (cr.j<=nStep){
                                            var i=cr.j;
                                            if (i<midStep){ cr.d=valueSta+(valueMid-valueSta)*Math.pow(i/midStep,dLinearSta); }
                                            else { cr.d=valueMid+(valueEnd-valueMid)*Math.pow((i-midStep)/nStepEnd,dLinearEnd); }
                                            sView(view, SODat, cr.d);
                                            cr.i3=-2; for (var ii=0;ii<cr.i1;ii++){cr.i3+=2; cr.r=fdXDat[cr.i3]; cr.d1=fdXDat[cr.i3+1]; sView(view, fSXDat[ii], cr.d*cr.r + cr.d1 ); }
                                        }
                                        else{
                                            sView(view, SODat, valueEnd);
                                            cr.i3=-2; for (var ii=0;ii<cr.i1;ii++){cr.i3+=2; cr.r=fdXDat[cr.i3]; cr.d1=fdXDat[cr.i3+1]; sView(view, fSXDat[ii], valueEnd*cr.r + cr.d1 ); }
                                            delayF(onFinish,20);
                                            stopCycleF(cr.t); cr.kt=false;
                                        }
                                    }else{stopCycleF(cr.t);} },tStep_ms);
            },iPending_ms);
            return view;
        }
        else if (XDat__onFinish){
            if (Instanceof(XDat__onFinish,"Array")){ return motion(view, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_ms, iDuration_ms, tStep_ms, XDat__onFinish, ERUN); }
            else {return motion(view, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_ms, iDuration_ms, tStep_ms, [], XDat__onFinish); }
        }
        else if (tStep_ms){ return motion(view, SODat, valueSta, valueEnd, dLinearSta, dLinearEnd, middlePoint, iPending_ms, iDuration_ms, tStep_ms, [], ERUN); }
	}
    
	
	
    
    
	
	
	var motionLX=function(view, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_ms, tStep_ms, XDat__onFinish, onFinish){
		
        if (onFinish){
            var cr=new Var(); cr.i1=XDat__onFinish.length/3; cr.i2=-3; cr.i3=-2;
            var SXDat=[]; var dXDat=[];
            for (var ii=0;ii<cr.i1;ii++){cr.i2+=3; cr.i3+=2; SXDat[ii]=""+XDat__onFinish[cr.i2]; dXDat[cr.i3]=doubleS(""+XDat__onFinish[cr.i2+1]); dXDat[cr.i3+1]=doubleS(""+XDat__onFinish[cr.i2+2]); }
            var fSXDat=SXDat; var fdXDat=dXDat;
            cr.d=valueSta;
            delayF(function(){
                        cr.t=cycleF(function(){if (cr.kt){
                                        if (Math.abs(cr.d-valueEnd)>minDifEnd){
                                            cr.d+=(valueEnd-cr.d)*rSpeed;
                                            sView(view, SODat, cr.d);
                                            cr.i3=-2; for (var ii=0;ii<cr.i1;ii++){cr.i3+=2; cr.r=fdXDat[cr.i3]; cr.d1=fdXDat[cr.i3+1]; sView(view, fSXDat[ii], cr.d*cr.r + cr.d1 ); }
                                        }					
                                        else {
                                            sView(view, SODat, valueEnd);
                                            cr.i3=-2; for (var ii=0;ii<cr.i1;ii++){cr.i3+=2; cr.r=fdXDat[cr.i3]; cr.d1=fdXDat[cr.i3+1]; sView(view, fSXDat[ii], valueEnd*cr.r + cr.d1 ); }
                                            delayF(onFinish,20);
                                            stopCycleF(cr.t); cr.kt=false;
                                        }
                        }else{stopCycleF(cr.t);} },tStep_ms);		
            },iPending_ms);		
            return view;
        }
        else if (XDat__onFinish){
            if (Instanceof(XDat__onFinish,"Array")){ return motionLX(view, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_ms, tStep_ms, XDat__onFinish, ERUN); }
            else { return motionLX(view, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_ms, tStep_ms, [], XDat__onFinish); }
        }
        else if (tStep_ms){ return motionLX(view, SODat, valueSta, valueEnd, rSpeed, minDifEnd, iPending_ms, tStep_ms, [], ERUN); }
	}
    
    
    
    
	
    
	var motionScrollLX=function(scroll, staX, staY, endX, endY, rSpeed, minDifEnd, iPending_ms, tStep_ms, onFinish){
        if (onFinish){
            var crX=new Var();
            var crY=new Var();
            crX.d=staX; crY.d=staY;
            delayF(function(){
                        crX.t=cycleF(function(){
                                    if (Math.abs(crX.d-endX)>minDifEnd){
                                        crX.d+=(endX-crX.d)*rSpeed;
                                        crY.d+=(endY-crY.d)*rSpeed;
                                        scroll.scrollTo(crX.d, crY.d); 
                                        
                                    }					
                                    else {
                                        scroll.scrollTo(endX,endY); 
                                        stopCycleF(crX.t);
                                        (new Handler()).post(onFinish);
                                    }
                        },tStep_ms);		
            },iPending_ms);		
            return scroll;
        }
        else {return motionScrollLX(scroll, staX, staY, endX, endY, rSpeed, minDifEnd, iPending_ms, tStep_ms, ERUN);}
	}

    
    
	
	
	
</script>












<script>


	function tx(s){return '"'+s+'"';} 
	
	
	
	
	
</script>














    
    
    
<script>    
	



function edit(view,obj){eLay(view,obj);}

function hoverTe(view, css_FoWeight, css_FoStyle, css_FoDeco){
    var zFW=view.style.fontWeight;
    var zFS=view.style.fontStyle;
    var zFD=view.style.textDecoration;
    RatHover(view,
        function(){
            view.style.fontWeight=css_FoWeight;
            view.style.fontStyle=css_FoStyle;
            view.style.textDecoration=css_FoDeco;
        }, function(){
            view.style.fontWeight=zFW;
            view.style.fontStyle=zFS;
            view.style.textDecoration=zFD;
    });
}

function hoverFrHSLA(view, hue, sat, lum, alpha, rRound){
    var zBC=view.style.backgroundColor;
    var zBG=view.style.backgroundImage;
    RatHover(view,
        function(){
            if (rRound<1){ eLay(view,["bacolo",hsla(hue,sat,lum,alpha*0.3)]); }
            else{ addBackground(view,1,[ hsla(hue,sat,lum,alpha*0.3), hsla(hue,sat,lum,alpha*0.3)],1,[], [rRound,rRound,rRound,rRound,  rRound,rRound,rRound,rRound]); }
        }, function(){
            view.style.backgroundColor=zBC; view.style.backgroundImage=zBG;
    });
}
function hoverFr(view, rRound){if (rRound==null){rRound=0;} hoverFrHSLA(view,0,0,100,0.7,rRound);}	
function regHoverFr(AView, rRound){if (rRound==null){rRound=0;}
    for (var i=0;i<AView.length;i++){hoverFrHSLA(AView[i],0,0,100,0.7,rRound);}
}

function blinkFrHSLA(Fr, hue, sat, lum, alpha, rRound){
		if (rRound<1){
				eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*1)]);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.8)]);  },20);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.6)]);  },40);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.4)]);  },60);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.3)]);  },80);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.2)]);  },100);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.1)]);  },120);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,alpha*0.05)]);  },140);
				delayF(function(){  eLay(Fr,["bacolo",hsla(hue,sat,lum,0)]);  },160);
		}
		else {
                var round=[rRound,rRound,rRound,rRound,  rRound,rRound,rRound,rRound];
				eLay(Fr,["bacolo",CL.T]);	
				addBackground(Fr,1,[hsla(hue,sat,lum,alpha*1), hsla(hue,sat,lum,alpha*1)],1,[], round);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.8), hsla(hue,sat,lum,alpha*0.8)],1,[], round);  },20);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.6), hsla(hue,sat,lum,alpha*0.6)],1,[], round);  },40);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.4), hsla(hue,sat,lum,alpha*0.4)],1,[], round);  },60);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.3), hsla(hue,sat,lum,alpha*0.3)],1,[], round);  },80);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.2), hsla(hue,sat,lum,alpha*0.2)],1,[], round);  },100);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.1), hsla(hue,sat,lum,alpha*0.1)],1,[], round);  },120);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,alpha*0.05), hsla(hue,sat,lum,alpha*0.05)],1,[], round);  },140);
				delayF(function(){  addBackground(Fr,1,[ hsla(hue,sat,lum,0), hsla(hue,sat,lum,0)],1,[], round);  },160);
                
		}
	}
function blinkFr(Fr, rRound){blinkFrHSLA(Fr,0,0,100,0.7,rRound);}	
</script>    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <script>
    
    
    
    
    
    
    

    
	
	
	
	var js_SFH_TextBox=function(){
                                var This=this;
		This.EdTe;
		This.FrMom;
		This.Keyboard;
		This.R_onEnter=function(){ hideKeyboard(); };
		This.onEnter=function(r){This.R_onEnter=r; if (This.kNoEnter){ This.Keyboard.R_onRunEnter=This.R_onEnter; } return This;}
		This.GraDirect=3;This.GraCorner=0;
		This.GraColor=[CL.T,CL.T];
		This.graColor=function(iDirect, AColor, rCorner){
			This.GraDirect=iDirect; This.GraColor=AColor; This.GraCorner=rCorner;
			if (This.EdTe!=null){addBackground(This.EdTe,This.GraDirect,This.GraColor,1,[], [This.GraCorner,This.GraCorner,This.GraCorner,This.GraCorner,   This.GraCorner,This.GraCorner,This.GraCorner,This.GraCorner]);}
			return This;
		}
		
		This.setTextColor=function(iTeColo, iHintColo){
            if (iHintColo==null){This.EdTe.setTextColor(iTeColo);return This;}
            else {This.EdTe.setTextColor(iTeColo);This.EdTe.setHintTextColor(iHintColo);return This;}
        }
		This.kNoEnter=false; This.kCreated=false;
		This.noEnter=function(k){
            if (k==null){ return This.noEnter(true); }
            else{ This.kNoEnter=k;
                if (This.kCreated){
                    if (This.kNoEnter){
                        This.EdTe.EdTe.onkeydown=function(){var kID,e=event;
                            if (window.event){kID = e.keyCode;}else if(e.which){kID = e.which;}
                            if (kID == 13 && This.kNoEnter){Run(This.R_onEnter);}
                        }
                        
                    }
                }
                
                return This;
            }
		}
		This.kSoftKeyboard=true;
		This.SoftKeyboard=function(k){This.kSoftKeyboard=k;return This;}
		This.create=function(Mom, eDat){This.kCreated=true;
			This.FrMom=Mom; This.EdTe=aEdText(This.FrMom,["FONT","mono","padi",[0,0,0,0] ]);
			if (!This.kSoftKeyboard){
				
				
			}
			if (This.kSoftKeyboard){showSoftKeyboard(This.EdTe);}else{hideSoftKeyboard(This.EdTe);}

			addBackground(This.EdTe,This.GraDirect,This.GraColor,1,[], [This.GraCorner,This.GraCorner,This.GraCorner,This.GraCorner,   This.GraCorner,This.GraCorner,This.GraCorner,This.GraCorner]);
			eEdText(This.EdTe,eDat);
















			return This;
		}
		This.allowKeyboard=true;
		This.clear=function(){This.EdTe.setText("");}
		This.setHint=function(sHint){This.EdTe.setHint(sHint); return This;}
		This.hint=function(sHint){This.EdTe.setHint(sHint); return This;}
		This.getText=function(){return ""+This.EdTe.getText();}
		This.setText=function(s){This.EdTe.setText(s); return This;}
		This.hideKeyboard=function(){if (!This.kSoftKeyboard){This.Keyboard.hide();}}
		This.showKeyboard=function(){if (!This.kSoftKeyboard){This.Keyboard.show();}}
		This.remove=function(){try {This.FrMom.removeView(This.EdTe);}catch(e){}if (This.Keyboard){This.Keyboard.closable(true).close();}}
  
        return This;
	}

    var SFH_TextBox=function(){return new js_SFH_TextBox();}
	function TextBox(FrMom, eDat){return (new SFH_TextBox()).create(FrMom,eDat);}
	function aTextBox(FrMom, eDat){return (new SFH_TextBox()).create(FrMom,eDat);}
	function eTextBox(TeBo, eDat){eEdText(TeBo.EdTe,eDat); return TeBo;}
	function aTeBox(FrMom, eDat){return (new SFH_TextBox()).create(FrMom,eDat);}
	function eTeBox(TeBo, eDat){eEdText(TeBo.EdTe,eDat); return TeBo;}


	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
    
	var js_SFH_Confirm=function(){var This=this;
    
		This.hue=175;This.sat=100;This.lum=20;  This.alpha=1;
		This.darkMode=1; This.lumDark=100;

		This.graBT=[ hsla(This.hue+5,This.sat,Min(100,This.lum+8),This.alpha) , hsla(This.hue-15,This.sat,This.lum,This.alpha)];
					This.graBode=[ hsla(This.hue+5,This.sat,Min(100,This.lum+16),This.alpha) , hsla(This.hue-15,This.sat,Min(100,This.lum+30),This.alpha)];
					This.graTray=[ hsla(This.hue,This.sat/5,Max(0,This.lum-4),This.alpha) , hsla(This.hue,This.sat/5,Max(0,This.lum-4),This.alpha)];
					This.graTray1=[ hsla(This.hue-5,This.sat/4,Max(0,This.lum-20),This.alpha*0.85) , hsla(This.hue-5,This.sat/4,Max(0,This.lum-10),This.alpha*0.85)];
					This.graTitle=[ hsla(This.hue-5,This.sat,Min(100,This.lum+28),This.alpha) , hsla(This.hue+15,This.sat,This.lum,This.alpha)];
					
		This.tecolo=hsla(This.hue,This.sat,This.lumDark,1);
		
		This.FrMom;This.FrBG;This.FrTray;This.FrBode;This.FrTray1;This.FrBode1;This.FrTitle;This.FrTeCt;
		This.TeTitle;This.TeCt;
		This.TeIn;
		This.FrBTDone;This.FrBTCancel;This.BGFrCt;This.FrCt; This.FrBodeInp;This.FrTrayInp;
		This.TeBTDone;This.TeBTCancel;
		This.RDone=ERUN;	
		This.RCancel=ERUN;
		This.RClose=ERUN; This.kRClose=false;
				
		This.STe1="Confirm";This.STe2="  Are you sure ?";
		This.STeHint="Input";This.STeBox="";
		This.SDone="Yes";This.SCancel="No";
		This.sOut;
		This.extraHeight=0;This.Wmagi=mm(3);
		This.buttonWidth=mm(18);
		This.fullScroll=false;
		This.kMode=0;
		This.Noti=function(){This.kMode=1; return This;}
		This.Input=function(sHint, sDefault){
            if ((!sHint)&&(!sDefault)){This.kMode=2; return This;}
            else {This.kMode=2;This.STeHint=sHint;This.STeBox=sDefault; return This;}
        }
		This.kSoftKeyboard=false;
		This.SoftKeyboard=function(k){This.kSoftKeyboard=k;return This;}
		
		This.Fosi=12;
		This.Size=1;
	
		This.size=function(r){This.Size=r;return This;}
		This.fosi=function(iFosi){This.Fosi=iFosi;return This;}
		This.rFosi=function(r){This.Fosi=12*r;return This;}
		
		This.setTheme=function(dHue, dSat, dLum, dlumDark, dAlpha){
			This.hue=dHue; This.sat=dSat; This.lum=dLum; if (dAlpha){This.alpha=dAlpha;} This.lumDark=dlumDark;This.loadColor();This.updateColor();
			return This;
		}
		
		This.setAlpha=function(a){This.alpha=a;if (This.created){This.loadColor();This.updateColor();} return This;}
		This.loadColor=function(){
			This.graBT=[ hsla(This.hue+5,This.sat,Min(100,This.lum+8),This.alpha) , hsla(This.hue-15,This.sat,This.lum,This.alpha)];
			This.graBode=[ hsla(This.hue+5,This.sat,Min(100,This.lum+16),This.alpha) , hsla(This.hue-15,This.sat,Min(100,This.lum+30),This.alpha)];
			This.graTray=[ hsla(This.hue,This.sat/5,Max(0,This.lum-4),This.alpha) , hsla(This.hue,This.sat/5,Max(0,This.lum-4),This.alpha)];
			This.graTray1=[ hsla(This.hue-5,This.sat/4,Max(0,This.lum-20),This.alpha*0.85) , hsla(This.hue-5,This.sat/4,Max(0,This.lum-10),This.alpha*0.85)];
			This.graTitle=[ hsla(This.hue-5,This.sat,Min(100,This.lum+28),This.alpha) , hsla(This.hue+15,This.sat,This.lum,This.alpha)];
			This.tecolo=hsla(This.hue,This.sat,This.lumDark,1);
		}
		This.updateColor=function(){if (This.created){
				addBackground(This.FrBode,2,This.graBode,1,[], [     mm(1.5),mm(1.5),mm(1.5),mm(1.5),    mm(1.5),mm(1.5),mm(1.5),mm(1.5)]);	
				addBackground(This.FrTray,0,This.graTray,1,[], [ mm(1.5),mm(1.5),mm(1.5),mm(1.5),    mm(1.5),mm(1.5),mm(1.5),mm(1.5)]);
				addBackground(This.FrTitle,3,This.graTitle,1,[], [ mm(1.5),mm(1.5),mm(1.5),mm(1.5),    0,0,0,0]);
				if (This.kMode!=1){
					addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(0),mm(0),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(0),mm(0)]);
					addBackground(This.FrBTCancel,3,This.graBT,1,[], [ mm(1.5),mm(1.5),mm(0),mm(0),    mm(0),mm(0),mm(1.5),mm(1.5)]);
					eText(This.TeBTCancel,["colo",This.tecolo]);
				}
				else{addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]); }
				eText(This.TeCt,["colo",This.tecolo]);
				eText(This.TeTitle,["colo",This.tecolo]);
				eText(This.TeBTDone,["colo",This.tecolo]);
				This.TeIn.setTextColor(This.tecolo,This.tecolo);
		}}
		
				This.Title=function(STitle1, STitle2){ This.STe1=STitle1;This.STe2=STitle2; return This; }
				This.ButtonName=function(sDone, sCancel){ This.SDone=sDone; This.SCancel=sCancel; return This; }
				
				This.FullScroll=function(bFullScroll){This.fullScroll=bFullScroll; return This;}
				This.ExtraHeight=function(iH_px){This.extraHeight=iH_px; return This;}
				This.run=function(RunDone,RunCancel){This.RDone=RunDone;This.RCancel=RunCancel; return This;}
				
				This.created=false;
				
		
				This.create=function(mom){ if (!This.created){This.created=true;
						This.FrMom=mom;
		
						var zHInp=0,zmInp=0.5;
						if (This.kMode==2){
							if (This.STe2.length>0){zHInp=This.Fosi*0.8*rSize*This.Size*2.5;zmInp=2;}
						}
						This.FrBG=aFrLay(mom,["bacolo",hsla(0,0,0,0.8),"lapa",[FR.M,FR.M,GRA.C] ]);
						This.FrBode=aFrLay(This.FrBG,["lapa", ["61.8%",mm((26+zHInp)*This.Size)+LDot*2+This.extraHeight,GRA.C],"padi",[LDot,0,LDot,0] ]);
						addBackground(This.FrBode,2,This.graBode,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);	
						This.FrTray=aFrLay(This.FrBG,["lapa",["61.8%",mm((26+zHInp)*This.Size)+This.extraHeight,GRA.C] ]);
						addBackground(This.FrTray,0,This.graTray,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);

						This.FrTitle=aFrLay(This.FrTray,["lapa",[FR.M,mm(7*This.Size),GRA.T] ]);
				 		addBackground(This.FrTitle,3,This.graTitle,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    0,0,0,0]);
						This.TeTitle=aText(This.FrTitle,["FONT","mono","Te",This.STe1,"colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*rSize*This.Size],"Gravity",GRA.LC,"magi",[mm(3*This.Size),0,0,0],"sele",0  ]);

						This.FrBTDone=aFrLay(This.FrTray,["lapa",[(This.buttonWidth*This.Size),mm(7*This.Size),This.kMode!=1?GRA.BR:GRA.BC],"magi",[0,0,This.kMode==1?0:mm(2.5*This.Size),mm(2.5*This.Size) ] ]);
						if (This.kMode!=1){addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(0),mm(0),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(0),mm(0)]); }
						else{addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]); }
						This.TeBTDone=aText(This.FrBTDone,["FONT","mono","Te",This.SDone,"colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*rSize*This.Size],"Gravity",GRA.C,"sele",0 ]);

						if (This.kMode!=1){
							This.FrBTCancel=aFrLay(This.FrTray,["lapa",[(This.buttonWidth*This.Size),mm(7*This.Size),Gravity.BOTTOM|Gravity.RIGHT],"magi",[0,0,mm(2.5*This.Size+1*This.Size)+(This.buttonWidth*This.Size),mm(2.5*This.Size) ] ]);
							addBackground(This.FrBTCancel,3,This.graBT,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(0),mm(0),    mm(0),mm(0),mm(1.5*This.Size),mm(1.5*This.Size)]);
							This.TeBTCancel=aText(This.FrBTCancel,["FONT","mono","Te",This.SCancel,"colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*rSize*This.Size],"Gravity",GRA.C,"sele",0 ]);
						}

						var FrTePicBG= aFrLay(This.FrTray,["lapa",[FR.M,mm((8.5+zHInp)*This.Size)+This.extraHeight,GRA.T],"magi",[mm(2*This.Size),mm(8*This.Size),mm(2*This.Size),0] ]);
                       
						if (This.fullScroll){This.FrTeCt=aScLay(FrTePicBG,["lapa",[FR.M,FR.M,GRA.T],"magi",[mm(1*This.Size),mm(1*This.Size),mm(1*This.Size),mm(1*This.Size)] ]); }
						else {This.FrTeCt=aScrVLay(FrTePicBG,["lapa",[FR.M,FR.M,GRA.LT],"magi",[mm(1*This.Size),mm(1*This.Size),mm(1*This.Size),mm(1*This.Size)] ]);	}
						
						This.TeCt=aText(This.FrTeCt,["FONT","mono","Te",This.STe2,"colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*0.8*rSize*This.Size],"lapa",[FR.M,FR.W,GRA.LT] ]);
 						wrapMe(This.TeCt);
						if (This.kMode==2){
							
							This.FrBodeInp0=aFrLay(This.FrTeCt,["lapa",["85%",mm(This.Fosi*0.8*rSize*This.Size*2.5),GRA.BC],"padi",[LDot,LDot,LDot,LDot] ]);
							This.FrBodeInp=aFrLay(This.FrTeCt,["lapa",["85%",mm(This.Fosi*0.8*rSize*This.Size*2),GRA.BC],"padi",[LDot,LDot,LDot,LDot] ]);
							addBackground(This.FrBodeInp,2,This.graBode,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
							This.FrTrayInp=aFrLay(This.FrTeCt,["lapa",["85%",mm(This.Fosi*0.8*rSize*This.Size*2),GRA.BC],"magi",[0,0,0,LDot]]);
							addBackground(This.FrTrayInp,3,This.graTray1,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
                            wrapMe(This.FrBodeInp0)
                            
							This.TeIn=new SFH_TextBox();
							This.TeIn.SoftKeyboard(This.kSoftKeyboard).create(This.FrTrayInp,["lapa",[FR.M,FR.W,GRA.LT],"FONT","mono","Te",This.STeBox,"This.tecolo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*0.8*rSize*This.Size],"Gravity",GRA.LC,"sele",1,"padi",[mm(1.5*This.Size),mm(0.5*This.Size),mm(1.5*This.Size),mm(0.5*This.Size)] ]);
							This.TeIn.hint(This.STeHint).setTextColor(This.tecolo,This.tecolo).onEnter(function(){(new Handler()).post(This.R_BTDone);}).noEnter();
							This.TeIn.EdTe.requestFocus();
                            
                            This.TeIn.onEnter=This.R_BTDone; This.TeIn.noEnter(true);
						}
                        
						
						RatRun(This.FrTray,ERUN,function(){ ClearFocus(This.FrMom); },ERUN);
						RatRun(This.FrBG,ERUN,
							function(){
											This.remove();
											if (This.kRClose){(new Handler()).post(This.RClose);}
											else{(new Handler()).post(This.RCancel);}
							},ERUN
						);
                        
						if (This.kMode!=1){
							RatRun(This.FrBTCancel,ERUN,
								function(){
											This.remove();
											(new Handler()).post(This.RCancel);
										},ERUN
							);
						}
						RatRun(This.FrBTDone,ERUN,This.R_BTDone,ERUN);
                    }
					return This;
				}
				
				
				This.R_BTDone=function(){
											This.remove();
											if (This.kMode==2){This.sOut=This.TeIn.getText();}
											(new Handler()).post(This.RDone);
				};
	
				This.remove=function(){if (This.created){This.created=false;
					ClearFocus(This.FrMom);
					if (This.kMode==2){This.TeIn.remove();}
					This.FrMom.removeView(This.FrBG);
				}}
          
        return This;
	}
    var SFH_Confirm=function(){return new js_SFH_Confirm();}
    
    
    
    
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	var js_SFH_Panel=function(){var This=this;
		This.hue=175;This.sat=100;This.lum=20;
		This.darkMode=1; This.lumDark=100;
		
		This.FrMom; This.FrBG; This.FrTray; This.FrBode; This.FrTitle; This.FrBody0; This.FrBody;
		
		This.TeTitle; This.TeBTDone;
		This.FrBTDone; This.FrBTCancel; This.BGFrCt; This.FrCt;
		This.RDone=ERUN;	

		This.graBode=[ hsla(This.hue+5,This.sat,Min(100,This.lum+16),1) , hsla(This.hue-15,This.sat,Min(100,This.lum+30),1)];
					This.graTray=[ hsla(This.hue,This.sat/5,This.lum-4,1) , hsla(This.hue,This.sat/5,This.lum-4,1)];
					This.graTitle=[ hsla(This.hue-5,This.sat,Min(100,This.lum+28),1) , hsla(This.hue+15,This.sat,This.lum,1)];
					This.graBT=[ hsla(This.hue+5,This.sat,This.lum+8,1) , hsla(This.hue-15,This.sat,This.lum,1)];
		This.tecolo=hsla(This.hue,This.sat,This.lumDark,1);
				
		This.created=false;
		This.STe1="Panel";
		This.extraHeight=0;
		This.Wmax=screenW_px*0.618;
        This.Hmax=screenH_px*0.618;
		This.Wmagi=mm(3);
		This.W=0;This.H=0;
		This.Fosi=12;
		This.Size=1;
		
		This.fosi=function(iFosi){This.Fosi=iFosi;return This;}
		This.rFosi=function(r){This.Fosi=12*r;return This;}
		This.size=function(r){This.Size=r;return This;}
		This.Title=function(STitle1){This.STe1=STitle1;return This;}
		This.ExtraHeight=function(iH){This.extraHeight=iH; return This;}
		This.run=function(RunDone){This.RDone=RunDone; return This;}
		This.setTheme=function(iHue, iSat, iLum, ilumDark){
			This.hue=iHue; This.sat=iSat; This.lum=iLum; This.lumDark=ilumDark;This.loadColor();This.updateColor();
			return This;
		}
		This.loadColor=function(){
					This.graBode=[ hsla(This.hue+5,This.sat,Min(100,This.lum+16),1) , hsla(This.hue-15,This.sat,Min(100,This.lum+30),1)];
					This.graTray=[ hsla(This.hue,This.sat/5,This.lum-4,1) , hsla(This.hue,This.sat/5,This.lum-4,1)];
					This.graTitle=[ hsla(This.hue-5,This.sat,Min(100,This.lum+28),1) , hsla(This.hue+15,This.sat,This.lum,1)];
					This.graBT=[ hsla(This.hue+5,This.sat,This.lum+8,1) , hsla(This.hue-15,This.sat,This.lum,1)];
					This.tecolo=hsla(This.hue,This.sat,This.lumDark,1);
		}
		This.updateColor=function(){
					if (This.created){
						eLay(This.FrBG,["bacolo",hsla(This.hue,This.sat/5,100-This.lumDark,0.8)]);
						addBackground(This.FrBode,2,This.graBode,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);	
						addBackground(This.FrTray,0,This.graTray,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
						addBackground(This.FrTitle,3,This.graTitle,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    0,0,0,0]);
						addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
						eText(This.TeTitle,["colo",This.tecolo]);
						eText(This.TeBTDone,["colo",This.tecolo]);
					}
		}
				

		This.create=function(mom){This.created=true;
						This.FrMom=mom;
						This.FrBG=aFrLay(mom,["bacolo",hsla(This.hue,This.sat/5,100-This.lumDark,0.8),"lapa",[FR.M,FR.M,GRA.C] ]);
						This.W=Min(This.FrMom.getWidth()-This.Wmagi*2,This.Wmax);
						This.H=Min(This.FrMom.getHeight()-This.Wmagi*2,This.Hmax+This.extraHeight);
                        
						This.FrBode=aFrLay(This.FrBG,["lapa",["61.8%","61.8%",GRA.C],"padi",[LDot,LDot,LDot,LDot] ]);
						addBackground(This.FrBode,2,This.graBode,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size) ]);
						This.FrTray=aFrLay(This.FrBG,["lapa",["61.8%","61.8%",GRA.C] ]);
						addBackground(This.FrTray,0,This.graTray,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
						
						This.FrTitle=aFrLay(This.FrTray,["lapa",[FR.M,mm(6*This.Size),Gravity.TOP] ]);
						addBackground(This.FrTitle,3,This.graTitle,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    0,0,0,0]);
						This.TeTitle=aText(This.FrTitle,["FONT","mono","Te",This.STe1,"colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*rSize*This.Size],"Gravity",GRA.LC,"magi",[mm(3*This.Size),0,0,0] ,"sele",0 ]);

						This.FrBTDone=aFrLay(This.FrTray,["lapa",[mm(18*This.Size),mm(6*This.Size),GRA.CB],"magi",[0,0,0,mm(2) ] ]);
						addBackground(This.FrBTDone,3,This.graBT,1,[], [ mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),    mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size),mm(1.5*This.Size)]);
						This.TeBTDone=aText(This.FrBTDone,["FONT","mono","Te","Done","colo",This.tecolo,"tesi",[UNIT_MM, This.Fosi*rSize*This.Size],"Gravity",GRA.C ,"sele",0]);
                        This.FrBTDone.bringToFront();
                        
						This.FrBody0 = aFrLay(This.FrTray,["lapa",["97%","82%",GRA.C],"magi",[mm(3*This.Size),mm(7.5*This.Size),mm(3*This.Size),mm(10*This.Size)] ]);
						This.FrBody=aScrVLay(This.FrBody0,["lapa",[FR.M,FR.M,GRA.LT],"magi",[0,0,0,0] ]);	
						
						RatRun(This.FrTray,ERUN,function(){ClearFocus(This.FrTray);
							},ERUN
						);
                        This.R_BTDone=function(){ClearFocus(This.FrTray);
											if (This.kHideOnClose){This.hide();}else{This.remove();}
											(new Handler()).post(This.RDone);
						};
						RatRun(This.FrBG,ERUN,This.R_BTDone,ERUN);
						RatRun(This.FrBTDone,ERUN,This.R_BTDone,ERUN);
                        
                        
                            This.TeIn=new SFH_TextBox();
                            This.TeIn.SoftKeyboard(false).create(This.FrTray,["lapa",[2,2,GRA.LT],"opac",0]);
                            This.TeIn.EdTe.requestFocus();
                            This.TeIn.EdTe.EdTe.onkeydown=function(){var kID,e=event;
                                if (window.event){kID = e.keyCode;}else if(e.which){kID = e.which;}
                                if (kID==27||kID==13){Run(This.R_BTDone);}
                                return false;
                            }
                                                            
					return This;
		}
        This.kHideOnClose=false;
        This.hideOnClose=function(){This.kHideOnClose=true;return This;}
        This.hide=function(){This.FrBG.setVisibility(View.GONE);}
        This.show=function(){This.FrBG.setVisibility(View.VISIBLE);};
        This.remove=function(){This.FrMom.removeView(This.FrBG);}
        return This;
	}
    var SFH_Panel=function(){return new js_SFH_Panel();}
    
    </script>
    
    
    
    
    
    
    
    
    
    
<script>    
function openWebsite(s){window.open(s, '_blank').focus();}

</script>    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
<script>


function runString(code){eval(s);}

function Eval(sCode){try {eval(sCode);}catch (e){sigL(e);}}

var js_Gear=function(){var This=this;
	This.gear = This;
	This.R_onError=ERUN;
	This.ERROR="";
	This.onError=function(Run){This.R_onError=Run; return This;}
	This.set=function(blabla,blablabla){blabla=blablabla;return This;}
	This.eval=function(sCode){
        try {eval(sCode);} catch (e){ 
            This.ERROR=e+E10+E10+"PART :"+E10+"   "+limS(sCode,30);
            (new Handler()).post(This.R_onError); 
        }
        return This;
    }
	
	This.remove=function(){ This.gear=null; This.R_onError=ERUN; This.ERROR=null; This=null;}
    return This;
}
var Gear=function(){return new js_Gear();}
function limS(s, length){length=Max(length,4);
	if ((s.length<=4)||s.length<=length){return s;}
	return s.substring(0,length-3)+"...";
}
var XGear=Gear();



</script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
<script> 





function CodeCleaner(){delayF(function(){ var zClean=SFH_Confirm().Input("Javascript, Java","").Title("Code Cleaner","Code :").ButtonName("Save","Cancel").size(1).setTheme(195,100,25,100).create(body).run(function(){sig("Clearing Note...");delayF(function(){SAVE(deNote(zClean.sOut));sig("Done");});},ERUN);},500);}
function CodeShrinker(){delayF(function(){ var zClean=SFH_Confirm().Input("Javascript, Java","").Title("Code Shrinker","Code :").ButtonName("Save","Cancel").size(1).setTheme(195,100,25,100).create(body).run(function(){sig("Shrinking Note...");delayF(function(){SAVE(sShrinkCode(zClean.sOut));sig("Done");});},ERUN);},500);}

function CodeClean(){CodeCleaner();}
function CleanCode(){CodeCleaner();}
function codeCleaner(){CodeCleaner();}
function codeClean(){CodeCleaner();}
function cleanCode(){CodeCleaner();}

function CodeShrink(){CodeShrinker();}
function ShrinkCode(){CodeShrinker();}
function codeShrinker(){CodeShrinker();}
function codeShrink(){CodeShrinker();}
function shrinkCode(){CodeShrinker();}
    
function viewAllFont(){
    var viewFont=aFrLay(body,["bacolo",CL.TO,"zi",1000000000,"scr",2]);
    var close=aFrLay(body,["lapa",[mm(16),mm(16),GRA.LT],"src",raw.cross_m,"zi",1000000000]);
    hoverFr(close, 0);
    RatRun(close,function(){body.removeView(close);body.removeView(viewFont);});
    var zTe=""; var nAFont=ListFont.length/4; var iFs=mm(2.5*5); 
    for (var i=0;i<nAFont;i++){ const j=ListFont[i*4];
        zTe=aText(viewFont,["FONT",j,"Te",j,"colo",hsla(175,100,0,1),"tesi",[UNIT_MM, iFs*rSize],"GRAVITY",GRA.CH,"TY",iFs*1.5*i ] );
        RatRun(zTe,function(){setClipboard(j);sig("Copied : "+j);}); hoverTe(zTe,"bold","italic","underline"); 
    }
}


</script>
    
    
    
    
    
    
    
    
    
    
<script>
function BMP_Close(){

    return Bitmap(mm(8),mm(8),[
					"stwi",mm(0.5),"cap",2,"fico", CL.W,
					"r",[mm(2),mm(2),mm(6),mm(2.7)],
					"r",[mm(2),mm(3.65),mm(6),mm(4.35)],
					"r",[mm(2),mm(5.3),mm(6),mm(6)]
					
		]);
	
	
		return Bitmap(mm(8),mm(8),["bl",[1,1],
					"stwi",mm(0.5),"cap",2,"stco", CL.W,
					"l",[mm(4),mm(2),mm(4),mm(6)],
					"l",[mm(2),mm(4),mm(6),mm(4)],
			]);
            
        return Bitmap(mm(8),mm(8),[
					"stwi",mm(0.5),"cap",2,"stco", CL.W,
                    
					"a",[mm(2),mm(2),mm(6),mm(6),0,180,0], 
                    "st",1,
					"gacolo",[0,mm(1.5),0,mm(6.5),
							[hsla(0,0,100,0),hsla(0,0,100,0.5)],
							[0,1],
					0 ],
					"c",[mm(4),mm(4),mm(2.5)]
        ]);
        
        return Bitmap(mm(8),mm(8),["bl",[1,1],
					"stwi",mm(0.5),"cap",2,"stco", CL.W,
					"c",[mm(4),mm(4),mm(2)], 
					"fico", COLO.W,
					"C",[mm(4),mm(4), mm(1)]
		]);
        
		return Bitmap(mm(8),mm(8),[
					"stwi",mm(0.5),"cap",2,"stco", CL.W,
					"a",[mm(2),mm(2),mm(6),mm(6),-45,270,0], 
					"l",[mm(4),mm(1.5),mm(4),mm(3)],
		]);
        
        return Bitmap(mm(8),mm(8),[
			"fico", CL.W,
            "r",[mm(1),mm(1),mm(7),mm(7)],
            "fill",""
		]);
}
</script>
    
    
    
<script>
    
    
    
    
    
    
    
    
    var ListImage=[];
    function src(s){s=s.toUpperCase();var l=ListImage.length/4,j;for (var i=0;i<l;i++){j=i*4;if (comS(ListImage[j].toUpperCase(),s)){return ListImage[j+1];}}return "";}
    function srcW(s){s=s.toUpperCase();var l=ListImage.length/4,j;for (var i=0;i<l;i++){j=i*4;if (comS(ListImage[j].toUpperCase(),s)){return ListImage[j+2];}}return "";}
    function srcH(s){s=s.toUpperCase();var l=ListImage.length/4,j;for (var i=0;i<l;i++){j=i*4;if (comS(ListImage[j].toUpperCase(),s)){return ListImage[j+3];}}return "";}
    function srcI(s){s=s.toUpperCase();var l=ListImage.length/4,j;for (var i=0;i<l;i++){j=i*4;if (comS(ListImage[j].toUpperCase(),s)){return j;}}return -1;}
    function srcA(s){s=s.toUpperCase();var l=ListImage.length/4,j;for (var i=0;i<l;i++){j=i*4;if (comS(ListImage[j].toUpperCase(),s)){return [ListImage[j+1],ListImage[j+2],ListImage[j+3]];}}return [];}
    
</script>




<script>
    var IS_SERVICE=false;
	var APP_NAME="Aura I";	
    
    var RUN=false;
    
    ListFont=[
						"mono","fonts/mono.ttf",1,0,
						"bonbon","fonts/bonbon.ttf",1.25,0,
						"cu_timer","fonts/cu_timer.ttf",1,0,
						"digi","fonts/digi.ttf",0.95,0,
						
						"draco_open","fonts/draco_open.ttf",0.67,0,
						"lcd_rounded","fonts/lcd_rounded.ttf",1.9,0,
						"lcd_solid","fonts/lcd_solid.ttf",1,0,
						"pecita","fonts/pecita.otf",1.53,0,   
						"segment_7","fonts/segment_7.otf",1.1,0,
						"white_rabbit","fonts/white_rabbit.ttf",1.03,0,
						
						"allura","fonts/allura.ttf",1,0,
						"comic","fonts/comic.ttf",1,0,
						"courier","fonts/courier.otf",1,0,
						"great_vibe","fonts/great_vibes.otf",1,0,
						
						"roman","fonts/roman.ttf",1,0,
                        
                        
                        
						"alpine","fonts/alpine.ttf",1,0,
						"arizone_pixe","fonts/arizone_pixe.ttf",1,0,
						"arizone_unicase","fonts/arizone_unicase.ttf",1,0,
						"baby_star","fonts/baby_star.ttf",1,0,
						"cookie","fonts/cookie.ttf",1,0,
						"ectogasm","fonts/ectogasm.ttf",1,0,
						"fancy_nancy","fonts/fancy_nancy.ttf",1,0,
						"gebrina","fonts/gebrina.ttf",1,0,
						"gebrina_o","fonts/gebrina_o.otf",1,0,
						"haeres_letter","fonts/haeres_letter.otf",1,0,
						"jim_nightshade","fonts/jim_nightshade.ttf",1,0,
						"machumaine","fonts/machumaine.ttf",1,0,
						"milonga","fonts/milonga.ttf",1,0,
						"modernia","fonts/modernia.otf",1,0,
						"olde_english","fonts/olde_english.ttf",1,0,
						"pacifico","fonts/pacifico.ttf",1,0,
						"pixelmix","fonts/pixelmix.ttf",1,0,
						"pixelmix_bold","fonts/pixelmix_bold.ttf",1,0,
						"promocyja","fonts/promocyja.ttf",1,0,
						"rye","fonts/rye.ttf",1,0,
						"sanstaina","fonts/sanstaina.ttf",1,0,
						"sanstaina_outline","fonts/sanstaina_outline.ttf",1,0,
						"saolice","fonts/saolice.otf",1,0,
						"shooting_stars","fonts/shooting_stars.ttf",1,0,
						"sponge_bob_condensed","fonts/sponge_bob_condensed.otf",1,0,
						"sponge_bob_condensed_cube","fonts/sponge_bob_condensed_cube.otf",1,0,
						"xenopyre","fonts/xenopyre.ttf",1,0,
						"yesteryear","fonts/yesteryear.ttf",1,0,

                        
                        
						"con_thuy","fonts/con_thuy.ttf",1,0,
						"dinh_hon","fonts/dinh_hon.ttf",1,0,
						"ke_chuyen_1","fonts/ke_chuyen_1.ttf",1,0,
						"ke_chuyen_2","fonts/ke_chuyen_2.ttf",1,0,
						"mua_thu","fonts/mua_thu.ttf",1,0,
						"park","fonts/park.ttf",1,0,
						"thu_tu.ttf","fonts/thu_tu.ttf",1,0,

	];
	var ListAddFont=[]; for (var i=0;i<ListFont.length/4;i++){ListAddFont[i*2]=ListFont[i*4];ListAddFont[i*2+1]=ListFont[i*4+1];}
    addXFont(ListAddFont);

	Body(); 
	kClearFocus=false;
	addBackground(body, 3, [hsla(0,0,16,1),hsla(0,0,8,1)], 1, [], [mm(1),mm(1),mm(1),mm(1),  0,0,0,0] ); 
    
	RatRun(body,ERUN,function(){ClearFocus();},ERUN);
    



    var ETitle=document.getElementById("Head Title");
    var sHead_Title=ETitle.textContent;
    var kTT=false, couTT=0, limTT=20;
    ETitle.textContent="^•ﻌ•^ "+ETitle.textContent;
  


    var TeMark=aText(body,["FONT","mono","Te","A Goody From Phung Phan 2021, Picox & Cröza Pạklït Laboratory. All right reserved.","colo",hsla(175,100,100,0.2),"tesi",[UNIT_MM, 6*rSize],"wh",[FR.W,FR.W,GRA.C],"Gravity",GRA.BC ,"sele",0] );
    
	sig("Loading content...");
    STORAGE_NAME="PIUM_AI_DRAW_"; 
    










var bgImg=aFig(body,["lapa",[FR.M,FR.W,GRA.C],"src",src("pink_glisten_blur")])

var BtW=mm(8);
      
      
      
    
      
      
    
    
    
    


function ani_growUp(view,msWait,rSpeed,rEnd){if (rEnd==null){rEnd=1;} if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "scy", 0, rEnd, 0.05*rSpeed, 0.008,   0, 10, [], ERUN);},msWait);}
function ani_fadeIn(view,msWait,rSpeed){if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "opac", 0, 1, 0.1*rSpeed, 0.001,   0, 20, [], ERUN);},msWait);}
function ani_fadeOut(view,msWait,rSpeed){if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "opac", 1, 0, 0.1*rSpeed, 0.001,   0, 20, [], ERUN);},msWait);}
function ani_openMessage(view,msWait,rSpeed){if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "scx", 0, 1, 0.1*rSpeed, 0.001,   0, 20, [], ERUN);},msWait);}
function ani_hideMessage(view,msWait,rSpeed){if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "ty", 0, view.getHeight(), 0.1*rSpeed, 0.001,   0, 20, [], ERUN);},msWait);}
function ani_showMessage(view,msWait,rSpeed){if (msWait==null){msWait=0;} if (!rSpeed){rSpeed=1;} delayF(function(){ view.setPivotY(1);motionLX(view, "ty", view.getHeight(),0, 0.1*rSpeed, 0.001,   0, 20, [], ERUN);},msWait);}










    
    
    
    









 
 
  
  




 
   

 
    
    

































        










                            

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    



















</script>















<script> 

    document.onkeydown=function(){var kID,e=event;
        if (window.event){kID = e.keyCode;}else if(e.which){kID = e.which;}
        
        if (kID==113){
            Run(R_RenameCode);
        }
        else if (kID==115){
        }
        
        else if (kID==116){saveAllTab();}
        
        else if (kID==117){
            if (bgEditor.kVisibility||bgEditor.kVisibility==null){Run(R_CloseTB);}
            else{openCodeBT();}
            return false;
        }
        else if (kID==118){
            if (FrRunCode.kVisibility||FrRunCode.kVisibility==null){Run(R_RunCode);}
            else{Run(R_PauseCode);}
        }
        else if (kID==119){
            Run(R_StopCode);
        }
        
        
        
    }
    

    
    
    
    


























var W=screenW_px,H=screenH_px,minWH=Min(W,H);
var B=[true]; 
var WD=body, Touch=body;
WD.sig=function(s){sig(s);}
WD.trace=function(s){trace(s);}
WD.reg_release=function(){}
WD.reg_remove=function(){}
 
var gear=new Gear().onError(function(){trace(gear.ERROR+E10+E10); });
var tmp=[],TMP=[],res=[];









var ASLib=[
	" (This program is in developing for fully example and function.)","","",
	" If you have any question, please visit AuraLeague.DeviantArt.com","openWebsite("+tx("https://AuraLeague.DeviantArt.com")+");","",
	"","","",
	"1. Let's draw and code.", "WD.sig("+tx("Welcome to Aura Code Draw!")+");","",
	"2. This manual contains example in each line, you may click it to spawn code to current tab and run it.", "WD.sig("+tx("Hello World!")+");","",
	"3. The code in all tab will be saved automatically when you hit play or close editor back to view screen.", "trace("+tx("ABCDEFGHIJKLMNOP")+"+0123*2);","",
	"4. You can assign data to Bitmap bmp variable to draw small artwork", "bmp=Bitmap(raw.svg_icon,100,100); paint();","",
	"5. And use Drawing Knowledge in Aura Lesson to draw.", "bmp=Bitmap(mm(8),mm(8),new Object[]{"+S10+S9+tx("stco")+",CL.G,"+tx("r")+",new int[]{mm(1),mm(1), mm(3),mm(3)},"+S10+S9+tx("fico")+",CL.G,"+tx("r")+",new int[]{mm(3.5),mm(3.5),mm(7),mm(7)},"+S10+S9+tx("fico")+",CL.Y,"+tx("r")+",new int[]{mm(3.5),mm(1),mm(7),mm(3)},"+tx("r")+",new int[]{mm(1),mm(3.5),mm(3),mm(7)}"+S10+"});"+S10+"PAINT();","",
	"6. Some available methods are Bitmap(), Path(), mm(), CL, Math Pack, Color Pack, filt(), PATH()", "","",
	"7. Other limited functions need to be call  parent object.", "sig(1111);","",
	"8. Maximum resolution is depending on device configuration.", "","",
	"9. There are special methods that help you draw faster. Please read step by step to understand the way it work :", "","",
	"   1. paint() : paint bitmap bmp to screen for preview. We made this method separately because it will slow when call it frequently in big artwork.", "","",
	"   2. newPage(int L_px) : create new canvas to bmp with specific size.", "newPage(320); paint();","",
	"   3. newPage(int Wpx, int Hpx) : create new canvas to bmp with specific width and height.", "newPage(720,480); paint();","",
	"   4. Wpx, Hpx : variables contain width and height of bitmap bmp after newPage", "newPage(720,480); paint();","",
	"     a. WD.trace(Object obj) : log data", "newPage(720,480); paint(); WD.trace(Wpx+"+tx(" × ")+"+Hpx);","",
	"   5. LDraw : variable that stores drawing commands before apply to bmp.","","",
	"   6. applyDraw(), draw() : launch drawing LDraw to bmp.","","",
	"   7. PAINT() : draw LDraw to bmp and paint to display, then reset zoom status.","","",
	"   8. bg(int iColor), backgroundColor(i), bacolo(i), pageColor(i) : paint background color to bitmap", "newPage(100); pageColor(CL.G); PAINT();","",
	"     a. hsla(hue,sat,lum,alpha) : return int color in HSL color space", "newPage(100); pageColor(hsla(345,80,90,0.8)); PAINT();","",
	"     b. rgb(red,green,blue) : return int color in RGB color space", "newPage(100); pageColor(rgb(255,255,192)); PAINT();","",
	"     c. hsv(hue, sat, value) : return int color in RGB color space", "newPage(100); pageColor(hsv(200,100,100)); PAINT();","",
	"     d. HX(sHex) : int color via HEX name", "newPage(100); pageColor(HX("+tx("00FEFE")+")); PAINT();","",
	"     e. Other way to access color can be found in Aura Lesson (rgba(), hsva(),...)", "","",
	"   9. draw(String cmd), draw(String cmd, Object DrawDat) : add drawing command and data to LDraw. Details content input can be found in Aura Lesson: Basic Drawing.","","",
	"   10. Shorter form to add drawing command (the shorter the faster) : ","","",
	"     a. tr(dX,dY), translate(dX,dY) : translate.","","",
	"     b. sc(rX,rY), scale(rX,rY), sc(rX,rY, pX,pY), scale(rX,rY, pX,pY) : scale.","","",
	"     c. sk(rX,rY), skew(rX,rY) : skew.","","",
	"     d. rt(rDeg), rota(rDeg), rotate(rDeg), rt(rDeg,pX,pY), rota(rDeg,pX,pY), rotate(rDeg,pX,pY) : rotate.","","",
	"     e. save() : save status canvas.","","",
	"     f. restore() : restore status canvas.","","",
	"","","",
	"     g. mode(o), logic(o) : set logic blend (src,dst,add,xor,..).","","",
	"     h. bl(iW_px, kType), blur(iW_px, kType): set blur.","","",
	"     i. gacolo(x1, y1, x2, y2, AColor, APosi, kTileMode), gradientColor(x1, y1, x2, y2, AColor, APosi, kTileMode) : set gradientColor.","","",
	"     j. fico(i) : set fill color.","","",
	"     k. stco(i), lico(i) : set stroke line color.","","",
	"     l. stwi(dW), strokeWidth(dW) : set stroke width.","","",
	"     m. cap(int k), stjo(int k), strokeJoin(int k) : k=0,1,2 (line mode).","","",
	"     n. l(x1,y1, x2,y2), line(x1,y1, x2,y2) : draw line.","","",
	"     o. r(x1,y1, x2,y2), rect(x1,y1, x2,y2) : draw rectangle.","","",
	"     p. c(x,y,r), circle(x,y,r) : draw circle.","","",
	"     q. oval(x1,y1, x2,y2), elip(x1,y1, x2,y2) : draw elip.","","",
	"     r. a(x1,y1, x2,y2, startAngle, sweepAngle, kDrawCenter), elip(x1,y1, x2,y2, startAngle, sweepAngle, kDrawCenter) : draw arc.","","",
	"     s. zigzag(ADPoint : draw zigzag.","","",
	"","","",
	"     t. fo(sFontName), font(sFontName) : set font.","","",
	"     u. fosi(dSize), fontSize(dSize) : set text size.","","",
	"     v. t(s,x,y), text(s,x,y) : draw text.","","",
	"     w. foal(kMode), fontAlign(kMode), teal(kMode), textAlign(kMode) : set text align.","","",
	"     x. fosp(dSize), fontSpacing(dSize), spacing(dSize), tesp(dSize), lesp(dSize), textSpacing(dSize) : set text spacing.","","",
	"     y. fosc(dSize), fontScaleX(dSize), tesc(dSize), textScaleX(dSize) : set text scale X.","","",
	"     z. fosk(dSize), fontSkewX(dSize), tesk(dSize), textSkewX(dSize) : set text skew X.","","",
	"     aa. unli(k), foul(k), teun(k), underline(k) : set underline.","","",
	"     ab. mili(k), middleLine(k) : set middleline.","","",
	"     ac. fb(k), fakeBold(k) : set middleline.","","",
	"","","",
	"     ad. drawPath(), drawPath(p) : draw Path (complex curve,...).","","",
	"     ae. bitmap(idRes, int x, y, w, h) : paste bitmap resource.","","",
	"     af. bitmap(bitmapOrImageView, x, y, w, h) : paste bitmap resource.","","",
	"     ag. bitmap(idRes,  X1cut,Y1cut,X2cut,Y2cut,  X1paste,Y1paste,X2paste,Y2paste) : paste bitmap resource.","","",
	"     ah. bitmap(bitmapOrImageView,  X1cut,Y1cut,X2cut,Y2cut,  X1paste,Y1paste,X2paste,Y2paste) : paste bitmap resource.","","",
	"     ai. bitmap(int x, y, w, h, Object AIColor) : paste bitmap resource.","","",
	"     !!! bitmap need to be load to tmp array and called later due to asynchronous load of Web.","","",
	"     !!! If loading image slow, you'll need to create a tab for load image into 'tmp' array first.","","",
    
	"","","",
	"   11. LCombo : combo Array Object data for using in multiple drawing command (texts,ts,...).","","",
	"   12. C : combo Array Real Number data for using in multiple drawing command (lines,ls,zigzag,...).","","",
	"   13. path : default variable contain graphic Path data to use with default drawPath() method.","","",
	"     a. newPath(), newPath(Object p) : new graphic Path","","",
	"     b. setPath(String sCmd, Object eDat), setPath(Object p, String sCmd, Object eDat) : setting path content","","",
	"     c. setPathC(String sCmd), setPathC(Object p, String sCmd) : setting path content with data automatic from C. Thus you'll need to create data for C before calling this method.","","",
	"   14. Command to draw multiple objects (ls,rs,cs,...) is NOT a good choice when working with large bitmap. You'll use Cycle Render feature instead.","","",
	"","","",
	"10. When you hitting new page, it will create a template code with built in repeat code zone for large artwork.","","",
	"11. Cycle Render line contains four parameter following order: iStart, iStop, maxBufferSize, peak_ms. It'll loop the code bellow with i variable, which have value increasing in each cycle from iStart to iStop.","","",
	"12. bufferSize will force program to repeat run the code in bufferSize time synchornously without waiting, the speed is equal to launch multiple draw in single call.","","",
	"13. peak_ms will decide the maximum interval clock speed.","","",
	
	"","","",
	"14. You should export the code for future reuse, and use few tab for fast working.","","",
	"15. In large artwork, it may crash due to overflow device memory (yes, we had overclock it to let you go as far as posible). You can open another window or restart the app to try render again.","","",
	"","","",
	"16. Export as JPG format doesn't mean the file output will smaller than PNG format.","","",
	"17. After finish and exported your art work, please upload to DeviantArt group AuraLeague with hashtag #AuraStudio #AuraLeague","openWebsite("+tx("https://AuraLeague.DeviantArt.com")+");","",
	"    ⭐ AuraLeague.DeviantArt.com","openWebsite("+tx("https://AuraLeague.DeviantArt.com")+");","",
	"18. Then you can expose yourself and selling your masterpieces.","openWebsite("+tx("https://AuraLeague.DeviantArt.com")+");","",
	"","","",
    "","","",
    "19. Fast Tool","","",
    "   1. Code Cleaner","codeClean();","",
    "   2. Code Shrinker","codeShrink();","",
    "   3. Resize Image","resize(640,480)","",
    "   4. Resize Image Percent","resizePC(0.5)","",
    "   5. Fractal Generate","// You can try changing number value or remove '//' note to adjust the image result"+C10+""+C10+"var ScanMode=-1;    // ADJUST YOUR SCAN MODE ◀  -1: Fast Scan   0: Medium Test   1: 1000px(1Mpx)   2: 2000px(4Mpx)   3:3000px(9Mpx)   4:4000px(16Mpx)   5:4500px(20Mpx)"+C10+"var lBlur=5;        // ◀ BLUR INTENSITY"+C10+"var rBlur=1/8;      // ◀ BLUR RADIUS RATIO     MORE BLUR WILL CREATE MORE HALO"+C10+"var depthLevel=24;  // ◀ FRACTAL SCAN DEPTH"+C10+"var depthStart=3;   // ◀ CLIP DEPTH RESULT"+C10+"var rDimDepth=0.475; // ◀ DIM DEPTH"+C10+"var phase=0;"+C10+"var lgDraw="+'"'+"SRC_OVER"+'"'+", lgMirror="+'"'+"SRC_OVER"+'"'+", lgDepth="+'"'+"ADD"+'"'+"; // globalCompositeOpertion logic blend mode"+C10+""+C10+"// ▲▲▲▲▲ MAIN CONFIGURATION ▲▲▲▲▲"+C10+""+C10+"function config(scanMode,  lBl,rBl,  depth,clip,  dim){ScanMode=scanMode;lBlur=lBl;rBlur=rBl;depthLevel=depth;depthStart=clip;rDimDepth=dim;}"+C10+"function blendLogic( firstDraw, onMirror, applyLayer){lgDraw=firstDraw; lgMirror=onMirror; lgDepth=applyLayer;}"+C10+""+C10+"// config(0,  5,1/8,   24,3,   0.48);  blendLogic("+'"'+"SRC_OVER"+'"'+","+'"'+"SRC_OVER"+'"'+","+'"'+"ADD"+'"'+");  //  Ice Gem"+C10+"// config(0,  1,0,   24,20,   0.39);  phase=0; blendLogic("+'"'+"SRC_OVER"+'"'+","+'"'+"SRC_OVER"+'"'+","+'"'+"ADD"+'"'+");   //  Hex Space"+C10+"// config(0,  3,1/20,   62,60,   0.38); // Middle Hall"+C10+"// config(0,  10,1/8,   12,2,   0.46);  blendLogic("+'"'+"SRC_OVER"+'"'+","+'"'+"SRC_OVER"+'"'+","+'"'+"ADD"+'"'+");    //  Frosted Lotus"+C10+""+C10+"// ▲▲▲▲▲ RECOMMEND CONFIGURATION (FAST OVERWRITE) ▲▲▲▲▲"+C10+""+C10+"var reso=20;rLoadTime=0.5; //reso:40   depthLevel:12   rLoadTime:2   INTERVAL_MS:2000"+C10+"var msStep=20;"+C10+"if (ScanMode==-2){reso=1;rLoadTime=0.5;msStep=20;}if (ScanMode==-1){reso=3;rLoadTime=0.5;msStep=20;}else if (ScanMode==0){reso=6;rLoadTime=0.5;msStep=50;}else if (ScanMode==1){reso=10;rLoadTime=0.5;msStep=100;}else if (ScanMode==2){reso=20;rLoadTime=1;msStep=500;}else if (ScanMode==3){reso=30;rLoadTime=1;msStep=1000;}else if (ScanMode==4){reso=4;rLoadTime=2;msStep=3000;}else if (ScanMode==5){reso=45;rLoadTime=2;msStep=5000;}"+C10+"newPage(100*reso,100*reso);// ◀ W × H px"+C10+"PAINT(); var mWH=min(Wpx,Hpx);"+C10+""+C10+"// ▼▼▼▼▼ DRAW FIRST CONTENT ▼▼▼▼▼"+C10+"if (lBlur<1){lBlur=1;}"+C10+"for (var iBlur=0;iBlur<lBlur;iBlur++){//5"+C10+"    logic(lgDraw);"+C10+"    if (rBlur>0){bl(mWH*rBlur,0);}"+C10+"    stco(hsla(210,100,50,0.65));"+C10+"    var wL=mWH/200;//*1.2;"+C10+"    stwi(wL);"+C10+"    circle(Wpx*0.5, Hpx*0.5, mWH*0.45-wL);"+C10+"     applyDraw();"+C10+"}"+C10+"paint();"+C10+"// ▲▲▲▲▲ DRAW FIRST CONTENT ▲▲▲▲▲"+C10+""+C10+"//var BMPResult=cloneBitmap(bmp); // Keep first content"+C10+"var Z=cloneBitmap(bmp);"+C10+"clear(1);"+C10+"var BMPResult=cloneBitmap(bmp); // Remove first content"+C10+""+C10+"⚡⚡ ▼ ＣＹＣＬＥ　ＲＥＮＤＥＲ ▼ ⚡⚡  1  depthLevel  1  msStep  ⚡⚡  START  END  BUFFER  INTERVAL_MS"+C10+""+C10+"// ▼▼▼▼▼ YOUR FRACTAL LOOP ALGORITHM ▼▼▼▼▼"+C10+"logic(lgMirror);"+C10+"//bitmap(Z,0,0,Wpx,Hpx); clear(0.75);"+C10+"bl(mWH/100,0);"+C10+"var r=0.45/2;//0"+C10+"// Hint : Mirror(zBmpClone,  scX,scY,pvScX,pvScY,  rDeg,pvRX,pvRY,tX,tY) // sc:scale, pv:pivot, rDeg:rotate, t:translate"+C10+"// shfHue(Z,30); // SHIFT COLOR OF BITMAP BEFORE APPLY"+C10+"var delta=360/6;"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase)*r,SIN(phase)*r);"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase+delta)*r,SIN(phase+delta)*r);"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase+delta*2)*r,SIN(phase+delta*2)*r);"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase+delta*3)*r,SIN(phase+delta*3)*r);"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase+delta*4)*r,SIN(phase+delta*4)*r);"+C10+"Mirror(Z,  0.5,0.5 ,0.5,0.5, 0,0.5,0.5, COS(phase+delta*5)*r,SIN(phase+delta*5)*r);"+C10+""+C10+"clear(rDimDepth);"+C10+""+C10+"// ▲▲▲▲▲ YOUR FRACTAL LOOP ALGORITHM ▲▲▲▲▲"+C10+""+C10+"if (i>depthStart && i<depthLevel+1){// <<< CLIP DEPTH RENDER FOR FINAL RESULT"+C10+"    BMPResult=Bitmap(BMPResult,[   //"+'"'+"logic"+'"'+","+'"'+"SRC_OVER"+'"'+","+C10+"        "+'"'+"logic"+'"'+",lgDepth,"+C10+"        "+'"'+"bmp"+'"'+",[bmp,0,0,bmp.width,bmp.height]]);"+C10+"}"+C10+"Z=null; Z=cloneBitmap(bmp);"+C10+"clear(0.2); // EXTRA DIM FOR NEXT SCAN"+C10+""+C10+"//if (i==depthLevel-1){i=depthLevel+1;} // GET RESULT AT MIDDLE DEPTH"+C10+"if (i==depthLevel){bmp=BMPResult;i=depthLevel+1;} // GET RESULT AT FINAL COMBINE"+C10+""+C10+""+C10+""+C10+""+C10+""+C10+"","",
    "   6. Photo Grid Collage","// PHOTO GRID COLLAGE - For Chibi Base Arrangement"+C10+"// !!! THIS CODE ONLY WORK FAST WHEN YOU HOST THIS WEB, PLEASE SAVE THIS WEB AND USE Apache HTTP Server TO RUN"+C10+""+C10+"var CELL_WIDTH=960, CELL_HEIGHT = 720;  // ◀ Size Of Each Photo // 640x480, 1280x960, 960x720,..."+C10+"var N_COLUMN = 6;                       // ◀ Amount photo in 1 row"+C10+"var HORIZONTAL_SPACING_RATIO = 0.7;     // ◀ 0..1 | Default is 1  ,0.7, 0.6"+C10+"var VERTICAL_SPACING_RATIO = 0.9;       // ◀ 0..1 | Default is 1  ,0.9, 0.8"+C10+"var DELAY_LOAD_MS = 1000;               // ◀ (millisecond)"+C10+"var FONT_SIZE_PX = CELL_HEIGHT*0.05;    // ◀ (px)"+C10+"var CAPTION_SIZE_RATIO = 0.8;           // ◀ 0..1 | Default is 0.8   ,0.6"+C10+"var CAPTION_LINE_SPACING=0.8;           // ◀ Default is 1   ,0.8"+C10+"var CAPTION_MARGIN_LEFT_RATIO = 0.35;   // ◀ 0..1 | Default is 0.3"+C10+"var CAPTION_MARGIN_TOP_RATIO = 0.45;    // ◀ 0..1 | Default is 0.3"+C10+"var CAPTION_COLOR = hsl(200,100,50);    // ◀ Caption Color"+C10+"var HEIGHT_WATERMARK = FONT_SIZE_PX*10; // ◀ Default is FONT_SIZE_PX * 10"+C10+"var APhotoURL=[ // ▼▼▼ PUT YOUR PHOTO ADDRESS LIST HERE "+C10+"                // ▼▼▼ IF EMPTY, PLESE SET NAME PATTERN PARAMETER FOR AUTO GENERATE FILE ADDRESS"+C10+"                // ▼▼▼ C:\HTTPApache\htdocs\INPUT ◀ Put Your Photo To This Folder. Or, You can use Image Web URL ^^ "+C10+"   // "+'"'+"/INPUT/0001.png"+'"'+","+C10+"   // "+'"'+"/INPUT/0002.png"+'"'+","+C10+"];"+C10+"var ID_START = 0; // ◀ ID FILE START"+C10+"var ID_END = 23;  // ◀ ID FILE END"+C10+""+C10+"function photoPath(i){ // ▼▼▼ CUSTOM NAME PATTERN. Ex result: /INPUT/0001.png, /INPUT/0002.png"+C10+""+C10+"    return     "+'"'+"/INPUT/"+'"'+" + digitNc(i,4) + "+'"'+".png"+'"'+"   ; "+C10+"}"+C10+""+C10+"function photoCaption(i){ // ▼▼▼ CUSTOM CAPTION PATTERN."+C10+"return ["+C10+"                           "+'"'+""+'"'+" + i          "+C10+",                          "+'"'+"α "+'"'+"+i*15+"+'"'+"°"+'"'+"   "+C10+",                          "+'"'+"ζ 15°"+'"'+"        "+C10+"];}"+C10+""+C10+"// ▲▲▲▲▲ MAIN CONFIGURATION ▲▲▲▲▲"+C10+""+C10+"const digitNc=function(i,nDigi){  // RETURN TEXT NUMBER WITH CONSTANCE DIGIT LENGTH"+C10+"   var s="+'"'+""+'"'+"+i; while (s.length<nDigi){s="+'"'+"0"+'"'+"+s;}return s;"+C10+"}"+C10+"function photoPathN(i){if (APhotoURL.length>0){return APhotoURL[i];}return photoPath(i);}"+C10+"if (APhotoURL.length>0){ID_START=0;ID_END=APhotoURL.length-1;}"+C10+""+C10+"var W=CELL_WIDTH,H=CELL_HEIGHT;  nPic=ID_END-ID_START+1;"+C10+"var nColumn = N_COLUMN,nRow=Math.ceil(nPic/nColumn);"+C10+"var jW = Math.round(W*HORIZONTAL_SPACING_RATIO);"+C10+"var jH = Math.round(H*VERTICAL_SPACING_RATIO);"+C10+""+C10+"newPage(jW*(nColumn-1)+W, jH*(nRow-1)+H+HEIGHT_WATERMARK);"+C10+""+C10+"// ▼▼▼▼▼ YOUR WATERMARK ▼▼▼▼▼"+C10+"// ▼▼▼▼▼ YOUR WATERMARK ▼▼▼▼▼"+C10+"// ▼▼▼▼▼ YOUR WATERMARK ▼▼▼▼▼"+C10+""+C10+"var sFunWatermark="+'"'+"A Goody From HiPerrine 2021, Picox & Cröza Pạklït Laboratory. All right reserved."+'"'+";"+C10+"var sLinkA="+'"'+"More Chibi References At"+'"'+";"+C10+"var sLinkB="+'"'+"deviantArt.com / HiPerrine"+'"'+";"+C10+""+C10+"fo("+'"'+"comic"+'"'+"); fosi(FONT_SIZE_PX*3); fico(hsla(195,100,50,1));"+C10+"t(sLinkA, jW*1, Hpx-FONT_SIZE_PX*5.3);"+C10+""+C10+"var CALIBRATE_B=0.1; // ◀ HORIZONTAL_SPACING_RATIO : CALIBRATE_B > 0.6:0.37; 0.8:-0.25; 0.7:0.1"+C10+""+C10+"fb(1); fico(hsla(175,100,50,1));"+C10+"t(sLinkB, jW*(3.3+CALIBRATE_B*1.2), Hpx-FONT_SIZE_PX*5.3);"+C10+""+C10+"fb(0); fo("+'"'+"mono"+'"'+"); fosi(FONT_SIZE_PX*1.5); fico(hsla(0,0,50,0.4));"+C10+"t(sFunWatermark, jW*1.25, Hpx-FONT_SIZE_PX*1.75);"+C10+""+C10+"var zLogoStamp=Bitmap("+'"'+"/INPUT/da_logo.png"+'"'+");"+C10+"bitmap( zLogoStamp, jW*(3.05+CALIBRATE_B),Hpx-FONT_SIZE_PX*9, 512/7*(CELL_HEIGHT/480), 853/7*(CELL_HEIGHT/480));"+C10+""+C10+"// ▲▲▲▲▲ YOUR WATERMARK ▲▲▲▲▲"+C10+"// ▲▲▲▲▲ YOUR WATERMARK ▲▲▲▲▲"+C10+"// ▲▲▲▲▲ YOUR WATERMARK ▲▲▲▲▲"+C10+""+C10+"var CapMarginLeft=(W-jW)*CAPTION_MARGIN_LEFT_RATIO;"+C10+"var CapMarginTop=(H-jH)*CAPTION_MARGIN_TOP_RATIO;"+C10+"fosi(FONT_SIZE_PX*CAPTION_SIZE_RATIO);  fico(CAPTION_COLOR);"+C10+""+C10+"var ACap;"+C10+"var crX,crY,j;"+C10+"sig("+'"'+"Grid : "+'"'+"+nColumn+"+'"'+" x "+'"'+"+nRow+E10+"+'"'+"Page : "+'"'+"+Wpx+"+'"'+" x "+'"'+"+Hpx+"+'"'+" px"+'"'+");"+C10+""+C10+""+C10+"⚡⚡ ▼ ＣＹＣＬＥ　ＲＥＮＤＥＲ ▼ ⚡⚡  ID_START  ID_END+1  1  DELAY_LOAD_MS  ⚡⚡  START  END  BUFFER  INTERVAL_MS"+C10+"// logic("+'"'+"Add"+'"'+");"+C10+"   j=i-1;"+C10+"   if (i<=ID_END){tmp[i]=Bitmap(photoPathN(i));}"+C10+"   if (j>=ID_START && j<=ID_END){"+C10+"      crY=Math.floor((j-ID_START)/nColumn); crX=(j-ID_START)-crY*nColumn;"+C10+"      bitmap( tmp[j], jW*crX, jH*crY, W, H);"+C10+"      ACap=photoCaption(j)"+C10+"      for (var ii=0;ii<ACap.length;ii++){"+C10+"          t(ACap[ii],CapMarginLeft+jW*crX, CapMarginTop+jH*crY+FONT_SIZE_PX*CAPTION_LINE_SPACING*(ii+1));"+C10+"      }"+C10+"      PAINT();"+C10+"   }"+C10+""+C10+""+C10+""+C10+"   "+C10+""+C10+""+C10+""+C10+""+C10+""+C10+""+C10+""+C10+""+C10+""+C10+"","",
];
var ASVip=[
	"　★⭐★ ＶＩＰ　ＭＥＭＢＥＲ　★⭐★ ","","",
	"","","",
	" ⭐ HiPerrine : HiPerrine.DeviantArt.com","openWebsite("+tx("https://HiPerrine.DeviantArt.com")+");","",
	"","","",
	"","","",
	"   It's because of the generosity","","",
	" of people like you that we can do","","",
	" any extraordinary solution at all.","","",
	"","","",
	"   For this, we thank you and greatly","","",
	" appreciate your support.","","",
	"","","",
	"","","",
	"","","",
	"","","",
	" ♥ You can be featured on the list above by donate to our project or be the first 50 members join in the group and post artwork.","","",
    "","","",
	"    ⭐ AuraLeague.DeviantArt.com","openWebsite("+tx("https://AuraLeague.DeviantArt.com")+");","",
	"","","",
	"","","",
];
















	

























	
var zRunCycle=RunCycle();







var Wpx=100,Hpx=100;

var bmp=Bitmap(Wpx,Hpx);



var LDraw=[];
var LCombo=[];
var C=[];

function toArray(ListObj){return ListObj;}
function toArrayD(ListD){return ListD;}
function toArrayF(ListD){return ListD;}


function newPage(W_px,H_px){if (!H_px){H_px=W_px;}
    Wpx=W_px;Hpx=H_px;bmp=Bitmap(Wpx,Hpx);
}


 
function bg(iColo,kLogic){if (kLogic==null){kLogic=9;} LDraw.add("MODE");LDraw.add(kLogic);LDraw.add("FICO");LDraw.add(iColo);LDraw.add("R");LDraw.add([0,0,Wpx,Hpx]);LDraw.add("MODE");LDraw.add(4);}
function pageColor(iColo){bg(iColo);}
function backgroundColor(iColo){bg(iColo);}
function bacolo(iColo){bg(iColo);}


function newDraw(){LDraw=ArrayList(4);}

function applyDraw(){bmp=Bitmap(bmp,toArray(LDraw));LDraw=ArrayList(4);}

function paint(){ePic(PicView,["src",bmp]);}

function PAINT(){delayF(function(){applyDraw();loadPicView(bmp);},40);}

function draw(cmd){LDraw.add(cmd);LDraw.add("");}
function draw(cmd,DrawDat){LDraw.add(cmd);LDraw.add(DrawDat);} 
function draw(){bmp=Bitmap(bmp,toArray(LDraw));LDraw=ArrayList(4);}


function tr(dX, dY){LDraw.add("TR");LDraw.add([dX,dY]);}
function translate(dX, dY){tr(dX,dY);}

function sc(rX, rY, pX, pY){
    LDraw.add("SC");LDraw.add([rX,rY]);
    if (pY!=null){tr(-pX+pX/rX,-pY+pY/rY);}
}

function scale(rX, rY, pX, pY){sc(rX,rY,pX,pY);}
function sk( rX, rY){LDraw.add("SK");LDraw.add([rX,rY]);}
function skew( rX, rY){sc([rX,rY]);}

function rt(rDeg, pX, pY){
    tr(pX,pY);
    LDraw.add("RT");LDraw.add(rDeg);
    tr(-pX,-pY);
    
}

function rota(rDeg, pX, pY){rt(rDeg,pX,pY);}

function rotate(rDeg, pX, pY){rt(rDeg, pX, pY);}
function save(){LDraw.add("SAVE");LDraw.add(0);}
function restore(){LDraw.add("RESTORE");LDraw.add(0);}

function fico(iColo){LDraw.add("FICO");LDraw.add(iColo);}
function stco(iColo){LDraw.add("STCO");LDraw.add(iColo);}
function lico(iColo){LDraw.add("STCO");LDraw.add(iColo);}
function stwi(dW){LDraw.add("STWI");LDraw.add(dW);}
function strokeWidth(dW){stwi(dW);}
function cap(k){LDraw.add("CAP");LDraw.add(k);}
function stjo(k){LDraw.add("STJO");LDraw.add(k);}
function strokeJoin(k){stjo(k);}

function fo(sName){LDraw.add("FO");LDraw.add(sName);}
function font(sName){LDraw.add("FO");LDraw.add(sName);}
function fosi(dSize){LDraw.add("FOSI");LDraw.add(dSize);}
function fontSize(dSize){LDraw.add("FOSI");LDraw.add(dSize);}
function foal(k){LDraw.add("FOAL");LDraw.add(k);}
function fontAlign(k){foal(k);}
function teal(k){foal(k);}
function textAlign(k){foal(k);}
function fosp(dSize){LDraw.add("FOSP");LDraw.add(dSize);}
function fontSpacing(dSize){fosp(dSize);}
function fosc(dSize){LDraw.add("FOSC");LDraw.add(dSize);}
function fontScaleX(dSize){fosc(dSize);}
function fosk(dDeg){LDraw.add("FOSK");LDraw.add(dSize);}
function fontSkewX(dDeg){fosk(dDeg);}
function unli(k){LDraw.add("UNLI");LDraw.add(k);}
function underline(k){unli(k);}
function mili(k){LDraw.add("MILI");LDraw.add(k);}
function middleLine(k){mili(k);}
function fb(k){LDraw.add("FB");LDraw.add(k);}
function fakeBold(k){fb(k);}
function bl(iW_px, kType){ LDraw.add("BLUR");LDraw.add([iW_px,kType]); }
function blur( iW_px, kType){ LDraw.add("BLUR");LDraw.add([iW_px,kType]); }
function gacolo( x1, y1, x2, y2, AColor, APosi, kTileMode){ LDraw.add("GACOLO");LDraw.add([x1,y1,x2,y2, AColor, APosi,kTileMode]); }
function garadientColor( x1, y1, x2, y2, AColor, APosi, kTileMode){ gacolo(x1,y1,x2,y2, AColor, APosi,kTileMode); }

function line( x1, y1, x2, y2){LDraw.add("L");LDraw.add([x1,y1,x2,y2]);}
function l( x1, y1, x2, y2){LDraw.add("L");LDraw.add([x1,y1,x2,y2]);}
function rect( x1, y1, x2, y2){LDraw.add("R");LDraw.add([x1,y1,x2,y2]);}
function r(x1, y1, x2, y2){LDraw.add("R");LDraw.add([x1,y1,x2,y2]);}
function circle( x, y, r){LDraw.add("C");LDraw.add([x,y,r]);}
function c( x, y, r){LDraw.add("C");LDraw.add([x,y,r]);}
function oval( x1, y1, x2, y2){LDraw.add("O");LDraw.add([x1,y1,x2,y2]);}
function elip( x1, y1, x2, y2){LDraw.add("O");LDraw.add([x1,y1,x2,y2]);}
function a( x1, y1, x2, y2, phiStart, phiSweep, kDrawCenter){LDraw.add("A");LDraw.add([x1,y1,x2,y2,phiStart,phiSweep,kDrawCenter]);}
function arc(x1, y1, x2, y2, phiStart, phiSweep, kDrawCenter){LDraw.add("A");LDraw.add([x1,y1,x2,y2,phiStart,phiSweep,kDrawCenter]);}
function text( s, x, y){LDraw.add("T");LDraw.add([s,x,y]);}
function t( s, x, y){LDraw.add("T");LDraw.add([s,x,y]);}
function zigzag( ADXY){LDraw.add("Z");LDraw.add(ADXY);}
function mode(oIn){LDraw.add("MODE");LDraw.add(oIn);}
function logic( oIn){LDraw.add("LOGIC");LDraw.add(oIn);}

function drawPath( p){LDraw.add("PATH"); if (!p){LDraw.add(path);}else{LDraw.add(p);}}






function bitmap(mapOrView__Path, X1cut_x, Y1cut_y, X2cut_w, Y2cut_h, X1paste, Y1paste, X2paste, Y2paste){
    if (X1paste==null){LDraw.add("BMP");LDraw.add( [mapOrView__Path,X1cut_x, Y1cut_y, X2cut_w, Y2cut_h]);}
    else if (Y2paste!=null){ LDraw.add("BMP");LDraw.add( [mapOrView__Path,  X1cut_x, Y1cut_y, X2cut_w, Y2cut_h,  X1paste,Y1paste,X2paste,Y2paste]); }
}

function resize(w,h){if(!h){h=w;}
    var r=Min(w/PicView.width,h/PicView.height);
    SAVE_PNG(fileName+" "+Math.round(PicView.width*r)+"x"+Math.round(PicView.height*r)+" "+Math.floor(r*100)+"%",Bitmap(Math.round(PicView.width*r),Math.round(PicView.height*r),["BMP",[PicView,0,0,PicView.width,PicView.height,0,0,Math.round(PicView.width*r),Math.round(PicView.height*r)]]) );
}
function resizePC(r){
    SAVE_PNG(fileName+" "+Math.round(PicView.width*r)+"x"+Math.round(PicView.height*r)+" "+Math.floor(r*100)+"%",Bitmap(Math.round(PicView.width*r),Math.round(PicView.height*r),["BMP",[PicView,0,0,PicView.width,PicView.height,0,0,Math.round(PicView.width*r),Math.round(PicView.height*r)]]) );
}



function clear(pc){bg(hsla(120,100,100,pc),"dst_out");applyDraw(); paint();}
function RXY(r,pX,pY){tr(pX,pY);rt(r);tr(-pX,-pY);}
function mirror(zBmpClone,  scX,scY,pvScX,pvScY,  rDeg,pvRX,pvRY,tX,tY){
  tr(Wpx*tX,Hpx*tY);
  RXY(rDeg,Wpx*pvRX,Hpx*pvRY);
  bitmap(zBmpClone, Wpx*(1-scX)*pvScX,Hpx*(1-scY)*pvScY,Wpx*scX,Hpx*scY);
  RXY(-rDeg,Wpx*pvRX,Hpx*pvRY);
  tr(-Wpx*tX,-Hpx*tY);
}
function Mirror(zBmpClone,  scX,scY,pvScX,pvScY,  rDeg,pvRX,pvRY,tX,tY){ mirror(zBmpClone,  scX,scY,pvScX,pvScY,  rDeg,pvRX,pvRY,tX,tY); applyDraw(); paint();}

function shfHue(bitmap,hue){
    var zPen = bitmap.getContext("2d"); var imgDat = zPen.getImageData(0, 0, bitmap.width, bitmap.height); var dat=imgDat.data; var HSL=[],RGB=[];
    for (var ii = 0; ii < dat.length; ii += 4) {
        HSL=rgbToHsl(dat[ii], dat[ii+1], dat[ii+2]);
        HSL[0]+=hue/360; if (HSL[0]>1){HSL[0]-=1;} else if (HSL[0]<0){HSL[0]+=1;}

        RGB=hslToRgb(HSL[0], HSL[1], HSL[2]);
        dat[ii] = RGB[0]; dat[ii + 1] = RGB[1]; dat[ii + 2] = RGB[2];
    }; zPen.putImageData(imgDat, 0, 0);
}



var intW=floor(W),intH=floor(H),zintW=intW,zintH=intH;








var AHslHx=[175,100,20]; 
var hueGA=AHslHx[0],satGA=AHslHx[1],lumGA=AHslHx[2],lumDarkGA=B.get(0)?100:0,inlumDarkGA=100-lumDarkGA;
var lumView=14,lumView_l=B.get(0)?0:79;
var coloP=hsla(0,0,0,0.2);
var coloBTV=hsla(0,0,0,0.5);
var colo1=hsl(0,0,lumDarkGA);
var aBgMo=0.8;
var coloMonitor=[3,hsla(hueGA,satGA,lumGA*0.25+inlumDarkGA*0.75,aBgMo),hsla(hueGA,satGA,lumGA*0.3+inlumDarkGA*0.7,aBgMo),hsla(hueGA,satGA,lumGA*0.45+inlumDarkGA*0.55,aBgMo)];
var coloView=[B.get(0)?3:7,hsla(0,0,lumView+lumView_l,1),hsla(0,0,lumView*0.225+lumView_l,1),hsla(0,0,lumView*0.1+lumView_l,1)];

var graTab0=[hsla(hueGA,satGA,lumGA,0.4*2),hsla(hueGA,satGA,lumGA,0.1375),hsla(hueGA,lumGA,50,0.05)];
var graTab1=[hsla(hueGA,satGA,50,0.7),hsla(hueGA,satGA,50,0.4),hsla(hueGA,satGA,50,0.3)];

var mmL=mm(0.5),mmR=mm(1);
var xxWH=Min(3200,intS(""+(Max(screenW_px,screenH_px)*3)));
var W4=minWH/13.0, W4n=minWH/14.0, Hfs=W4/2.1;
var ihW4n=intS(""+(W4n/2)), iW3=intS(""+(W4*3.0/4)), iW5=intS(""+(W4*5/4)), iW6=intS(""+(W4*1.5)), iW8=intS(""+(W4*2)), iW12=intS(""+(W4*3)), iW16=intS(""+(W4*4)), iW20=intS(""+(W4*5));
var fs=intS(""+Hfs),fs2=fs*2,fs3=fs*3,hfs3=fs3/2;
    var rFosi_WT=1; 
function FS(iFosi){return [UNIT_MM, (iFosi/PXpMM/2.1)*17*rFosi_WT   *0.15];}

var LAPA_M=[FR.M,FR.M,GRA.LT];








var nCode=0,idCode=0; var zS="";
zS=loadStringData("nCodeDraw");
if (zS.length>0){nCode=intS(zS);}else{
	saveData(["nCodeDraw",""+nCode]);
}
var recentTab=0;
zS=""; zS=loadStringData("rcTabCodeDraw");
if (zS.length>0){recentTab=intS(zS);}
recentTab=Max(0,Min(recentTab,nCode-1));
saveData(["rcTabCodeDraw",""+recentTab]);
var sCode="";

var rLoadTime=0.5;
var sCycleAp1=""+S10
+S10+"//　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡"
+S10+"//　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡"
+S10+"//　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡　ＣＹＣＬＥ　ＲＥＮＤＥＲ　ＺＯＮＥ　⚡"
+S10
+S10+"var iStart=",sCycleAp2=", iStop=",sCycleAp3=",  i;       // ◀ SET YOUR PARAMETERS"
+S10+"var bufferSize=1, maxBufferSize=",sCycleAp4="; // ◀ SET YOUR PARAMETERS"
+S10+"var accelerateBuffer=0.1;       // ◀ SET YOUR PARAMETERS"
+S10+"var peak_ms=",sCycleAp5=", load_ms=rLoadTime *(Wpx+Hpx);// ◀ SET YOUR PARAMETERS"
+S10+"var accelerateClock=0.4;        // ◀ SET YOUR PARAMETERS"
+S10
+S10+"/"+"* ▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼▼　ＤＯ　ＮＯＴ　ＥＤＩＴ　ＴＨＩＳ　ＬＩＮＥ　▼▼▼▼▼▼▼▼▼▼ *"+"/ var buff=bufferSize,maxBuff=maxBufferSize+0.4,aBuf=accelerateBuffer,iaBuf=1-aBuf,aCyc=accelerateClock,iaCyc=1-aCyc; i=iStart-1;  var TimeStart=getTimeMS(); TeStatus.setText("+tx("Progress:")+"+round((i+1-iStart)*10000.0/(iStop-iStart))/100+"+tx("%  Time:")+"+floor(floor(getTimeMS()-TimeStart)/100.0)/10.0+"+tx("s  Buffer:")+"+round(buff)+"+tx("/")+"+round(maxBuff)+"+tx("  Cycle:")+"+load_ms+"+tx("ms ")+"+ round(1000.0/load_ms)+"+tx("fps/")+"+round(1000.0/peak_ms)+"+tx("fps")+"); iStop+=1; zRunCycle.stop(); zRunCycle=RunCycle(function(){for (var zi=0;zi<buff;zi++){i+=1;if (i<iStop){"
+S10+"/"+"/ ▼▼▼▼▼▼▼▼▼▼ YOUR REPEATED CODE ▼▼▼▼▼▼▼▼▼▼"
+S10+S10,sCycleA=sCycleAp1+"0"+sCycleAp2+"100"+sCycleAp3+"2"+sCycleAp4+"10"+sCycleAp5,sCycleB=""+S10
+S10+"/"+"/ ▲▲▲▲▲▲▲▲▲▲ YOUR REPEATED CODE ▲▲▲▲▲▲▲▲▲▲"
+S10+"/"+"* ▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲▲　ＤＯ　ＮＯＴ　ＥＤＩＴ　ＴＨＩＳ　ＬＩＮＥ　▲▲▲▲▲▲▲▲▲▲ *"+"/ zRunCycle.i= floor(zRunCycle.i*iaCyc+peak_ms*aCyc);buff=buff*iaBuf+maxBuff*aBuf; TeStatus.setText("+tx("Progress:")+"+round((i+1-iStart)*10000.0/(iStop-iStart))/100+"+tx("%  Time:")+"+floor(floor(getTimeMS()-TimeStart)/100.0)/10.0+"+tx("s  Buffer:")+"+floor(buff)+"+tx("/")+"+floor(maxBuff)+"+tx("  Cycle:")+"+zRunCycle.i+"+tx("ms ")+"+ round(1000.0/zRunCycle.i)+"+tx("fps/")+"+round(1000.0/peak_ms)+"+tx("fps")+"); }else{zRunCycle.stop();displayStopped();break;}} },load_ms); WD.reg_release(zRunCycle); zRunCycle.runSafe();"
+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10+S10;
function newCode(){
	
	nCode+=1;
	var zSCode="newPage(500,500);// ◀ W × H px"
		+S10
		+S10+"PAINT();"+S10
		+S10+"⚡⚡ ▼ ＣＹＣＬＥ　ＲＥＮＤＥＲ ▼ ⚡⚡  1  100  2  20  ⚡⚡  START  END  BUFFER  INTERVAL_MS"+S10+S10+S9+"logic("+tx("Add")+");"
        
		+S10+S9+"stco(CL.rand());"
		+S10
		+S10+S9+"line(ran(Wpx),ran(Hpx),ran(Wpx),ran(Hpx));"
		+S10
		+S10+S9+"applyDraw(); paint();";


	saveData(["nCodeDraw",""+nCode, "nameCodeDraw"+nCode,"Art "+nCode, "sCodeDraw"+nCode,zSCode]);
	var zTB = aTeBox(ScVTextBox,["lapa",[FR.W,FR.W,GRA.LT],"Gravity",GRA.LT,"te",zSCode,"fofa","mono","fosi",fs*3/4,"tecolo",hsla(0,0,lumDarkGA,0.9),"sele",1,"muli",1,"padi",[0,iW5*2,0,0]]);


	recentTab=nCode-1;
	loadTab();

}

function extractSCode(){
	var iFCR=sCode.indexOf("⚡⚡"), lsCode=sCode.length;
	var ASOut=[];
	if (iFCR>-1 && iFCR+35<lsCode){
		var sEx0=sCode.substring(0,iFCR),sEx1="",sEx2=""; var zChar;
		for (var i=iFCR+18;i<lsCode;i++){zChar=sCode.charAt(i);
			if (zChar!=C10){sEx1+=zChar;}else{iFCR=i;break;}
		}
		sEx2=sCode.substring(iFCR,lsCode);
		ASOut=sEx1.split("  ");
		if (ASOut.length>4){
			sCode=sEx0+sCycleAp1+ASOut[1]+sCycleAp2+ASOut[2]+sCycleAp3+ASOut[3]+sCycleAp4+ASOut[4]+sCycleAp5+  sEx2 +sCycleB;
		}
	}
}


    var bgView=aFrLay(Touch,["lapa",[FR.M,FR.M,GRA.LT],"bacolo", coloView,"dipl",1 ]);
	var PicView=aPic(bgView,["lapa",[FR.W,FR.M,GRA.C ] ]);
	
	var bgCtrlL=aFrLay(bgView,["lapa",[iW8,FR.M,GRA.LT] ]);
	var bgCtrlR=aFrLay(bgView,["lapa",[iW8,FR.M,GRA.RT] ]);
		var FrBgDimL=aFrLay(bgCtrlL,["lapa",[iW8,FR.M,GRA.LT],"bacolo",coloP  ]);
		var FrBgDimR=aFrLay(bgCtrlR,["lapa",[iW8,FR.M,GRA.RT],"bacolo",coloP  ]);
		var FrInfoPic=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LB]  ]);
			var PicInfoPic=aPic(FrInfoPic,["lapa",[FR.M,FR.M,GRA.C ],"sc",1,"src",raw.info ]);
		
			
		var FrSave=aFrLay(bgCtrlR,["lapa",[iW8,iW8,GRA.RB],"magi",[0,0,0,iW8*2]  ]);
			var PicSave=aPic(FrSave,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.camera_png ]);
		var FrResetPage=aFrLay(bgCtrlR,["lapa",[iW8,iW8,GRA.RB],"magi",[0,0,0,iW8*3.5]  ]);
			var PicResetPage=aPic(FrResetPage,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.reset ]);

            
        
			
		var FrCodeBT=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LT]  ]);
			var PicCodeBT=aPic(FrCodeBT,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.keyboard ]);
		var FrRun=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LT],"magi",[0,iW8,0,0]  ]);
			var PicRun=aPic(FrRun,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.play ]);
		var FrPause=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LT],"magi",[0,iW8,0,0],"dipl",-1  ]);
			var PicPause=aPic(FrPause,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.pause ]);
		var FrStop=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LT],"magi",[0,iW8*2,0,0]  ]);
			var PicStop=aPic(FrStop,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.stop ]);
        var FrOpen=aFrLay(bgCtrlL,["lapa",[iW8,iW8,GRA.LB],"magi",[0,0,0,iW8]  ]);
			var PicOpen=aPic(FrOpen,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.insert ]);

        


	var bgEditor=aFrLay(bgView,["lapa",[FR.M,FR.M,GRA.LT],"bacolo",coloMonitor,"dipl",-1]);
		var ScTextBox = aScrH2(bgEditor,["lapa",[FR.M,bgView.getHeight()-(iW6+iW3*1.5),GRA.LT],"magi",[0,iW6+iW3*1.5,0,0] ]);
			var ScVTextBox = aScrV2(ScTextBox,["lapa",[FR.M,FR.M,GRA.LT] ]);
			
				var FrLTextBox=aFrLay(ScVTextBox,["lapa",[FR.M,FR.M,GRA.LT]]);
                
  
		var FrBgCtrlEdit=aFrLay(bgEditor,["lapa",[FR.M,iW6,GRA.LT],"bacolo",coloMonitor ]);
		var FrCloseTB=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT]  ]);
			var PicCloseTB=aPic(FrCloseTB,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.cross_m ]);
		var FrNewCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6,0,0,0]  ]);
			var PicNewCode=aPic(FrNewCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.new_icon ]);
        var FrOpenCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*2,0,0,0]  ]);
			var PicOpenCode=aPic(FrOpenCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.open ]);
		var FrSaveCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*3,0,0,0]  ]);
			var PicSaveCode=aPic(FrSaveCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.6,"src",raw.save_as ]);
		var FrRunCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*4,0,0,0]  ]);
			var PicRunCode=aPic(FrRunCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.play ]);
		var FrPauseCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*4,0,0,0],"dipl",-1  ]);
			var PicPauseCode=aPic(FrPauseCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.pause ]);
		var FrStopCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*5,0,0,0]  ]);
			var PicStopCode=aPic(FrStopCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.stop ]);
		var FrRenameCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*6,0,0,0]  ]);
			var PicRenameCode=aPic(FrRenameCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.7,"src",raw.cursor_select ]);
		var FrHelpCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*7,0,0,0]  ]);
			var PicHelpCode=aPic(FrHelpCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",1,"src",raw.learn ]);
		var FrVIPCode=aFrLay(bgEditor,["lapa",[iW6,iW6,GRA.LT],"magi",[iW6*8.25,0,0,0]  ]);
			var PicVIPCode=aPic(FrVIPCode,["lapa",[FR.M,FR.M,GRA.C ],"sc",0.65,"src",raw.x3d_icon,"r",-45,"ty",-ihW4n/3 ]);

		var ScTab = aScrH2(bgEditor,["lapa",[FR.M,iW3*1.5,GRA.LT],"magi",[0,iW6,0,0],"bacolo",coloMonitor ]);
			
			var FrLTab=aFrLay(ScTab,["lapa",[FR.W,FR.M,GRA.LT]]);

	var TeStatus=aText(Touch,["te","","tecolo",colo1,"font","mono","fosi",FS(fs/2),"lapa",[FR.W,FR.W,GRA.CT],"scr",2 ]);
    


regHoverFr([FrInfoPic,FrSave,FrResetPage,
    FrCodeBT,FrRun,FrPause,FrStop,FrOpen,
    FrCloseTB,FrNewCode,FrOpenCode,FrSaveCode,FrRunCode,FrPauseCode,FrStopCode,FrRenameCode,FrHelpCode,FrVIPCode
]);


var sDetail="";
RatRun(FrInfoPic,function(){showViewCtrl();blinkFr(FrInfoPic,0);
    Wpx=PicView.width; Hpx=PicView.height;
	sDetail="Image size : "+Wpx+" x "+Hpx+" px   "+(Wpx*Hpx)+" px";
	SFH_Confirm().size(1).Title("Details",sDetail).setTheme(hueGA,satGA,lumGA,lumDarkGA).ButtonName("OK","").Noti().create(Touch);
    
});

function displayStopped(){show(FrRun);hide(FrPause); show(FrRunCode);hide(FrPauseCode);loadPicView(bmp);}
function launchCode(){delayF(function(){gear.eval(sCode);},20);}


RatRun(FrSave,function(){showViewCtrl();blinkFr(FrSave,0); WD.sig("Exporting PNG..."); delayF(function(){SAVE_PNG(fileName+" "+getHourStamp(),bmp); },20); });

RatRun(FrResetPage,function(){blinkFr(FrResetPage,0);newPage(1,1);paint();  });
RatRun(FrRun,function(){showViewCtrl();blinkFr(FrRun,0);blinkFr(FrPause,0); hide(FrRun);show(FrPause); hide(FrRunCode);show(FrPauseCode);  if (zRunCycle.kPaused==0||zRunCycle.kRemoved==1){launchCode();}else{zRunCycle.resume();} });
RatRun(FrPause,function(){showViewCtrl();blinkFr(FrRun,0);blinkFr(FrPause,0); show(FrRun);hide(FrPause); show(FrRunCode);hide(FrPauseCode);  zRunCycle.pause();loadPicView(bmp);});
RatRun(FrStop,function(){showViewCtrl();blinkFr(FrStop,0); zRunCycle.stop();displayStopped();});
RatRun(FrCodeBT,function(){openCodeBT();});
var fInp=addInputFile(FrOpen,ERUN,function(){ loadBitmap(bmp,FrOpen.valueInputFileData[1][3],1000000000,1000000000,function(){Wpx=bmp.width; Hpx=bmp.height;}); eLay(PicView,["src",FrOpen.valueInputFileData[1][3]]); },"Base64",0,0,ERUN,ERUN);
RatRun(FrOpen,ERUN,function(){ blinkFr(FrOpen,0); fInp.click(); },ERUN);

function openCodeBT(){showViewCtrl();blinkFr(FrCodeBT,0); show(bgEditor);	scrScTab(); tb.EdTe.requestFocus();tb.showKeyboard();}

var R_CloseTB=function(){saveAllTab(); sCode=tb.getText();extractSCode(); saveData(["sCodeDraw",sCode]);hide(bgEditor);showViewCtrl();};
RatRun(FrCloseTB,R_CloseTB);
RatRun(FrNewCode,function(){blinkFr(FrNewCode,0);saveAllTab(); newCode(); sCode=tb.getText(); });

var CodeInp=addInputFile(FrOpenCode,ERUN,function(){
    newCode();
    tb.setText(FrOpenCode.valueInputFileData[1][3]);
    fileName=FILE_NAME_P1(FrOpenCode.valueInputFileData[1][0]);
	ATitle[recentTab].setText(fileName);
    saveAllTab();
},"Auto",0,0,ERUN,ERUN);
RatRun(FrOpenCode,ERUN,function(){ blinkFr(FrOpenCode,0); CodeInp.click(); },ERUN);

var bx=SFH_Confirm(); var fileName="";

RatRun(FrSaveCode,function(){blinkFr(FrSaveCode,0);saveAllTab();
	bx=SFH_Confirm().Input("",fileName).Title("Save As","File name :").ButtonName("Save","Cancel").size(1).setTheme(hueGA,satGA,lumGA,lumDarkGA).create(Touch).run(function(){
		fileName=bx.sOut;
		WD.sig("Saving...");
		delayF(function(){SAVE(fileName+".txt",tb.getText());WD.sig("Done");},20);
	},ERUN);
	bx.TeIn.Keyboard.setTheme(hueGA,satGA,lumGA,lumDarkGA==100?1:0);
});

var R_RunCode=function(){blinkFr(FrRunCode,0); blinkFr(FrPauseCode,0); saveAllTab(); sCode=tb.getText(); extractSCode(); saveData(["sCodeDraw",sCode]);hide(FrRun);show(FrPause); hide(FrRunCode);show(FrPauseCode); if (zRunCycle.kPaused==0||zRunCycle.kRemoved==1){launchCode();}else{zRunCycle.resume();} };
RatRun(FrRunCode,R_RunCode);
var R_RenameCode=function(){blinkFr(FrRenameCode,0);
	bx=SFH_Confirm().Input("",fileName).Title("Rename","Title :").ButtonName("Done","Cancel").size(1).setTheme(hueGA,satGA,lumGA,lumDarkGA).create(Touch).run(function(){
		fileName=bx.sOut;
		ATitle[recentTab].setText(fileName);
		saveData(["nameCodeDraw"+recentTab, fileName]);
	},ERUN);
	bx.TeIn.Keyboard.setTheme(hueGA,satGA,lumGA,lumDarkGA==100?1:0);
}
RatRun(FrRenameCode,R_RenameCode);

var R_PauseCode=function(){blinkFr(FrRunCode,0); blinkFr(FrPauseCode,0); show(FrRun); hide(FrPause); show(FrRunCode); hide(FrPauseCode);  zRunCycle.pause();loadPicView(bmp);};
RatRun(FrPauseCode,R_PauseCode);
var R_StopCode=function(){blinkFr(FrStopCode,0); zRunCycle.stop();displayStopped();};
RatRun(FrStopCode,R_StopCode);

var zPN=SFH_Panel();

function loadHelpText(FrScV_Map,i){var csLib=i*3;
        zTeSec=aText(FrScV_Map,["te",ASLib[csLib],"tecolo",colo1,"fosi",fs*0.8,"font","mono","lapa",[FR.W,FR.W,GRA.LT],"magi",[0,intS(""+(fs*1.8*i)),0,0] ,"sele",0]);
        hoverTe(zTeSec,"bold","italic","none");
        RatRun(zTeSec,function(){
            newCode();
            sCode=ASLib[csLib+1];
            if (ASLib[csLib+2].length>0){sCode+=sCycleA+ASLib[csLib+2]+sCycleB;}
            tb.setText(sCode); 
            zPN.remove();
            (new Handler()).post(R_StopCode);
            (new Handler()).post(R_RunCode);
        });
}
function openHelpCode(){
	blinkFr(FrHelpCode,0);
	zPN=SFH_Panel().size(1).Title("Manual").ExtraHeight(intS(""+(H*0.5))).setTheme(hueGA,satGA,lumGA,lumDarkGA).create(Touch);
			var nSec=ASLib.length/3;
			var ScV_Map, ScH_Map, FrScV_Map, zTeSec;
            
			ScV_Map = aScrV2(zPN.FrBody0,["lapa",[FR.M,FR.M,GRA.LT] ]);
			ScH_Map = aScrH2(ScV_Map,["lapa",[FR.M,FR.M,GRA.LT] ]);
			FrScV_Map = aFrLay(ScH_Map,["lapa",[mm(7000),intS(""+(fs*1.8*(nSec))),GRA.LT] ]);
            var zML=0,iML=0;
			for (var i=0;i<nSec;i++){var csLib=i*3;
                if (zML<ASLib[csLib].length){zML=ASLib[csLib].length;iML=csLib;}
            }
			zTeSec=aText(FrScV_Map,["te",ASLib[iML],"fosi",fs*0.8,"font","mono","lapa",[FR.W,FR.W,GRA.LT],"opac",0 ]);
            RatRun(zTeSec);
            eLay(FrScV_Map,["lapa",[zTeSec.getWidth(),intS(""+(fs*1.8*(nSec))),GRA.LT] ]);
            for (var i=0;i<nSec;i++){
                loadHelpText(FrScV_Map,i);
			}

}
RatRun(FrHelpCode,function(){openHelpCode();});

function loadVIPText(FrScV_Map,i){var csLib=i*3;
				zTeSec=aText(FrScV_Map,["te",ASVip[csLib],"tecolo",colo1,"fosi",fs*0.8,"font","mono","lapa",[FR.W,FR.W,GRA.LT],"magi",[0,intS(""+(fs*1.8*i)),0,0],"sele",0 ]);
                hoverTe(zTeSec,"bold","italic","none");
				RatRun(zTeSec,function(){
                    newCode();
                    sCode=ASVip[csLib+1];
					if (ASVip[csLib+2].length>0){sCode+=sCycleA+ASVip[csLib+2]+sCycleB;}
					tb.setText(sCode);
                    zPN.remove();
                    (new Handler()).post(R_StopCode);
                    (new Handler()).post(R_RunCode);
				});
}
function openVIPCode(){
	blinkFr(FrVIPCode,0);
	zPN=SFH_Panel().size(1).Title("Especially Thanks To").ExtraHeight(intS(""+(H*0.5))).setTheme(hueGA,satGA,lumGA,lumDarkGA).create(Touch);
			var nSec=ASVip.length/3;
			var ScV_Map, ScH_Map, FrScV_Map, zTeSec;
			ScV_Map = aScrV2(zPN.FrBody0,["lapa",[FR.M,FR.M,GRA.LT] ]);
			ScH_Map = aScrH2(ScV_Map,["lapa",[FR.M,FR.M,GRA.LT] ]);
			FrScV_Map = aFrLay(ScH_Map,["lapa",[FR.M,intS(""+(fs*1.8*(nSec))),GRA.LT] ]);
            
            var zML=0,iML=0;
			for (var i=0;i<nSec;i++){var csLib=i*3;
                if (zML<ASVip[csLib].length){zML=ASVip[csLib].length;iML=csLib;}
            }
			zTeSec=aText(FrScV_Map,["te",ASVip[iML],"fosi",fs*0.8,"font","mono","lapa",[FR.W,FR.W,GRA.LT],"opac",0 ]);
            RatRun(zTeSec);
            eLay(FrScV_Map,["lapa",[zTeSec.getWidth(),intS(""+(fs*1.8*(nSec))),GRA.LT] ]);
            
			for (var i=0;i<nSec;i++){
                loadVIPText(FrScV_Map,i);
			}
}
RatRun(FrVIPCode,function(){openVIPCode();});


function scrScTab(){delayF(function(){ScTab.scrollTo(recentTab*iW20-(W-iW20)/2,0);},20);}
var tb;
var AFrTab=[],ATitle=[],AFrClose=[], ATextBox=[];

function loadTabContent(i){var zId=i+1; var j=i;
            AFrTab[i]=aFrLay(FrLTab,["lapa",[iW20,FR.M,GRA.LT],"magi",[iW20*i,0,0,0]]);
            addBackground(AFrTab[i],8, graTab0,1,[], [mmR,mmR, mmR,mmR, 0,0,0,0] );
            

                ATitle[i]=aText(AFrTab[i],["te",loadStringData("nameCodeDraw"+zId),"tecolo",colo1,"font","mono","fosi",FS(fs*2/3),"lapa",[FR.W,FR.W,GRA.CL],"scr",2,"magi",[mmR*3,0,iW3,0] ,"sele",0,"muli",1]);
                AFrClose[i]=aFrLay(AFrTab[i],["lapa",[iW3,iW3,GRA.RT] ]);
                    aPic(AFrClose[i],["lapa",[FR.M,FR.M,GRA.C ],"sc",0.5,"src",raw.cross_m ]);
			
			ATextBox[i] = aTextBox(FrLTextBox,["lapa",[FR.M,FR.M,GRA.LT],"fofa","mono","fosi",FS(fs*3/4),"tecolo",hsla(0,0,lumDarkGA,0.9),"sele",1,"muli",2,"dipl",1]);
            eEdText(ATextBox[i].EdTe,["padi",[mmL*3.5,mmL*1.5,0,0],"te",loadStringData("sCodeDraw"+zId)  ]);


			
			
			
			
			
			
			
            
        RatRun(AFrTab[i],function(){selectTab(j);});
		RatRun(ATitle[i],function(){selectTab(j);});
		RatRun(AFrClose[i],function(){removeTab(j);});
}
function loadTab(){
	FrLTab.removeAllViews();
	for (var i=0;i<ATextBox.length;i++){ATextBox[i].remove();}
	FrLTextBox.removeAllViews();
	var zTab,zTitle,zFrClose,zPicClose, zTB;
	var zId=0;
	AFrTab=[];
	ATitle=[];
	AFrClose=[];
	
    wrapMe(aFrLay(FrLTab,["lapa",[iW20*nCode,FR.M,GRA.LT]]));

	for (var i=0;i<nCode;i++){zId=i+1; var j=i;
		loadTabContent(i);
	}
	selectTab(recentTab);
	scrScTab();
}



var crTab=0;
function selectTab(id){crTab=id;recentTab=id; saveData(["rcTabCodeDraw",""+recentTab]);
	tb=ATextBox[id];
	sCode=tb.getText();
    fileName=ATitle[id].getText()+"";
	for (var i=0;i<nCode;i++){
		if (i!=id){addBackground(AFrTab[i],8, graTab0,1,[], [mmR,mmR, mmR,mmR, 0,0,0,0] ); hide(ATextBox[i].EdTe);}
		else {addBackground(AFrTab[i],2, graTab1,1,[], [mmR,mmR, mmR,mmR, 0,0,0,0] ); show(ATextBox[i].EdTe);}
        hoverFrHSLA(AFrTab[i],hueGA,satGA,50,1,mmR);
	}
}


function removeTab(id){saveAllTab();
	var zId;
	for (var i=id;i<nCode-1;i++){zId=i+1;
		saveData(["nameCodeDraw"+zId, loadStringData("nameCodeDraw"+(zId+1)),  "sCodeDraw"+zId, loadStringData("sCodeDraw"+(zId+1)) ]);
	}
	saveData(["nameCodeDraw"+nCode,"",  "sCodeDraw"+nCode,"" ]);
	nCode-=1; saveData(["nCodeDraw",""+nCode]);
	if (id==recentTab){recentTab=Min(recentTab,nCode-1);}else{recentTab=Max(0,recentTab-1);}
	if (nCode<=0){newCode();}else{loadTab();}
}


function saveAllTab(){ var zId;

	for (var i=0;i<nCode;i++){zId=i+1;
		saveData(["nameCodeDraw"+zId,ATitle[i].getText()+"", "sCodeDraw"+zId, ATextBox[i].getText() ]);
	}
    

}

if (nCode==0){newCode();}else{loadTab();}


function loadPicView(src){
		scPicView=1;iscPicView=1;
		txPicView=0;tyPicView=0; itxPicView=0;ityPicView=0;
		rPicView=0;irPicView=0;
		ePic(PicView,["sc",iscPicView,"tx",txPicView,"ty",tyPicView,"r",irPicView]);
		ePic(PicView,["src",src]);
}

onmousewheel(bgView,function(){
    if (!bgEditor.kVisibility){
        var dZoom=(1+bgView.valueWheelDelta/3600);
        iscPicView=iscPicView*dZoom;
        txPicView=txPicView*dZoom;
        tyPicView=tyPicView*dZoom;
        ePic(PicView,["sc",iscPicView,"tx",txPicView,"ty",tyPicView]);
    }
});


show(bgView); 


var kHideTool=0;
function showViewCtrl(){
	kHideTool+=1; if (kHideTool>9){kHideTool=0;}
	var key=kHideTool;

}

showViewCtrl();


delayF(function(){openCodeBT();blinkFr(FrCodeBT,0);},100);
delayF(function(){showViewCtrl();blinkFr(FrHelpCode,0);},500);
delayF(function(){openHelpCode();},900);


































var X0a=0,Y0a=0, X0b=0,Y0b=0; 
var Xa=0,Ya=0, Xb=0,Yb=0; 
var dX0=0,dY0=0,d0=1, dXn=0,dYn=0,dn=1, rd=1; 
var cX0=0,cY0=0, cXn=0,cYn=0; 

var scPicView=1,iscPicView=1; 
var txPicView=0,tyPicView=0, itxPicView=0,ityPicView=0; 
var phi0=0,phiN=0,dPhi=0; 
var rPicView=0,irPicView=0; 

var RootX0=W/2,RootY0=H/2; 
var RootX=W/2,RootY=H/2; 
var iRootX=W/2,iRootY=H/2; 
var dRootCX0=0,dRootCY0=0; 
var zDis=0,zPhi=0,zXn=0,zYn=0; 

var bOnMove=false;
var bMove=true,bZoom=true,bRotate=true; 

var iRat=Rat;
var nRatDown=0,inRatDown=0;

RatRun(bgView,function(){bOnMove=true; if (nRatDown<0){nRatDown=0;} nRatDown+=1;
	if (nRatDown==1 && Rat.length>2){Rat=[Rat[0],Rat[1]];}
	if (nRatDown>1 && Rat.length==2){}
	else{
		
		loadChangeRat(Rat,true);
		iRat=Rat;inRatDown=nRatDown;
	}
},function(){ if ((nRatDown>1) && Rat2[0]==-1 && Rat2[1]==-1){nRatDown=0;} nRatDown-=1;
	if (nRatDown==1 && Rat.length==2){Rat=iRat;}
	else if (nRatDown==0 && Rat.length>3){Rat=[Rat[0],Rat[1]];}
	
	loadChangeRat(Rat,false);
	iRat=Rat;inRatDown=nRatDown;
},function(){ if ((nRatDown>1) && Rat2[0]==-1 && Rat2[1]==-1){nRatDown=0;}
	if (nRatDown>1 && Rat.length==2){Rat=iRat;}
	if (!(nRatDown==1 && Rat.length>2)){
		if (inRatDown==1 && nRatDown>1){
			
			loadChangeRat(Rat,true);
			iRat=Rat;inRatDown=nRatDown;
		}
		
		loadMovePic();
		inRatDown=nRatDown;
	}
	if (nRatDown==1 && Rat.length==nRatDown*2){iRat=Rat;}
	
});






var R_ClickPic=function(){showViewCtrl();}
var iIsDown=false;
var iARat=[];
var penClick=false;
function loadChangeRat( ARat, isDown){
	if (isDown){
		if (nRatDown==1){ X0a=Rat1[0];Y0a=Rat1[1];penClick=true;}
		else if (nRatDown>1){var inR=nRatDown;penClick=false;
			nRatDown=0;loadChangeRat(iARat, false);nRatDown=inR;
			X0a=Rat1[0];Y0a=Rat1[1];  X0b=Rat2[0];Y0b=Rat2[1];
			Xa=X0a;Ya=Y0a;  Xb=X0b;Yb=Y0b;
			cX0=(X0a+X0b)/2;cY0=(Y0a+Y0b)/2;
			dRootCX0=RootX-cX0; dRootCY0=RootY-cY0;
			if (bZoom){
				dX0=X0b-X0a;dY0=Y0b-Y0a;d0=Max(1,sqrt(dX0*dX0+dY0*dY0));
				dXn=Xb-Xa;dYn=Yb-Ya;dn=Max(1,sqrt(dXn*dXn+dYn*dYn));
				rd=Max(0.01,dn/d0);
			}
			if (bRotate){phi0=getPhi(X0b-X0a,Y0b-Y0a);}
		}
		loadMovePic();
	}
	else{
		if (nRatDown==0){ if (penClick && abs(txPicView-itxPicView)+abs(tyPicView-ityPicView)<4){Run(R_ClickPic);} penClick=false;
			txPicView=itxPicView; tyPicView=ityPicView;
			RootX=RootX0+txPicView; RootY=RootY0+tyPicView;
			loadMovePic();
		}
		else if (nRatDown>0){
			scPicView=iscPicView;
			rPicView=irPicView;
			RootX=iRootX;RootY=iRootY;
			txPicView=RootX-RootX0; tyPicView=RootY-RootY0;
			itxPicView=txPicView; ityPicView=tyPicView;
			delayF(function(){
				X0a=Rat1[0];Y0a=Rat1[1];isDown=true;iIsDown=isDown;
			},20);
		}
	}
	iIsDown=isDown;
}





function loadMovePic(){loadMovePic(true);}
function loadMovePic(kDis){if (iIsDown){
	if (nRatDown==1){
		Xa=Rat1[0];Ya=Rat1[1];
		if (!iIsDown){ 
			if (iARat.length>3){
				if (abs(floor(Xa)-floor(iARat[0]))<2 && abs(floor(Ya)-floor(iARat[1]))<2){X0a=iARat[0];Y0a=iARat[1];}
				else{X0a=iARat[2];Y0a=iARat[3];}
			}
		}
		itxPicView=txPicView+Xa-X0a;  ityPicView=tyPicView+Ya-Y0a;
		ePic(PicView,["tx",itxPicView,"ty",ityPicView]);
	}
	else if (nRatDown>1){
		Xa=Rat1[0];Ya=Rat1[1];  Xb=Rat2[0];Yb=Rat2[1];
		if (Xb==-1&&Yb==-1){}
		else{
			if (bMove){cXn=(Xa+Xb)/2;cYn=(Ya+Yb)/2;}else{cXn=cX0;cYn=cY0;}
			if (bZoom){
				dXn=Xb-Xa;dYn=Yb-Ya;dn=Max(1,sqrt(dXn*dXn+dYn*dYn));
				rd=Max(0.01,dn/d0);
				iscPicView=scPicView*rd; 
			}
			if (bRotate){
				phiN=getPhi(Xb-Xa,Yb-Ya);
				dPhi=phiN-phi0; irPicView=rPicView+dPhi;
			}
			zDis=sqrt(dRootCX0*dRootCX0 + dRootCY0*dRootCY0);
			zPhi=getPhi(dRootCX0,dRootCY0)+dPhi;
			iRootX=cXn+zDis*cos(toRAD(zPhi))*rd;
			iRootY=cYn+zDis*sin(toRAD(zPhi))*rd;
			txPicView=iRootX-RootX0; tyPicView=iRootY-RootY0;
			if (kDis){ePic(PicView,["sc",iscPicView,"tx",txPicView,"ty",tyPicView,"r",irPicView]);}
		}
	}
}iARat=Rat;}




</script>















</body>
</html>